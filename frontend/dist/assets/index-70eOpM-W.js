var pv=Object.defineProperty;var mv=(r,a,s)=>a in r?pv(r,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[a]=s;var Fo=(r,a,s)=>mv(r,typeof a!="symbol"?a+"":a,s);function Av(r,a){for(var s=0;s<a.length;s++){const l=a[s];if(typeof l!="string"&&!Array.isArray(l)){for(const f in l)if(f!=="default"&&!(f in r)){const d=Object.getOwnPropertyDescriptor(l,f);d&&Object.defineProperty(r,f,d.get?d:{enumerable:!0,get:()=>l[f]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))l(f);new MutationObserver(f=>{for(const d of f)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function s(f){const d={};return f.integrity&&(d.integrity=f.integrity),f.referrerPolicy&&(d.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?d.credentials="include":f.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(f){if(f.ep)return;f.ep=!0;const d=s(f);fetch(f.href,d)}})();var yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Us(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function xA(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var a=r.default;if(typeof a=="function"){var s=function l(){return this instanceof l?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};s.prototype=a.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(r).forEach(function(l){var f=Object.getOwnPropertyDescriptor(r,l);Object.defineProperty(s,l,f.get?f:{enumerable:!0,get:function(){return r[l]}})}),s}var _f={exports:{}},Ma={},wf={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp;function gv(){if(dp)return st;dp=1;var r=Symbol.for("react.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),m=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function w(D){return D===null||typeof D!="object"?null:(D=v&&D[v]||D["@@iterator"],typeof D=="function"?D:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,C={};function E(D,Z,$){this.props=D,this.context=Z,this.refs=C,this.updater=$||S}E.prototype.isReactComponent={},E.prototype.setState=function(D,Z){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Z,"setState")},E.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function P(){}P.prototype=E.prototype;function B(D,Z,$){this.props=D,this.context=Z,this.refs=C,this.updater=$||S}var k=B.prototype=new P;k.constructor=B,T(k,E.prototype),k.isPureReactComponent=!0;var I=Array.isArray,N=Object.prototype.hasOwnProperty,z={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function H(D,Z,$){var X,fe={},he=null,ke=null;if(Z!=null)for(X in Z.ref!==void 0&&(ke=Z.ref),Z.key!==void 0&&(he=""+Z.key),Z)N.call(Z,X)&&!j.hasOwnProperty(X)&&(fe[X]=Z[X]);var Ae=arguments.length-2;if(Ae===1)fe.children=$;else if(1<Ae){for(var qe=Array(Ae),Ye=0;Ye<Ae;Ye++)qe[Ye]=arguments[Ye+2];fe.children=qe}if(D&&D.defaultProps)for(X in Ae=D.defaultProps,Ae)fe[X]===void 0&&(fe[X]=Ae[X]);return{$$typeof:r,type:D,key:he,ref:ke,props:fe,_owner:z.current}}function K(D,Z){return{$$typeof:r,type:D.type,key:Z,ref:D.ref,props:D.props,_owner:D._owner}}function U(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function G(D){var Z={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function($){return Z[$]})}var re=/\/+/g;function V(D,Z){return typeof D=="object"&&D!==null&&D.key!=null?G(""+D.key):Z.toString(36)}function J(D,Z,$,X,fe){var he=typeof D;(he==="undefined"||he==="boolean")&&(D=null);var ke=!1;if(D===null)ke=!0;else switch(he){case"string":case"number":ke=!0;break;case"object":switch(D.$$typeof){case r:case a:ke=!0}}if(ke)return ke=D,fe=fe(ke),D=X===""?"."+V(ke,0):X,I(fe)?($="",D!=null&&($=D.replace(re,"$&/")+"/"),J(fe,Z,$,"",function(Ye){return Ye})):fe!=null&&(U(fe)&&(fe=K(fe,$+(!fe.key||ke&&ke.key===fe.key?"":(""+fe.key).replace(re,"$&/")+"/")+D)),Z.push(fe)),1;if(ke=0,X=X===""?".":X+":",I(D))for(var Ae=0;Ae<D.length;Ae++){he=D[Ae];var qe=X+V(he,Ae);ke+=J(he,Z,$,qe,fe)}else if(qe=w(D),typeof qe=="function")for(D=qe.call(D),Ae=0;!(he=D.next()).done;)he=he.value,qe=X+V(he,Ae++),ke+=J(he,Z,$,qe,fe);else if(he==="object")throw Z=String(D),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return ke}function le(D,Z,$){if(D==null)return D;var X=[],fe=0;return J(D,X,"","",function(he){return Z.call($,he,fe++)}),X}function oe(D){if(D._status===-1){var Z=D._result;Z=Z(),Z.then(function($){(D._status===0||D._status===-1)&&(D._status=1,D._result=$)},function($){(D._status===0||D._status===-1)&&(D._status=2,D._result=$)}),D._status===-1&&(D._status=0,D._result=Z)}if(D._status===1)return D._result.default;throw D._result}var de={current:null},q={transition:null},me={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:q,ReactCurrentOwner:z};function ne(){throw Error("act(...) is not supported in production builds of React.")}return st.Children={map:le,forEach:function(D,Z,$){le(D,function(){Z.apply(this,arguments)},$)},count:function(D){var Z=0;return le(D,function(){Z++}),Z},toArray:function(D){return le(D,function(Z){return Z})||[]},only:function(D){if(!U(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},st.Component=E,st.Fragment=s,st.Profiler=f,st.PureComponent=B,st.StrictMode=l,st.Suspense=x,st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,st.act=ne,st.cloneElement=function(D,Z,$){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var X=T({},D.props),fe=D.key,he=D.ref,ke=D._owner;if(Z!=null){if(Z.ref!==void 0&&(he=Z.ref,ke=z.current),Z.key!==void 0&&(fe=""+Z.key),D.type&&D.type.defaultProps)var Ae=D.type.defaultProps;for(qe in Z)N.call(Z,qe)&&!j.hasOwnProperty(qe)&&(X[qe]=Z[qe]===void 0&&Ae!==void 0?Ae[qe]:Z[qe])}var qe=arguments.length-2;if(qe===1)X.children=$;else if(1<qe){Ae=Array(qe);for(var Ye=0;Ye<qe;Ye++)Ae[Ye]=arguments[Ye+2];X.children=Ae}return{$$typeof:r,type:D.type,key:fe,ref:he,props:X,_owner:ke}},st.createContext=function(D){return D={$$typeof:m,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:d,_context:D},D.Consumer=D},st.createElement=H,st.createFactory=function(D){var Z=H.bind(null,D);return Z.type=D,Z},st.createRef=function(){return{current:null}},st.forwardRef=function(D){return{$$typeof:h,render:D}},st.isValidElement=U,st.lazy=function(D){return{$$typeof:y,_payload:{_status:-1,_result:D},_init:oe}},st.memo=function(D,Z){return{$$typeof:p,type:D,compare:Z===void 0?null:Z}},st.startTransition=function(D){var Z=q.transition;q.transition={};try{D()}finally{q.transition=Z}},st.unstable_act=ne,st.useCallback=function(D,Z){return de.current.useCallback(D,Z)},st.useContext=function(D){return de.current.useContext(D)},st.useDebugValue=function(){},st.useDeferredValue=function(D){return de.current.useDeferredValue(D)},st.useEffect=function(D,Z){return de.current.useEffect(D,Z)},st.useId=function(){return de.current.useId()},st.useImperativeHandle=function(D,Z,$){return de.current.useImperativeHandle(D,Z,$)},st.useInsertionEffect=function(D,Z){return de.current.useInsertionEffect(D,Z)},st.useLayoutEffect=function(D,Z){return de.current.useLayoutEffect(D,Z)},st.useMemo=function(D,Z){return de.current.useMemo(D,Z)},st.useReducer=function(D,Z,$){return de.current.useReducer(D,Z,$)},st.useRef=function(D){return de.current.useRef(D)},st.useState=function(D){return de.current.useState(D)},st.useSyncExternalStore=function(D,Z,$){return de.current.useSyncExternalStore(D,Z,$)},st.useTransition=function(){return de.current.useTransition()},st.version="18.3.1",st}var fp;function r0(){return fp||(fp=1,wf.exports=gv()),wf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hp;function xv(){if(hp)return Ma;hp=1;var r=r0(),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,f=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function m(h,x,p){var y,v={},w=null,S=null;p!==void 0&&(w=""+p),x.key!==void 0&&(w=""+x.key),x.ref!==void 0&&(S=x.ref);for(y in x)l.call(x,y)&&!d.hasOwnProperty(y)&&(v[y]=x[y]);if(h&&h.defaultProps)for(y in x=h.defaultProps,x)v[y]===void 0&&(v[y]=x[y]);return{$$typeof:a,type:h,key:w,ref:S,props:v,_owner:f.current}}return Ma.Fragment=s,Ma.jsx=m,Ma.jsxs=m,Ma}var pp;function vv(){return pp||(pp=1,_f.exports=xv()),_f.exports}var F=vv(),R=r0();const be=Us(R),i0=Av({__proto__:null,default:be},[R]);var wu={},bf={exports:{}},Hn={},Cf={exports:{}},Ef={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp;function yv(){return mp||(mp=1,(function(r){function a(q,me){var ne=q.length;q.push(me);e:for(;0<ne;){var D=ne-1>>>1,Z=q[D];if(0<f(Z,me))q[D]=me,q[ne]=Z,ne=D;else break e}}function s(q){return q.length===0?null:q[0]}function l(q){if(q.length===0)return null;var me=q[0],ne=q.pop();if(ne!==me){q[0]=ne;e:for(var D=0,Z=q.length,$=Z>>>1;D<$;){var X=2*(D+1)-1,fe=q[X],he=X+1,ke=q[he];if(0>f(fe,ne))he<Z&&0>f(ke,fe)?(q[D]=ke,q[he]=ne,D=he):(q[D]=fe,q[X]=ne,D=X);else if(he<Z&&0>f(ke,ne))q[D]=ke,q[he]=ne,D=he;else break e}}return me}function f(q,me){var ne=q.sortIndex-me.sortIndex;return ne!==0?ne:q.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var m=Date,h=m.now();r.unstable_now=function(){return m.now()-h}}var x=[],p=[],y=1,v=null,w=3,S=!1,T=!1,C=!1,E=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(q){for(var me=s(p);me!==null;){if(me.callback===null)l(p);else if(me.startTime<=q)l(p),me.sortIndex=me.expirationTime,a(x,me);else break;me=s(p)}}function I(q){if(C=!1,k(q),!T)if(s(x)!==null)T=!0,oe(N);else{var me=s(p);me!==null&&de(I,me.startTime-q)}}function N(q,me){T=!1,C&&(C=!1,P(H),H=-1),S=!0;var ne=w;try{for(k(me),v=s(x);v!==null&&(!(v.expirationTime>me)||q&&!G());){var D=v.callback;if(typeof D=="function"){v.callback=null,w=v.priorityLevel;var Z=D(v.expirationTime<=me);me=r.unstable_now(),typeof Z=="function"?v.callback=Z:v===s(x)&&l(x),k(me)}else l(x);v=s(x)}if(v!==null)var $=!0;else{var X=s(p);X!==null&&de(I,X.startTime-me),$=!1}return $}finally{v=null,w=ne,S=!1}}var z=!1,j=null,H=-1,K=5,U=-1;function G(){return!(r.unstable_now()-U<K)}function re(){if(j!==null){var q=r.unstable_now();U=q;var me=!0;try{me=j(!0,q)}finally{me?V():(z=!1,j=null)}}else z=!1}var V;if(typeof B=="function")V=function(){B(re)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,le=J.port2;J.port1.onmessage=re,V=function(){le.postMessage(null)}}else V=function(){E(re,0)};function oe(q){j=q,z||(z=!0,V())}function de(q,me){H=E(function(){q(r.unstable_now())},me)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_continueExecution=function(){T||S||(T=!0,oe(N))},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_getFirstCallbackNode=function(){return s(x)},r.unstable_next=function(q){switch(w){case 1:case 2:case 3:var me=3;break;default:me=w}var ne=w;w=me;try{return q()}finally{w=ne}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(q,me){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ne=w;w=q;try{return me()}finally{w=ne}},r.unstable_scheduleCallback=function(q,me,ne){var D=r.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?D+ne:D):ne=D,q){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ne+Z,q={id:y++,callback:me,priorityLevel:q,startTime:ne,expirationTime:Z,sortIndex:-1},ne>D?(q.sortIndex=ne,a(p,q),s(x)===null&&q===s(p)&&(C?(P(H),H=-1):C=!0,de(I,ne-D))):(q.sortIndex=Z,a(x,q),T||S||(T=!0,oe(N))),q},r.unstable_shouldYield=G,r.unstable_wrapCallback=function(q){var me=w;return function(){var ne=w;w=me;try{return q.apply(this,arguments)}finally{w=ne}}}})(Ef)),Ef}var Ap;function _v(){return Ap||(Ap=1,Cf.exports=yv()),Cf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp;function wv(){if(gp)return Hn;gp=1;var r=r0(),a=_v();function s(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,f={};function d(e,n){m(e,n),m(e+"Capture",n)}function m(e,n){for(f[e]=n,e=0;e<n.length;e++)l.add(n[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function w(e){return x.call(v,e)?!0:x.call(y,e)?!1:p.test(e)?v[e]=!0:(y[e]=!0,!1)}function S(e,n,o,c){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function T(e,n,o,c){if(n===null||typeof n>"u"||S(e,n,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function C(e,n,o,c,g,_,M){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=c,this.attributeNamespace=g,this.mustUseProperty=o,this.propertyName=e,this.type=n,this.sanitizeURL=_,this.removeEmptyString=M}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){E[e]=new C(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];E[n]=new C(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){E[e]=new C(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){E[e]=new C(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){E[e]=new C(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){E[e]=new C(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){E[e]=new C(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){E[e]=new C(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){E[e]=new C(e,5,!1,e.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function B(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(P,B);E[n]=new C(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(P,B);E[n]=new C(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(P,B);E[n]=new C(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){E[e]=new C(e,1,!1,e.toLowerCase(),null,!1,!1)}),E.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){E[e]=new C(e,1,!1,e.toLowerCase(),null,!0,!0)});function k(e,n,o,c){var g=E.hasOwnProperty(n)?E[n]:null;(g!==null?g.type!==0:c||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(T(n,o,g,c)&&(o=null),c||g===null?w(n)&&(o===null?e.removeAttribute(n):e.setAttribute(n,""+o)):g.mustUseProperty?e[g.propertyName]=o===null?g.type===3?!1:"":o:(n=g.attributeName,c=g.attributeNamespace,o===null?e.removeAttribute(n):(g=g.type,o=g===3||g===4&&o===!0?"":""+o,c?e.setAttributeNS(c,n,o):e.setAttribute(n,o))))}var I=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),z=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),G=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),q=Symbol.iterator;function me(e){return e===null||typeof e!="object"?null:(e=q&&e[q]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Object.assign,D;function Z(e){if(D===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);D=n&&n[1]||""}return`
`+D+e}var $=!1;function X(e,n){if(!e||$)return"";$=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(ce){var c=ce}Reflect.construct(e,[],n)}else{try{n.call()}catch(ce){c=ce}e.call(n.prototype)}else{try{throw Error()}catch(ce){c=ce}e()}}catch(ce){if(ce&&c&&typeof ce.stack=="string"){for(var g=ce.stack.split(`
`),_=c.stack.split(`
`),M=g.length-1,W=_.length-1;1<=M&&0<=W&&g[M]!==_[W];)W--;for(;1<=M&&0<=W;M--,W--)if(g[M]!==_[W]){if(M!==1||W!==1)do if(M--,W--,0>W||g[M]!==_[W]){var Y=`
`+g[M].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=M&&0<=W);break}}}finally{$=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?Z(e):""}function fe(e){switch(e.tag){case 5:return Z(e.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return e=X(e.type,!1),e;case 11:return e=X(e.type.render,!1),e;case 1:return e=X(e.type,!0),e;default:return""}}function he(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case z:return"Portal";case K:return"Profiler";case H:return"StrictMode";case V:return"Suspense";case J:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case G:return(e.displayName||"Context")+".Consumer";case U:return(e._context.displayName||"Context")+".Provider";case re:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case le:return n=e.displayName||null,n!==null?n:he(e.type)||"Memo";case oe:n=e._payload,e=e._init;try{return he(e(n))}catch{}}return null}function ke(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(n);case 8:return n===H?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Ae(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qe(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ye(e){var n=qe(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),c=""+e[n];if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var g=o.get,_=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return g.call(this)},set:function(M){c=""+M,_.call(this,M)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(M){c=""+M},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Et(e){e._valueTracker||(e._valueTracker=Ye(e))}function ht(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),c="";return e&&(c=qe(e)?e.checked?"true":"false":e.value),e=c,e!==o?(n.setValue(e),!0):!1}function Se(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ve(e,n){var o=n.checked;return ne({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function dt(e,n){var o=n.defaultValue==null?"":n.defaultValue,c=n.checked!=null?n.checked:n.defaultChecked;o=Ae(n.value!=null?n.value:o),e._wrapperState={initialChecked:c,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Mt(e,n){n=n.checked,n!=null&&k(e,"checked",n,!1)}function vt(e,n){Mt(e,n);var o=Ae(n.value),c=n.type;if(o!=null)c==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(c==="submit"||c==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Qe(e,n.type,o):n.hasOwnProperty("defaultValue")&&Qe(e,n.type,Ae(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function ot(e,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var c=n.type;if(!(c!=="submit"&&c!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,o||n===e.value||(e.value=n),e.defaultValue=n}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function Qe(e,n,o){(n!=="number"||Se(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var Xe=Array.isArray;function et(e,n,o,c){if(e=e.options,n){n={};for(var g=0;g<o.length;g++)n["$"+o[g]]=!0;for(o=0;o<e.length;o++)g=n.hasOwnProperty("$"+e[o].value),e[o].selected!==g&&(e[o].selected=g),g&&c&&(e[o].defaultSelected=!0)}else{for(o=""+Ae(o),n=null,g=0;g<e.length;g++){if(e[g].value===o){e[g].selected=!0,c&&(e[g].defaultSelected=!0);return}n!==null||e[g].disabled||(n=e[g])}n!==null&&(n.selected=!0)}}function Oe(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(s(91));return ne({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _t(e,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(s(92));if(Xe(o)){if(1<o.length)throw Error(s(93));o=o[0]}n=o}n==null&&(n=""),o=n}e._wrapperState={initialValue:Ae(o)}}function $t(e,n){var o=Ae(n.value),c=Ae(n.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),n.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),c!=null&&(e.defaultValue=""+c)}function Un(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function It(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jt(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?It(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fn,Sn=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,c,g){MSApp.execUnsafeLocalFunction(function(){return e(n,o,c,g)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(fn=fn||document.createElement("div"),fn.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=fn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Ut(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var St={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zt=["Webkit","ms","Moz","O"];Object.keys(St).forEach(function(e){Zt.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),St[n]=St[e]})});function Zn(e,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||St.hasOwnProperty(e)&&St[e]?(""+n).trim():n+"px"}function xn(e,n){e=e.style;for(var o in n)if(n.hasOwnProperty(o)){var c=o.indexOf("--")===0,g=Zn(o,n[o],c);o==="float"&&(o="cssFloat"),c?e.setProperty(o,g):e[o]=g}}var pe=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function we(e,n){if(n){if(pe[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(s(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(s(61))}if(n.style!=null&&typeof n.style!="object")throw Error(s(62))}}function te(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function Ee(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var He=null,ze=null,nt=null;function hn(e){if(e=li(e)){if(typeof He!="function")throw Error(s(280));var n=e.stateNode;n&&(n=xs(n),He(e.stateNode,e.type,n))}}function je(e){ze?nt?nt.push(e):nt=[e]:ze=e}function pt(){if(ze){var e=ze,n=nt;if(nt=ze=null,hn(e),n)for(e=0;e<n.length;e++)hn(n[e])}}function kt(e,n){return e(n)}function Rt(){}var Fn=!1;function rt(e,n,o){if(Fn)return e(n,o);Fn=!0;try{return kt(e,n,o)}finally{Fn=!1,(ze!==null||nt!==null)&&(Rt(),pt())}}function wt(e,n){var o=e.stateNode;if(o===null)return null;var c=xs(o);if(c===null)return null;o=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(s(231,n,typeof o));return o}var Wn=!1;if(h)try{var mt={};Object.defineProperty(mt,"passive",{get:function(){Wn=!0}}),window.addEventListener("test",mt,mt),window.removeEventListener("test",mt,mt)}catch{Wn=!1}function Ft(e,n,o,c,g,_,M,W,Y){var ce=Array.prototype.slice.call(arguments,3);try{n.apply(o,ce)}catch(ye){this.onError(ye)}}var Wt=!1,Pe=null,wi=!1,Go=null,ul={onError:function(e){Wt=!0,Pe=e}};function cl(e,n,o,c,g,_,M,W,Y){Wt=!1,Pe=null,Ft.apply(ul,arguments)}function Gs(e,n,o,c,g,_,M,W,Y){if(cl.apply(this,arguments),Wt){if(Wt){var ce=Pe;Wt=!1,Pe=null}else throw Error(s(198));wi||(wi=!0,Go=ce)}}function Nr(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function Yr(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Qs(e){if(Nr(e)!==e)throw Error(s(188))}function Yc(e){var n=e.alternate;if(!n){if(n=Nr(e),n===null)throw Error(s(188));return n!==e?null:e}for(var o=e,c=n;;){var g=o.return;if(g===null)break;var _=g.alternate;if(_===null){if(c=g.return,c!==null){o=c;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===o)return Qs(g),e;if(_===c)return Qs(g),n;_=_.sibling}throw Error(s(188))}if(o.return!==c.return)o=g,c=_;else{for(var M=!1,W=g.child;W;){if(W===o){M=!0,o=g,c=_;break}if(W===c){M=!0,c=g,o=_;break}W=W.sibling}if(!M){for(W=_.child;W;){if(W===o){M=!0,o=_,c=g;break}if(W===c){M=!0,c=_,o=g;break}W=W.sibling}if(!M)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?e:n}function dl(e){return e=Yc(e),e!==null?fl(e):null}function fl(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=fl(e);if(n!==null)return n;e=e.sibling}return null}var hl=a.unstable_scheduleCallback,Ks=a.unstable_cancelCallback,Xc=a.unstable_shouldYield,Qo=a.unstable_requestPaint,Ot=a.unstable_now,Jc=a.unstable_getCurrentPriorityLevel,$s=a.unstable_ImmediatePriority,pl=a.unstable_UserBlockingPriority,Ko=a.unstable_NormalPriority,Ys=a.unstable_LowPriority,bi=a.unstable_IdlePriority,ao=null,qn=null;function lo(e){if(qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(ao,e,void 0,(e.current.flags&128)===128)}catch{}}var Je=Math.clz32?Math.clz32:Ci,Tt=Math.log,$o=Math.LN2;function Ci(e){return e>>>=0,e===0?32:31-(Tt(e)/$o|0)|0}var vr=64,Ei=4194304;function $e(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Bt(e,n){var o=e.pendingLanes;if(o===0)return 0;var c=0,g=e.suspendedLanes,_=e.pingedLanes,M=o&268435455;if(M!==0){var W=M&~g;W!==0?c=$e(W):(_&=M,_!==0&&(c=$e(_)))}else M=o&~g,M!==0?c=$e(M):_!==0&&(c=$e(_));if(c===0)return 0;if(n!==0&&n!==c&&(n&g)===0&&(g=c&-c,_=n&-n,g>=_||g===16&&(_&4194240)!==0))return n;if((c&4)!==0&&(c|=o&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=c;0<n;)o=31-Je(n),g=1<<o,c|=e[o],n&=~g;return c}function Xs(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yo(e,n){for(var o=e.suspendedLanes,c=e.pingedLanes,g=e.expirationTimes,_=e.pendingLanes;0<_;){var M=31-Je(_),W=1<<M,Y=g[M];Y===-1?((W&o)===0||(W&c)!==0)&&(g[M]=Xs(W,n)):Y<=n&&(e.expiredLanes|=W),_&=~W}}function vn(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ml(){var e=vr;return vr<<=1,(vr&4194240)===0&&(vr=64),e}function ki(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function Gn(e,n,o){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Je(n),e[n]=o}function qt(e,n){var o=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var c=e.eventTimes;for(e=e.expirationTimes;0<o;){var g=31-Je(o),_=1<<g;n[g]=0,c[g]=-1,e[g]=-1,o&=~_}}function yr(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var c=31-Je(o),g=1<<c;g&n|e[c]&n&&(e[c]|=n),o&=~g}}var ft=0;function Si(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Xo,Xr,Jo,es,uo,co=!1,Bi=[],Qn=null,_r=null,or=null,fo=new Map,Ge=new Map,en=[],bt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Js(e,n){switch(e){case"focusin":case"focusout":Qn=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":fo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ge.delete(n.pointerId)}}function Jr(e,n,o,c,g,_){return e===null||e.nativeEvent!==_?(e={blockedOn:n,domEventName:o,eventSystemFlags:c,nativeEvent:_,targetContainers:[g]},n!==null&&(n=li(n),n!==null&&Xr(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,g!==null&&n.indexOf(g)===-1&&n.push(g),e)}function ea(e,n,o,c,g){switch(n){case"focusin":return Qn=Jr(Qn,e,n,o,c,g),!0;case"dragenter":return _r=Jr(_r,e,n,o,c,g),!0;case"mouseover":return or=Jr(or,e,n,o,c,g),!0;case"pointerover":var _=g.pointerId;return fo.set(_,Jr(fo.get(_)||null,e,n,o,c,g)),!0;case"gotpointercapture":return _=g.pointerId,Ge.set(_,Jr(Ge.get(_)||null,e,n,o,c,g)),!0}return!1}function ts(e){var n=ai(e.target);if(n!==null){var o=Nr(n);if(o!==null){if(n=o.tag,n===13){if(n=Yr(o),n!==null){e.blockedOn=n,uo(e.priority,function(){Jo(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sr(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=is(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);xe=c,o.target.dispatchEvent(c),xe=null}else return n=li(o),n!==null&&Xr(n),e.blockedOn=o,!1;n.shift()}return!0}function ns(e,n,o){sr(e)&&o.delete(n)}function ho(){co=!1,Qn!==null&&sr(Qn)&&(Qn=null),_r!==null&&sr(_r)&&(_r=null),or!==null&&sr(or)&&(or=null),fo.forEach(ns),Ge.forEach(ns)}function zt(e,n){e.blockedOn===n&&(e.blockedOn=null,co||(co=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,ho)))}function Kn(e){function n(g){return zt(g,e)}if(0<Bi.length){zt(Bi[0],e);for(var o=1;o<Bi.length;o++){var c=Bi[o];c.blockedOn===e&&(c.blockedOn=null)}}for(Qn!==null&&zt(Qn,e),_r!==null&&zt(_r,e),or!==null&&zt(or,e),fo.forEach(n),Ge.forEach(n),o=0;o<en.length;o++)c=en[o],c.blockedOn===e&&(c.blockedOn=null);for(;0<en.length&&(o=en[0],o.blockedOn===null);)ts(o),o.blockedOn===null&&en.shift()}var ei=I.ReactCurrentBatchConfig,po=!0;function ed(e,n,o,c){var g=ft,_=ei.transition;ei.transition=null;try{ft=1,mo(e,n,o,c)}finally{ft=g,ei.transition=_}}function Al(e,n,o,c){var g=ft,_=ei.transition;ei.transition=null;try{ft=4,mo(e,n,o,c)}finally{ft=g,ei.transition=_}}function mo(e,n,o,c){if(po){var g=is(e,n,o,c);if(g===null)t(e,n,c,rs,o),Js(e,c);else if(ea(g,e,n,o,c))c.stopPropagation();else if(Js(e,c),n&4&&-1<bt.indexOf(e)){for(;g!==null;){var _=li(g);if(_!==null&&Xo(_),_=is(e,n,o,c),_===null&&t(e,n,c,rs,o),_===g)break;g=_}g!==null&&c.stopPropagation()}else t(e,n,c,null,o)}}var rs=null;function is(e,n,o,c){if(rs=null,e=Ee(c),e=ai(e),e!==null)if(n=Nr(e),n===null)e=null;else if(o=n.tag,o===13){if(e=Yr(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return rs=e,null}function ut(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jc()){case $s:return 1;case pl:return 4;case Ko:case Ys:return 16;case bi:return 536870912;default:return 16}default:return 16}}var Lr=null,Bn=null,Mr=null;function ta(){if(Mr)return Mr;var e,n=Bn,o=n.length,c,g="value"in Lr?Lr.value:Lr.textContent,_=g.length;for(e=0;e<o&&n[e]===g[e];e++);var M=o-e;for(c=1;c<=M&&n[o-c]===g[_-c];c++);return Mr=g.slice(e,1<c?1-c:void 0)}function os(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Pi(){return!0}function gl(){return!1}function yn(e){function n(o,c,g,_,M){this._reactName=o,this._targetInst=g,this.type=c,this.nativeEvent=_,this.target=M,this.currentTarget=null;for(var W in e)e.hasOwnProperty(W)&&(o=e[W],this[W]=o?o(_):_[W]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Pi:gl,this.isPropagationStopped=gl,this}return ne(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),n}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},na=yn(Ti),ti=ne({},Ti,{view:0,detail:0}),td=yn(ti),Nn,ra,Di,$n=ne({},ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ri,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Di&&(Di&&e.type==="mousemove"?(Nn=e.screenX-Di.screenX,ra=e.screenY-Di.screenY):ra=Nn=0,Di=e),Nn)},movementY:function(e){return"movementY"in e?e.movementY:ra}}),ia=yn($n),xl=ne({},$n,{dataTransfer:0}),oa=yn(xl),nd=ne({},ti,{relatedTarget:0}),ss=yn(nd),vl=ne({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),rd=yn(vl),id=ne({},Ti,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sa=yn(id),od=ne({},Ti,{data:0}),aa=yn(od),yl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},as={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ni={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sd(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ni[e])?!!n[e]:!1}function ri(){return sd}var Ln=ne({},ti,{key:function(e){if(e.key){var n=yl[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=os(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?as[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ri,charCode:function(e){return e.type==="keypress"?os(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?os(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_l=yn(Ln),wl=ne({},$n,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bl=yn(wl),la=ne({},ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ri}),ua=yn(la),ad=ne({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),ld=yn(ad),Cl=ne({},$n,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ud=yn(Cl),Yn=[9,13,27,32],Ir=h&&"CompositionEvent"in window,Ao=null;h&&"documentMode"in document&&(Ao=document.documentMode);var wr=h&&"TextEvent"in window&&!Ao,El=h&&(!Ir||Ao&&8<Ao&&11>=Ao),ii=" ",kl=!1;function Ri(e,n){switch(e){case"keyup":return Yn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ca(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var br=!1;function cd(e,n){switch(e){case"compositionend":return ca(n);case"keypress":return n.which!==32?null:(kl=!0,ii);case"textInput":return e=n.data,e===ii&&kl?null:e;default:return null}}function Or(e,n){if(br)return e==="compositionend"||!Ir&&Ri(e,n)?(e=ta(),Mr=Bn=Lr=null,br=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return El&&n.locale!=="ko"?null:n.data;default:return null}}var ls={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ls[e.type]:n==="textarea"}function us(e,n,o,c){je(c),n=u(n,"onChange"),0<n.length&&(o=new na("onChange","change",null,o,c),e.push({event:o,listeners:n}))}var go=null,Pn=null;function dd(e){va(e,0)}function Cr(e){var n=ui(e);if(ht(n))return e}function fd(e,n){if(e==="change")return n}var ar=!1;if(h){var Fi;if(h){var cs="oninput"in document;if(!cs){var ds=document.createElement("div");ds.setAttribute("oninput","return;"),cs=typeof ds.oninput=="function"}Fi=cs}else Fi=!1;ar=Fi&&(!document.documentMode||9<document.documentMode)}function xo(){go&&(go.detachEvent("onpropertychange",fs),Pn=go=null)}function fs(e){if(e.propertyName==="value"&&Cr(Pn)){var n=[];us(n,Pn,e,Ee(e)),rt(dd,n)}}function hs(e,n,o){e==="focusin"?(xo(),go=n,Pn=o,go.attachEvent("onpropertychange",fs)):e==="focusout"&&xo()}function Ni(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cr(Pn)}function ps(e,n){if(e==="click")return Cr(n)}function da(e,n){if(e==="input"||e==="change")return Cr(n)}function Bl(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Xn=typeof Object.is=="function"?Object.is:Bl;function zr(e,n){if(Xn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),c=Object.keys(n);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var g=o[c];if(!x.call(n,g)||!Xn(e[g],n[g]))return!1}return!0}function Pl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fa(e,n){var o=Pl(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=n&&c>=n)return{node:o,offset:n-e};e=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Pl(o)}}function Tl(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Tl(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ha(){for(var e=window,n=Se();n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=Se(e.document)}return n}function pa(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function lr(e){var n=ha(),o=e.focusedElem,c=e.selectionRange;if(n!==o&&o&&o.ownerDocument&&Tl(o.ownerDocument.documentElement,o)){if(c!==null&&pa(o)){if(n=c.start,e=c.end,e===void 0&&(e=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(e,o.value.length);else if(e=(n=o.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var g=o.textContent.length,_=Math.min(c.start,g);c=c.end===void 0?_:Math.min(c.end,g),!e.extend&&_>c&&(g=c,c=_,_=g),g=fa(o,_);var M=fa(o,c);g&&M&&(e.rangeCount!==1||e.anchorNode!==g.node||e.anchorOffset!==g.offset||e.focusNode!==M.node||e.focusOffset!==M.offset)&&(n=n.createRange(),n.setStart(g.node,g.offset),e.removeAllRanges(),_>c?(e.addRange(n),e.extend(M.node,M.offset)):(n.setEnd(M.node,M.offset),e.addRange(n)))}}for(n=[],e=o;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)e=n[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ms=h&&"documentMode"in document&&11>=document.documentMode,Li=null,Mi=null,vo=null,As=!1;function Dl(e,n,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;As||Li==null||Li!==Se(c)||(c=Li,"selectionStart"in c&&pa(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),vo&&zr(vo,c)||(vo=c,c=u(Mi,"onSelect"),0<c.length&&(n=new na("onSelect","select",null,n,o),e.push({event:n,listeners:c}),n.target=Li)))}function jr(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var Ii={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionend:jr("Transition","TransitionEnd")},Hr={},ma={};h&&(ma=document.createElement("div").style,"AnimationEvent"in window||(delete Ii.animationend.animation,delete Ii.animationiteration.animation,delete Ii.animationstart.animation),"TransitionEvent"in window||delete Ii.transitionend.transition);function yo(e){if(Hr[e])return Hr[e];if(!Ii[e])return e;var n=Ii[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in ma)return Hr[e]=n[o];return e}var Rl=yo("animationend"),ur=yo("animationiteration"),Aa=yo("animationstart"),ga=yo("transitionend"),Oi=new Map,Fl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jn(e,n){Oi.set(e,n),d(n,[e])}for(var oi=0;oi<Fl.length;oi++){var gs=Fl[oi],Nl=gs.toLowerCase(),hd=gs[0].toUpperCase()+gs.slice(1);Jn(Nl,"on"+hd)}Jn(Rl,"onAnimationEnd"),Jn(ur,"onAnimationIteration"),Jn(Aa,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(ga,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ll=new Set("cancel close invalid load scroll toggle".split(" ").concat(zi));function xa(e,n,o){var c=e.type||"unknown-event";e.currentTarget=o,Gs(c,n,void 0,e),e.currentTarget=null}function va(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],g=c.event;c=c.listeners;e:{var _=void 0;if(n)for(var M=c.length-1;0<=M;M--){var W=c[M],Y=W.instance,ce=W.currentTarget;if(W=W.listener,Y!==_&&g.isPropagationStopped())break e;xa(g,W,ce),_=Y}else for(M=0;M<c.length;M++){if(W=c[M],Y=W.instance,ce=W.currentTarget,W=W.listener,Y!==_&&g.isPropagationStopped())break e;xa(g,W,ce),_=Y}}}if(wi)throw e=Go,wi=!1,Go=null,e}function Ct(e,n){var o=n[Ui];o===void 0&&(o=n[Ui]=new Set);var c=e+"__bubble";o.has(c)||(Ml(n,e,2,!1),o.add(c))}function ya(e,n,o){var c=0;n&&(c|=4),Ml(o,e,c,n)}var _o="_reactListening"+Math.random().toString(36).slice(2);function ji(e){if(!e[_o]){e[_o]=!0,l.forEach(function(o){o!=="selectionchange"&&(Ll.has(o)||ya(o,!1,e),ya(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[_o]||(n[_o]=!0,ya("selectionchange",!1,n))}}function Ml(e,n,o,c){switch(ut(n)){case 1:var g=ed;break;case 4:g=Al;break;default:g=mo}o=g.bind(null,n,o,e),g=void 0,!Wn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(g=!0),c?g!==void 0?e.addEventListener(n,o,{capture:!0,passive:g}):e.addEventListener(n,o,!0):g!==void 0?e.addEventListener(n,o,{passive:g}):e.addEventListener(n,o,!1)}function t(e,n,o,c,g){var _=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var M=c.tag;if(M===3||M===4){var W=c.stateNode.containerInfo;if(W===g||W.nodeType===8&&W.parentNode===g)break;if(M===4)for(M=c.return;M!==null;){var Y=M.tag;if((Y===3||Y===4)&&(Y=M.stateNode.containerInfo,Y===g||Y.nodeType===8&&Y.parentNode===g))return;M=M.return}for(;W!==null;){if(M=ai(W),M===null)return;if(Y=M.tag,Y===5||Y===6){c=_=M;continue e}W=W.parentNode}}c=c.return}rt(function(){var ce=_,ye=Ee(o),_e=[];e:{var ve=Oi.get(e);if(ve!==void 0){var Te=na,Re=e;switch(e){case"keypress":if(os(o)===0)break e;case"keydown":case"keyup":Te=_l;break;case"focusin":Re="focus",Te=ss;break;case"focusout":Re="blur",Te=ss;break;case"beforeblur":case"afterblur":Te=ss;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=ia;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=oa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=ua;break;case Rl:case ur:case Aa:Te=rd;break;case ga:Te=ld;break;case"scroll":Te=td;break;case"wheel":Te=ud;break;case"copy":case"cut":case"paste":Te=sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=bl}var Me=(n&4)!==0,Qt=!Me&&e==="scroll",se=Me?ve!==null?ve+"Capture":null:ve;Me=[];for(var ee=ce,ae;ee!==null;){ae=ee;var Ce=ae.stateNode;if(ae.tag===5&&Ce!==null&&(ae=Ce,se!==null&&(Ce=wt(ee,se),Ce!=null&&Me.push(i(ee,Ce,ae)))),Qt)break;ee=ee.return}0<Me.length&&(ve=new Te(ve,Re,null,o,ye),_e.push({event:ve,listeners:Me}))}}if((n&7)===0){e:{if(ve=e==="mouseover"||e==="pointerover",Te=e==="mouseout"||e==="pointerout",ve&&o!==xe&&(Re=o.relatedTarget||o.fromElement)&&(ai(Re)||Re[yt]))break e;if((Te||ve)&&(ve=ye.window===ye?ye:(ve=ye.ownerDocument)?ve.defaultView||ve.parentWindow:window,Te?(Re=o.relatedTarget||o.toElement,Te=ce,Re=Re?ai(Re):null,Re!==null&&(Qt=Nr(Re),Re!==Qt||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(Te=null,Re=ce),Te!==Re)){if(Me=ia,Ce="onMouseLeave",se="onMouseEnter",ee="mouse",(e==="pointerout"||e==="pointerover")&&(Me=bl,Ce="onPointerLeave",se="onPointerEnter",ee="pointer"),Qt=Te==null?ve:ui(Te),ae=Re==null?ve:ui(Re),ve=new Me(Ce,ee+"leave",Te,o,ye),ve.target=Qt,ve.relatedTarget=ae,Ce=null,ai(ye)===ce&&(Me=new Me(se,ee+"enter",Re,o,ye),Me.target=ae,Me.relatedTarget=Qt,Ce=Me),Qt=Ce,Te&&Re)t:{for(Me=Te,se=Re,ee=0,ae=Me;ae;ae=A(ae))ee++;for(ae=0,Ce=se;Ce;Ce=A(Ce))ae++;for(;0<ee-ae;)Me=A(Me),ee--;for(;0<ae-ee;)se=A(se),ae--;for(;ee--;){if(Me===se||se!==null&&Me===se.alternate)break t;Me=A(Me),se=A(se)}Me=null}else Me=null;Te!==null&&b(_e,ve,Te,Me,!1),Re!==null&&Qt!==null&&b(_e,Qt,Re,Me,!0)}}e:{if(ve=ce?ui(ce):window,Te=ve.nodeName&&ve.nodeName.toLowerCase(),Te==="select"||Te==="input"&&ve.type==="file")var Ie=fd;else if(Sl(ve))if(ar)Ie=da;else{Ie=Ni;var Ze=hs}else(Te=ve.nodeName)&&Te.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(Ie=ps);if(Ie&&(Ie=Ie(e,ce))){us(_e,Ie,o,ye);break e}Ze&&Ze(e,ve,ce),e==="focusout"&&(Ze=ve._wrapperState)&&Ze.controlled&&ve.type==="number"&&Qe(ve,"number",ve.value)}switch(Ze=ce?ui(ce):window,e){case"focusin":(Sl(Ze)||Ze.contentEditable==="true")&&(Li=Ze,Mi=ce,vo=null);break;case"focusout":vo=Mi=Li=null;break;case"mousedown":As=!0;break;case"contextmenu":case"mouseup":case"dragend":As=!1,Dl(_e,o,ye);break;case"selectionchange":if(ms)break;case"keydown":case"keyup":Dl(_e,o,ye)}var We;if(Ir)e:{switch(e){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else br?Ri(e,o)&&(Ke="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Ke="onCompositionStart");Ke&&(El&&o.locale!=="ko"&&(br||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&br&&(We=ta()):(Lr=ye,Bn="value"in Lr?Lr.value:Lr.textContent,br=!0)),Ze=u(ce,Ke),0<Ze.length&&(Ke=new aa(Ke,e,null,o,ye),_e.push({event:Ke,listeners:Ze}),We?Ke.data=We:(We=ca(o),We!==null&&(Ke.data=We)))),(We=wr?cd(e,o):Or(e,o))&&(ce=u(ce,"onBeforeInput"),0<ce.length&&(ye=new aa("onBeforeInput","beforeinput",null,o,ye),_e.push({event:ye,listeners:ce}),ye.data=We))}va(_e,n)})}function i(e,n,o){return{instance:e,listener:n,currentTarget:o}}function u(e,n){for(var o=n+"Capture",c=[];e!==null;){var g=e,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=wt(e,o),_!=null&&c.unshift(i(e,_,g)),_=wt(e,n),_!=null&&c.push(i(e,_,g))),e=e.return}return c}function A(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function b(e,n,o,c,g){for(var _=n._reactName,M=[];o!==null&&o!==c;){var W=o,Y=W.alternate,ce=W.stateNode;if(Y!==null&&Y===c)break;W.tag===5&&ce!==null&&(W=ce,g?(Y=wt(o,_),Y!=null&&M.unshift(i(o,Y,W))):g||(Y=wt(o,_),Y!=null&&M.push(i(o,Y,W)))),o=o.return}M.length!==0&&e.push({event:n,listeners:M})}var O=/\r\n?/g,Q=/\u0000|\uFFFD/g;function ie(e){return(typeof e=="string"?e:""+e).replace(O,`
`).replace(Q,"")}function ue(e,n,o){if(n=ie(n),ie(e)!==n&&o)throw Error(s(425))}function ge(){}var Be=null,Ue=null;function tt(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var tn=typeof setTimeout=="function"?setTimeout:void 0,Yt=typeof clearTimeout=="function"?clearTimeout:void 0,Tn=typeof Promise=="function"?Promise:void 0,_n=typeof queueMicrotask=="function"?queueMicrotask:typeof Tn<"u"?function(e){return Tn.resolve(null).then(e).catch(Hi)}:tn;function Hi(e){setTimeout(function(){throw e})}function _a(e,n){var o=n,c=0;do{var g=o.nextSibling;if(e.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(c===0){e.removeChild(g),Kn(n);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=g}while(o);Kn(n)}function Vr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Il(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return e;n--}else o==="/$"&&n++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),cr="__reactFiber$"+si,Vi="__reactProps$"+si,yt="__reactContainer$"+si,Ui="__reactEvents$"+si,pd="__reactListeners$"+si,md="__reactHandles$"+si;function ai(e){var n=e[cr];if(n)return n;for(var o=e.parentNode;o;){if(n=o[yt]||o[cr]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=Il(e);e!==null;){if(o=e[cr])return o;e=Il(e)}return n}e=o,o=e.parentNode}return null}function li(e){return e=e[cr]||e[yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ui(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function xs(e){return e[Vi]||null}var Ad=[],vs=-1;function Zi(e){return{current:e}}function Dt(e){0>vs||(e.current=Ad[vs],Ad[vs]=null,vs--)}function Pt(e,n){vs++,Ad[vs]=e.current,e.current=n}var Wi={},wn=Zi(Wi),Mn=Zi(!1),wo=Wi;function ys(e,n){var o=e.type.contextTypes;if(!o)return Wi;var c=e.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===n)return c.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in o)g[_]=n[_];return c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=g),g}function In(e){return e=e.childContextTypes,e!=null}function Ol(){Dt(Mn),Dt(wn)}function F0(e,n,o){if(wn.current!==Wi)throw Error(s(168));Pt(wn,n),Pt(Mn,o)}function N0(e,n,o){var c=e.stateNode;if(n=n.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var g in c)if(!(g in n))throw Error(s(108,ke(e)||"Unknown",g));return ne({},o,c)}function zl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wi,wo=wn.current,Pt(wn,e),Pt(Mn,Mn.current),!0}function L0(e,n,o){var c=e.stateNode;if(!c)throw Error(s(169));o?(e=N0(e,n,wo),c.__reactInternalMemoizedMergedChildContext=e,Dt(Mn),Dt(wn),Pt(wn,e)):Dt(Mn),Pt(Mn,o)}var ci=null,jl=!1,gd=!1;function M0(e){ci===null?ci=[e]:ci.push(e)}function Fx(e){jl=!0,M0(e)}function qi(){if(!gd&&ci!==null){gd=!0;var e=0,n=ft;try{var o=ci;for(ft=1;e<o.length;e++){var c=o[e];do c=c(!0);while(c!==null)}ci=null,jl=!1}catch(g){throw ci!==null&&(ci=ci.slice(e+1)),hl($s,qi),g}finally{ft=n,gd=!1}}return null}var _s=[],ws=0,Hl=null,Vl=0,dr=[],fr=0,bo=null,di=1,fi="";function Co(e,n){_s[ws++]=Vl,_s[ws++]=Hl,Hl=e,Vl=n}function I0(e,n,o){dr[fr++]=di,dr[fr++]=fi,dr[fr++]=bo,bo=e;var c=di;e=fi;var g=32-Je(c)-1;c&=~(1<<g),o+=1;var _=32-Je(n)+g;if(30<_){var M=g-g%5;_=(c&(1<<M)-1).toString(32),c>>=M,g-=M,di=1<<32-Je(n)+g|o<<g|c,fi=_+e}else di=1<<_|o<<g|c,fi=e}function xd(e){e.return!==null&&(Co(e,1),I0(e,1,0))}function vd(e){for(;e===Hl;)Hl=_s[--ws],_s[ws]=null,Vl=_s[--ws],_s[ws]=null;for(;e===bo;)bo=dr[--fr],dr[fr]=null,fi=dr[--fr],dr[fr]=null,di=dr[--fr],dr[fr]=null}var er=null,tr=null,Nt=!1,Er=null;function O0(e,n){var o=Ar(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=e,n=e.deletions,n===null?(e.deletions=[o],e.flags|=16):n.push(o)}function z0(e,n){switch(e.tag){case 5:var o=e.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,er=e,tr=Vr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,er=e,tr=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=bo!==null?{id:di,overflow:fi}:null,e.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=Ar(18,null,null,0),o.stateNode=n,o.return=e,e.child=o,er=e,tr=null,!0):!1;default:return!1}}function yd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _d(e){if(Nt){var n=tr;if(n){var o=n;if(!z0(e,n)){if(yd(e))throw Error(s(418));n=Vr(o.nextSibling);var c=er;n&&z0(e,n)?O0(c,o):(e.flags=e.flags&-4097|2,Nt=!1,er=e)}}else{if(yd(e))throw Error(s(418));e.flags=e.flags&-4097|2,Nt=!1,er=e}}}function j0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;er=e}function Ul(e){if(e!==er)return!1;if(!Nt)return j0(e),Nt=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!tt(e.type,e.memoizedProps)),n&&(n=tr)){if(yd(e))throw H0(),Error(s(418));for(;n;)O0(e,n),n=Vr(n.nextSibling)}if(j0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(n===0){tr=Vr(e.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}e=e.nextSibling}tr=null}}else tr=er?Vr(e.stateNode.nextSibling):null;return!0}function H0(){for(var e=tr;e;)e=Vr(e.nextSibling)}function bs(){tr=er=null,Nt=!1}function wd(e){Er===null?Er=[e]:Er.push(e)}var Nx=I.ReactCurrentBatchConfig;function wa(e,n,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(s(309));var c=o.stateNode}if(!c)throw Error(s(147,e));var g=c,_=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===_?n.ref:(n=function(M){var W=g.refs;M===null?delete W[_]:W[_]=M},n._stringRef=_,n)}if(typeof e!="string")throw Error(s(284));if(!o._owner)throw Error(s(290,e))}return e}function Zl(e,n){throw e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function V0(e){var n=e._init;return n(e._payload)}function U0(e){function n(se,ee){if(e){var ae=se.deletions;ae===null?(se.deletions=[ee],se.flags|=16):ae.push(ee)}}function o(se,ee){if(!e)return null;for(;ee!==null;)n(se,ee),ee=ee.sibling;return null}function c(se,ee){for(se=new Map;ee!==null;)ee.key!==null?se.set(ee.key,ee):se.set(ee.index,ee),ee=ee.sibling;return se}function g(se,ee){return se=eo(se,ee),se.index=0,se.sibling=null,se}function _(se,ee,ae){return se.index=ae,e?(ae=se.alternate,ae!==null?(ae=ae.index,ae<ee?(se.flags|=2,ee):ae):(se.flags|=2,ee)):(se.flags|=1048576,ee)}function M(se){return e&&se.alternate===null&&(se.flags|=2),se}function W(se,ee,ae,Ce){return ee===null||ee.tag!==6?(ee=pf(ae,se.mode,Ce),ee.return=se,ee):(ee=g(ee,ae),ee.return=se,ee)}function Y(se,ee,ae,Ce){var Ie=ae.type;return Ie===j?ye(se,ee,ae.props.children,Ce,ae.key):ee!==null&&(ee.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===oe&&V0(Ie)===ee.type)?(Ce=g(ee,ae.props),Ce.ref=wa(se,ee,ae),Ce.return=se,Ce):(Ce=pu(ae.type,ae.key,ae.props,null,se.mode,Ce),Ce.ref=wa(se,ee,ae),Ce.return=se,Ce)}function ce(se,ee,ae,Ce){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==ae.containerInfo||ee.stateNode.implementation!==ae.implementation?(ee=mf(ae,se.mode,Ce),ee.return=se,ee):(ee=g(ee,ae.children||[]),ee.return=se,ee)}function ye(se,ee,ae,Ce,Ie){return ee===null||ee.tag!==7?(ee=Ro(ae,se.mode,Ce,Ie),ee.return=se,ee):(ee=g(ee,ae),ee.return=se,ee)}function _e(se,ee,ae){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=pf(""+ee,se.mode,ae),ee.return=se,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case N:return ae=pu(ee.type,ee.key,ee.props,null,se.mode,ae),ae.ref=wa(se,null,ee),ae.return=se,ae;case z:return ee=mf(ee,se.mode,ae),ee.return=se,ee;case oe:var Ce=ee._init;return _e(se,Ce(ee._payload),ae)}if(Xe(ee)||me(ee))return ee=Ro(ee,se.mode,ae,null),ee.return=se,ee;Zl(se,ee)}return null}function ve(se,ee,ae,Ce){var Ie=ee!==null?ee.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Ie!==null?null:W(se,ee,""+ae,Ce);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case N:return ae.key===Ie?Y(se,ee,ae,Ce):null;case z:return ae.key===Ie?ce(se,ee,ae,Ce):null;case oe:return Ie=ae._init,ve(se,ee,Ie(ae._payload),Ce)}if(Xe(ae)||me(ae))return Ie!==null?null:ye(se,ee,ae,Ce,null);Zl(se,ae)}return null}function Te(se,ee,ae,Ce,Ie){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return se=se.get(ae)||null,W(ee,se,""+Ce,Ie);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case N:return se=se.get(Ce.key===null?ae:Ce.key)||null,Y(ee,se,Ce,Ie);case z:return se=se.get(Ce.key===null?ae:Ce.key)||null,ce(ee,se,Ce,Ie);case oe:var Ze=Ce._init;return Te(se,ee,ae,Ze(Ce._payload),Ie)}if(Xe(Ce)||me(Ce))return se=se.get(ae)||null,ye(ee,se,Ce,Ie,null);Zl(ee,Ce)}return null}function Re(se,ee,ae,Ce){for(var Ie=null,Ze=null,We=ee,Ke=ee=0,un=null;We!==null&&Ke<ae.length;Ke++){We.index>Ke?(un=We,We=null):un=We.sibling;var xt=ve(se,We,ae[Ke],Ce);if(xt===null){We===null&&(We=un);break}e&&We&&xt.alternate===null&&n(se,We),ee=_(xt,ee,Ke),Ze===null?Ie=xt:Ze.sibling=xt,Ze=xt,We=un}if(Ke===ae.length)return o(se,We),Nt&&Co(se,Ke),Ie;if(We===null){for(;Ke<ae.length;Ke++)We=_e(se,ae[Ke],Ce),We!==null&&(ee=_(We,ee,Ke),Ze===null?Ie=We:Ze.sibling=We,Ze=We);return Nt&&Co(se,Ke),Ie}for(We=c(se,We);Ke<ae.length;Ke++)un=Te(We,se,Ke,ae[Ke],Ce),un!==null&&(e&&un.alternate!==null&&We.delete(un.key===null?Ke:un.key),ee=_(un,ee,Ke),Ze===null?Ie=un:Ze.sibling=un,Ze=un);return e&&We.forEach(function(to){return n(se,to)}),Nt&&Co(se,Ke),Ie}function Me(se,ee,ae,Ce){var Ie=me(ae);if(typeof Ie!="function")throw Error(s(150));if(ae=Ie.call(ae),ae==null)throw Error(s(151));for(var Ze=Ie=null,We=ee,Ke=ee=0,un=null,xt=ae.next();We!==null&&!xt.done;Ke++,xt=ae.next()){We.index>Ke?(un=We,We=null):un=We.sibling;var to=ve(se,We,xt.value,Ce);if(to===null){We===null&&(We=un);break}e&&We&&to.alternate===null&&n(se,We),ee=_(to,ee,Ke),Ze===null?Ie=to:Ze.sibling=to,Ze=to,We=un}if(xt.done)return o(se,We),Nt&&Co(se,Ke),Ie;if(We===null){for(;!xt.done;Ke++,xt=ae.next())xt=_e(se,xt.value,Ce),xt!==null&&(ee=_(xt,ee,Ke),Ze===null?Ie=xt:Ze.sibling=xt,Ze=xt);return Nt&&Co(se,Ke),Ie}for(We=c(se,We);!xt.done;Ke++,xt=ae.next())xt=Te(We,se,Ke,xt.value,Ce),xt!==null&&(e&&xt.alternate!==null&&We.delete(xt.key===null?Ke:xt.key),ee=_(xt,ee,Ke),Ze===null?Ie=xt:Ze.sibling=xt,Ze=xt);return e&&We.forEach(function(hv){return n(se,hv)}),Nt&&Co(se,Ke),Ie}function Qt(se,ee,ae,Ce){if(typeof ae=="object"&&ae!==null&&ae.type===j&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case N:e:{for(var Ie=ae.key,Ze=ee;Ze!==null;){if(Ze.key===Ie){if(Ie=ae.type,Ie===j){if(Ze.tag===7){o(se,Ze.sibling),ee=g(Ze,ae.props.children),ee.return=se,se=ee;break e}}else if(Ze.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===oe&&V0(Ie)===Ze.type){o(se,Ze.sibling),ee=g(Ze,ae.props),ee.ref=wa(se,Ze,ae),ee.return=se,se=ee;break e}o(se,Ze);break}else n(se,Ze);Ze=Ze.sibling}ae.type===j?(ee=Ro(ae.props.children,se.mode,Ce,ae.key),ee.return=se,se=ee):(Ce=pu(ae.type,ae.key,ae.props,null,se.mode,Ce),Ce.ref=wa(se,ee,ae),Ce.return=se,se=Ce)}return M(se);case z:e:{for(Ze=ae.key;ee!==null;){if(ee.key===Ze)if(ee.tag===4&&ee.stateNode.containerInfo===ae.containerInfo&&ee.stateNode.implementation===ae.implementation){o(se,ee.sibling),ee=g(ee,ae.children||[]),ee.return=se,se=ee;break e}else{o(se,ee);break}else n(se,ee);ee=ee.sibling}ee=mf(ae,se.mode,Ce),ee.return=se,se=ee}return M(se);case oe:return Ze=ae._init,Qt(se,ee,Ze(ae._payload),Ce)}if(Xe(ae))return Re(se,ee,ae,Ce);if(me(ae))return Me(se,ee,ae,Ce);Zl(se,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,ee!==null&&ee.tag===6?(o(se,ee.sibling),ee=g(ee,ae),ee.return=se,se=ee):(o(se,ee),ee=pf(ae,se.mode,Ce),ee.return=se,se=ee),M(se)):o(se,ee)}return Qt}var Cs=U0(!0),Z0=U0(!1),Wl=Zi(null),ql=null,Es=null,bd=null;function Cd(){bd=Es=ql=null}function Ed(e){var n=Wl.current;Dt(Wl),e._currentValue=n}function kd(e,n,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===o)break;e=e.return}}function ks(e,n){ql=e,bd=Es=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(On=!0),e.firstContext=null)}function hr(e){var n=e._currentValue;if(bd!==e)if(e={context:e,memoizedValue:n,next:null},Es===null){if(ql===null)throw Error(s(308));Es=e,ql.dependencies={lanes:0,firstContext:e}}else Es=Es.next=e;return n}var Eo=null;function Sd(e){Eo===null?Eo=[e]:Eo.push(e)}function W0(e,n,o,c){var g=n.interleaved;return g===null?(o.next=o,Sd(n)):(o.next=g.next,g.next=o),n.interleaved=o,hi(e,c)}function hi(e,n){e.lanes|=n;var o=e.alternate;for(o!==null&&(o.lanes|=n),o=e,e=e.return;e!==null;)e.childLanes|=n,o=e.alternate,o!==null&&(o.childLanes|=n),o=e,e=e.return;return o.tag===3?o.stateNode:null}var Gi=!1;function Bd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function q0(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pi(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Qi(e,n,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(At&2)!==0){var g=c.pending;return g===null?n.next=n:(n.next=g.next,g.next=n),c.pending=n,hi(e,o)}return g=c.interleaved,g===null?(n.next=n,Sd(c)):(n.next=g.next,g.next=n),c.interleaved=n,hi(e,o)}function Gl(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var c=n.lanes;c&=e.pendingLanes,o|=c,n.lanes=o,yr(e,o)}}function G0(e,n){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var g=null,_=null;if(o=o.firstBaseUpdate,o!==null){do{var M={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};_===null?g=_=M:_=_.next=M,o=o.next}while(o!==null);_===null?g=_=n:_=_.next=n}else g=_=n;o={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:c.shared,effects:c.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}function Ql(e,n,o,c){var g=e.updateQueue;Gi=!1;var _=g.firstBaseUpdate,M=g.lastBaseUpdate,W=g.shared.pending;if(W!==null){g.shared.pending=null;var Y=W,ce=Y.next;Y.next=null,M===null?_=ce:M.next=ce,M=Y;var ye=e.alternate;ye!==null&&(ye=ye.updateQueue,W=ye.lastBaseUpdate,W!==M&&(W===null?ye.firstBaseUpdate=ce:W.next=ce,ye.lastBaseUpdate=Y))}if(_!==null){var _e=g.baseState;M=0,ye=ce=Y=null,W=_;do{var ve=W.lane,Te=W.eventTime;if((c&ve)===ve){ye!==null&&(ye=ye.next={eventTime:Te,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var Re=e,Me=W;switch(ve=n,Te=o,Me.tag){case 1:if(Re=Me.payload,typeof Re=="function"){_e=Re.call(Te,_e,ve);break e}_e=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Me.payload,ve=typeof Re=="function"?Re.call(Te,_e,ve):Re,ve==null)break e;_e=ne({},_e,ve);break e;case 2:Gi=!0}}W.callback!==null&&W.lane!==0&&(e.flags|=64,ve=g.effects,ve===null?g.effects=[W]:ve.push(W))}else Te={eventTime:Te,lane:ve,tag:W.tag,payload:W.payload,callback:W.callback,next:null},ye===null?(ce=ye=Te,Y=_e):ye=ye.next=Te,M|=ve;if(W=W.next,W===null){if(W=g.shared.pending,W===null)break;ve=W,W=ve.next,ve.next=null,g.lastBaseUpdate=ve,g.shared.pending=null}}while(!0);if(ye===null&&(Y=_e),g.baseState=Y,g.firstBaseUpdate=ce,g.lastBaseUpdate=ye,n=g.shared.interleaved,n!==null){g=n;do M|=g.lane,g=g.next;while(g!==n)}else _===null&&(g.shared.lanes=0);Bo|=M,e.lanes=M,e.memoizedState=_e}}function Q0(e,n,o){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var c=e[n],g=c.callback;if(g!==null){if(c.callback=null,c=o,typeof g!="function")throw Error(s(191,g));g.call(c)}}}var ba={},Ur=Zi(ba),Ca=Zi(ba),Ea=Zi(ba);function ko(e){if(e===ba)throw Error(s(174));return e}function Pd(e,n){switch(Pt(Ea,n),Pt(Ca,e),Pt(Ur,ba),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Jt(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Jt(n,e)}Dt(Ur),Pt(Ur,n)}function Ss(){Dt(Ur),Dt(Ca),Dt(Ea)}function K0(e){ko(Ea.current);var n=ko(Ur.current),o=Jt(n,e.type);n!==o&&(Pt(Ca,e),Pt(Ur,o))}function Td(e){Ca.current===e&&(Dt(Ur),Dt(Ca))}var jt=Zi(0);function Kl(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Dd=[];function Rd(){for(var e=0;e<Dd.length;e++)Dd[e]._workInProgressVersionPrimary=null;Dd.length=0}var $l=I.ReactCurrentDispatcher,Fd=I.ReactCurrentBatchConfig,So=0,Ht=null,nn=null,an=null,Yl=!1,ka=!1,Sa=0,Lx=0;function bn(){throw Error(s(321))}function Nd(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!Xn(e[o],n[o]))return!1;return!0}function Ld(e,n,o,c,g,_){if(So=_,Ht=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$l.current=e===null||e.memoizedState===null?zx:jx,e=o(c,g),ka){_=0;do{if(ka=!1,Sa=0,25<=_)throw Error(s(301));_+=1,an=nn=null,n.updateQueue=null,$l.current=Hx,e=o(c,g)}while(ka)}if($l.current=eu,n=nn!==null&&nn.next!==null,So=0,an=nn=Ht=null,Yl=!1,n)throw Error(s(300));return e}function Md(){var e=Sa!==0;return Sa=0,e}function Zr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Ht.memoizedState=an=e:an=an.next=e,an}function pr(){if(nn===null){var e=Ht.alternate;e=e!==null?e.memoizedState:null}else e=nn.next;var n=an===null?Ht.memoizedState:an.next;if(n!==null)an=n,nn=e;else{if(e===null)throw Error(s(310));nn=e,e={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},an===null?Ht.memoizedState=an=e:an=an.next=e}return an}function Ba(e,n){return typeof n=="function"?n(e):n}function Id(e){var n=pr(),o=n.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var c=nn,g=c.baseQueue,_=o.pending;if(_!==null){if(g!==null){var M=g.next;g.next=_.next,_.next=M}c.baseQueue=g=_,o.pending=null}if(g!==null){_=g.next,c=c.baseState;var W=M=null,Y=null,ce=_;do{var ye=ce.lane;if((So&ye)===ye)Y!==null&&(Y=Y.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),c=ce.hasEagerState?ce.eagerState:e(c,ce.action);else{var _e={lane:ye,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};Y===null?(W=Y=_e,M=c):Y=Y.next=_e,Ht.lanes|=ye,Bo|=ye}ce=ce.next}while(ce!==null&&ce!==_);Y===null?M=c:Y.next=W,Xn(c,n.memoizedState)||(On=!0),n.memoizedState=c,n.baseState=M,n.baseQueue=Y,o.lastRenderedState=c}if(e=o.interleaved,e!==null){g=e;do _=g.lane,Ht.lanes|=_,Bo|=_,g=g.next;while(g!==e)}else g===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function Od(e){var n=pr(),o=n.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var c=o.dispatch,g=o.pending,_=n.memoizedState;if(g!==null){o.pending=null;var M=g=g.next;do _=e(_,M.action),M=M.next;while(M!==g);Xn(_,n.memoizedState)||(On=!0),n.memoizedState=_,n.baseQueue===null&&(n.baseState=_),o.lastRenderedState=_}return[_,c]}function $0(){}function Y0(e,n){var o=Ht,c=pr(),g=n(),_=!Xn(c.memoizedState,g);if(_&&(c.memoizedState=g,On=!0),c=c.queue,zd(eh.bind(null,o,c,e),[e]),c.getSnapshot!==n||_||an!==null&&an.memoizedState.tag&1){if(o.flags|=2048,Pa(9,J0.bind(null,o,c,g,n),void 0,null),ln===null)throw Error(s(349));(So&30)!==0||X0(o,n,g)}return g}function X0(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=Ht.updateQueue,n===null?(n={lastEffect:null,stores:null},Ht.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function J0(e,n,o,c){n.value=o,n.getSnapshot=c,th(n)&&nh(e)}function eh(e,n,o){return o(function(){th(n)&&nh(e)})}function th(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!Xn(e,o)}catch{return!0}}function nh(e){var n=hi(e,1);n!==null&&Pr(n,e,1,-1)}function rh(e){var n=Zr();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:e},n.queue=e,e=e.dispatch=Ox.bind(null,Ht,e),[n.memoizedState,e]}function Pa(e,n,o,c){return e={tag:e,create:n,destroy:o,deps:c,next:null},n=Ht.updateQueue,n===null?(n={lastEffect:null,stores:null},Ht.updateQueue=n,n.lastEffect=e.next=e):(o=n.lastEffect,o===null?n.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,n.lastEffect=e)),e}function ih(){return pr().memoizedState}function Xl(e,n,o,c){var g=Zr();Ht.flags|=e,g.memoizedState=Pa(1|n,o,void 0,c===void 0?null:c)}function Jl(e,n,o,c){var g=pr();c=c===void 0?null:c;var _=void 0;if(nn!==null){var M=nn.memoizedState;if(_=M.destroy,c!==null&&Nd(c,M.deps)){g.memoizedState=Pa(n,o,_,c);return}}Ht.flags|=e,g.memoizedState=Pa(1|n,o,_,c)}function oh(e,n){return Xl(8390656,8,e,n)}function zd(e,n){return Jl(2048,8,e,n)}function sh(e,n){return Jl(4,2,e,n)}function ah(e,n){return Jl(4,4,e,n)}function lh(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function uh(e,n,o){return o=o!=null?o.concat([e]):null,Jl(4,4,lh.bind(null,n,e),o)}function jd(){}function ch(e,n){var o=pr();n=n===void 0?null:n;var c=o.memoizedState;return c!==null&&n!==null&&Nd(n,c[1])?c[0]:(o.memoizedState=[e,n],e)}function dh(e,n){var o=pr();n=n===void 0?null:n;var c=o.memoizedState;return c!==null&&n!==null&&Nd(n,c[1])?c[0]:(e=e(),o.memoizedState=[e,n],e)}function fh(e,n,o){return(So&21)===0?(e.baseState&&(e.baseState=!1,On=!0),e.memoizedState=o):(Xn(o,n)||(o=ml(),Ht.lanes|=o,Bo|=o,e.baseState=!0),n)}function Mx(e,n){var o=ft;ft=o!==0&&4>o?o:4,e(!0);var c=Fd.transition;Fd.transition={};try{e(!1),n()}finally{ft=o,Fd.transition=c}}function hh(){return pr().memoizedState}function Ix(e,n,o){var c=Xi(e);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},ph(e))mh(n,o);else if(o=W0(e,n,o,c),o!==null){var g=Rn();Pr(o,e,c,g),Ah(o,n,c)}}function Ox(e,n,o){var c=Xi(e),g={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(ph(e))mh(n,g);else{var _=e.alternate;if(e.lanes===0&&(_===null||_.lanes===0)&&(_=n.lastRenderedReducer,_!==null))try{var M=n.lastRenderedState,W=_(M,o);if(g.hasEagerState=!0,g.eagerState=W,Xn(W,M)){var Y=n.interleaved;Y===null?(g.next=g,Sd(n)):(g.next=Y.next,Y.next=g),n.interleaved=g;return}}catch{}finally{}o=W0(e,n,g,c),o!==null&&(g=Rn(),Pr(o,e,c,g),Ah(o,n,c))}}function ph(e){var n=e.alternate;return e===Ht||n!==null&&n===Ht}function mh(e,n){ka=Yl=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function Ah(e,n,o){if((o&4194240)!==0){var c=n.lanes;c&=e.pendingLanes,o|=c,n.lanes=o,yr(e,o)}}var eu={readContext:hr,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useInsertionEffect:bn,useLayoutEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useMutableSource:bn,useSyncExternalStore:bn,useId:bn,unstable_isNewReconciler:!1},zx={readContext:hr,useCallback:function(e,n){return Zr().memoizedState=[e,n===void 0?null:n],e},useContext:hr,useEffect:oh,useImperativeHandle:function(e,n,o){return o=o!=null?o.concat([e]):null,Xl(4194308,4,lh.bind(null,n,e),o)},useLayoutEffect:function(e,n){return Xl(4194308,4,e,n)},useInsertionEffect:function(e,n){return Xl(4,2,e,n)},useMemo:function(e,n){var o=Zr();return n=n===void 0?null:n,e=e(),o.memoizedState=[e,n],e},useReducer:function(e,n,o){var c=Zr();return n=o!==void 0?o(n):n,c.memoizedState=c.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},c.queue=e,e=e.dispatch=Ix.bind(null,Ht,e),[c.memoizedState,e]},useRef:function(e){var n=Zr();return e={current:e},n.memoizedState=e},useState:rh,useDebugValue:jd,useDeferredValue:function(e){return Zr().memoizedState=e},useTransition:function(){var e=rh(!1),n=e[0];return e=Mx.bind(null,e[1]),Zr().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,o){var c=Ht,g=Zr();if(Nt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=n(),ln===null)throw Error(s(349));(So&30)!==0||X0(c,n,o)}g.memoizedState=o;var _={value:o,getSnapshot:n};return g.queue=_,oh(eh.bind(null,c,_,e),[e]),c.flags|=2048,Pa(9,J0.bind(null,c,_,o,n),void 0,null),o},useId:function(){var e=Zr(),n=ln.identifierPrefix;if(Nt){var o=fi,c=di;o=(c&~(1<<32-Je(c)-1)).toString(32)+o,n=":"+n+"R"+o,o=Sa++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=Lx++,n=":"+n+"r"+o.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},jx={readContext:hr,useCallback:ch,useContext:hr,useEffect:zd,useImperativeHandle:uh,useInsertionEffect:sh,useLayoutEffect:ah,useMemo:dh,useReducer:Id,useRef:ih,useState:function(){return Id(Ba)},useDebugValue:jd,useDeferredValue:function(e){var n=pr();return fh(n,nn.memoizedState,e)},useTransition:function(){var e=Id(Ba)[0],n=pr().memoizedState;return[e,n]},useMutableSource:$0,useSyncExternalStore:Y0,useId:hh,unstable_isNewReconciler:!1},Hx={readContext:hr,useCallback:ch,useContext:hr,useEffect:zd,useImperativeHandle:uh,useInsertionEffect:sh,useLayoutEffect:ah,useMemo:dh,useReducer:Od,useRef:ih,useState:function(){return Od(Ba)},useDebugValue:jd,useDeferredValue:function(e){var n=pr();return nn===null?n.memoizedState=e:fh(n,nn.memoizedState,e)},useTransition:function(){var e=Od(Ba)[0],n=pr().memoizedState;return[e,n]},useMutableSource:$0,useSyncExternalStore:Y0,useId:hh,unstable_isNewReconciler:!1};function kr(e,n){if(e&&e.defaultProps){n=ne({},n),e=e.defaultProps;for(var o in e)n[o]===void 0&&(n[o]=e[o]);return n}return n}function Hd(e,n,o,c){n=e.memoizedState,o=o(c,n),o=o==null?n:ne({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var tu={isMounted:function(e){return(e=e._reactInternals)?Nr(e)===e:!1},enqueueSetState:function(e,n,o){e=e._reactInternals;var c=Rn(),g=Xi(e),_=pi(c,g);_.payload=n,o!=null&&(_.callback=o),n=Qi(e,_,g),n!==null&&(Pr(n,e,g,c),Gl(n,e,g))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var c=Rn(),g=Xi(e),_=pi(c,g);_.tag=1,_.payload=n,o!=null&&(_.callback=o),n=Qi(e,_,g),n!==null&&(Pr(n,e,g,c),Gl(n,e,g))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=Rn(),c=Xi(e),g=pi(o,c);g.tag=2,n!=null&&(g.callback=n),n=Qi(e,g,c),n!==null&&(Pr(n,e,c,o),Gl(n,e,c))}};function gh(e,n,o,c,g,_,M){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,_,M):n.prototype&&n.prototype.isPureReactComponent?!zr(o,c)||!zr(g,_):!0}function xh(e,n,o){var c=!1,g=Wi,_=n.contextType;return typeof _=="object"&&_!==null?_=hr(_):(g=In(n)?wo:wn.current,c=n.contextTypes,_=(c=c!=null)?ys(e,g):Wi),n=new n(o,_),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=tu,e.stateNode=n,n._reactInternals=e,c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=g,e.__reactInternalMemoizedMaskedChildContext=_),n}function vh(e,n,o,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,c),n.state!==e&&tu.enqueueReplaceState(n,n.state,null)}function Vd(e,n,o,c){var g=e.stateNode;g.props=o,g.state=e.memoizedState,g.refs={},Bd(e);var _=n.contextType;typeof _=="object"&&_!==null?g.context=hr(_):(_=In(n)?wo:wn.current,g.context=ys(e,_)),g.state=e.memoizedState,_=n.getDerivedStateFromProps,typeof _=="function"&&(Hd(e,n,_,o),g.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(n=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),n!==g.state&&tu.enqueueReplaceState(g,g.state,null),Ql(e,o,g,c),g.state=e.memoizedState),typeof g.componentDidMount=="function"&&(e.flags|=4194308)}function Bs(e,n){try{var o="",c=n;do o+=fe(c),c=c.return;while(c);var g=o}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:e,source:n,stack:g,digest:null}}function Ud(e,n,o){return{value:e,source:null,stack:o??null,digest:n??null}}function Zd(e,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var Vx=typeof WeakMap=="function"?WeakMap:Map;function yh(e,n,o){o=pi(-1,o),o.tag=3,o.payload={element:null};var c=n.value;return o.callback=function(){lu||(lu=!0,sf=c),Zd(e,n)},o}function _h(e,n,o){o=pi(-1,o),o.tag=3;var c=e.type.getDerivedStateFromError;if(typeof c=="function"){var g=n.value;o.payload=function(){return c(g)},o.callback=function(){Zd(e,n)}}var _=e.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(o.callback=function(){Zd(e,n),typeof c!="function"&&($i===null?$i=new Set([this]):$i.add(this));var M=n.stack;this.componentDidCatch(n.value,{componentStack:M!==null?M:""})}),o}function wh(e,n,o){var c=e.pingCache;if(c===null){c=e.pingCache=new Vx;var g=new Set;c.set(n,g)}else g=c.get(n),g===void 0&&(g=new Set,c.set(n,g));g.has(o)||(g.add(o),e=nv.bind(null,e,n,o),n.then(e,e))}function bh(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Ch(e,n,o,c,g){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=pi(-1,1),n.tag=2,Qi(o,n,1))),o.lanes|=1),e):(e.flags|=65536,e.lanes=g,e)}var Ux=I.ReactCurrentOwner,On=!1;function Dn(e,n,o,c){n.child=e===null?Z0(n,null,o,c):Cs(n,e.child,o,c)}function Eh(e,n,o,c,g){o=o.render;var _=n.ref;return ks(n,g),c=Ld(e,n,o,c,_,g),o=Md(),e!==null&&!On?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~g,mi(e,n,g)):(Nt&&o&&xd(n),n.flags|=1,Dn(e,n,c,g),n.child)}function kh(e,n,o,c,g){if(e===null){var _=o.type;return typeof _=="function"&&!hf(_)&&_.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=_,Sh(e,n,_,c,g)):(e=pu(o.type,null,c,n,n.mode,g),e.ref=n.ref,e.return=n,n.child=e)}if(_=e.child,(e.lanes&g)===0){var M=_.memoizedProps;if(o=o.compare,o=o!==null?o:zr,o(M,c)&&e.ref===n.ref)return mi(e,n,g)}return n.flags|=1,e=eo(_,c),e.ref=n.ref,e.return=n,n.child=e}function Sh(e,n,o,c,g){if(e!==null){var _=e.memoizedProps;if(zr(_,c)&&e.ref===n.ref)if(On=!1,n.pendingProps=c=_,(e.lanes&g)!==0)(e.flags&131072)!==0&&(On=!0);else return n.lanes=e.lanes,mi(e,n,g)}return Wd(e,n,o,c,g)}function Bh(e,n,o){var c=n.pendingProps,g=c.children,_=e!==null?e.memoizedState:null;if(c.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(Ts,nr),nr|=o;else{if((o&1073741824)===0)return e=_!==null?_.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Pt(Ts,nr),nr|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=_!==null?_.baseLanes:o,Pt(Ts,nr),nr|=c}else _!==null?(c=_.baseLanes|o,n.memoizedState=null):c=o,Pt(Ts,nr),nr|=c;return Dn(e,n,g,o),n.child}function Ph(e,n){var o=n.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function Wd(e,n,o,c,g){var _=In(o)?wo:wn.current;return _=ys(n,_),ks(n,g),o=Ld(e,n,o,c,_,g),c=Md(),e!==null&&!On?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~g,mi(e,n,g)):(Nt&&c&&xd(n),n.flags|=1,Dn(e,n,o,g),n.child)}function Th(e,n,o,c,g){if(In(o)){var _=!0;zl(n)}else _=!1;if(ks(n,g),n.stateNode===null)ru(e,n),xh(n,o,c),Vd(n,o,c,g),c=!0;else if(e===null){var M=n.stateNode,W=n.memoizedProps;M.props=W;var Y=M.context,ce=o.contextType;typeof ce=="object"&&ce!==null?ce=hr(ce):(ce=In(o)?wo:wn.current,ce=ys(n,ce));var ye=o.getDerivedStateFromProps,_e=typeof ye=="function"||typeof M.getSnapshotBeforeUpdate=="function";_e||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(W!==c||Y!==ce)&&vh(n,M,c,ce),Gi=!1;var ve=n.memoizedState;M.state=ve,Ql(n,c,M,g),Y=n.memoizedState,W!==c||ve!==Y||Mn.current||Gi?(typeof ye=="function"&&(Hd(n,o,ye,c),Y=n.memoizedState),(W=Gi||gh(n,o,W,c,ve,Y,ce))?(_e||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(n.flags|=4194308)):(typeof M.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=Y),M.props=c,M.state=Y,M.context=ce,c=W):(typeof M.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{M=n.stateNode,q0(e,n),W=n.memoizedProps,ce=n.type===n.elementType?W:kr(n.type,W),M.props=ce,_e=n.pendingProps,ve=M.context,Y=o.contextType,typeof Y=="object"&&Y!==null?Y=hr(Y):(Y=In(o)?wo:wn.current,Y=ys(n,Y));var Te=o.getDerivedStateFromProps;(ye=typeof Te=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(W!==_e||ve!==Y)&&vh(n,M,c,Y),Gi=!1,ve=n.memoizedState,M.state=ve,Ql(n,c,M,g);var Re=n.memoizedState;W!==_e||ve!==Re||Mn.current||Gi?(typeof Te=="function"&&(Hd(n,o,Te,c),Re=n.memoizedState),(ce=Gi||gh(n,o,ce,c,ve,Re,Y)||!1)?(ye||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(c,Re,Y),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(c,Re,Y)),typeof M.componentDidUpdate=="function"&&(n.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof M.componentDidUpdate!="function"||W===e.memoizedProps&&ve===e.memoizedState||(n.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||W===e.memoizedProps&&ve===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=Re),M.props=c,M.state=Re,M.context=Y,c=ce):(typeof M.componentDidUpdate!="function"||W===e.memoizedProps&&ve===e.memoizedState||(n.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||W===e.memoizedProps&&ve===e.memoizedState||(n.flags|=1024),c=!1)}return qd(e,n,o,c,_,g)}function qd(e,n,o,c,g,_){Ph(e,n);var M=(n.flags&128)!==0;if(!c&&!M)return g&&L0(n,o,!1),mi(e,n,_);c=n.stateNode,Ux.current=n;var W=M&&typeof o.getDerivedStateFromError!="function"?null:c.render();return n.flags|=1,e!==null&&M?(n.child=Cs(n,e.child,null,_),n.child=Cs(n,null,W,_)):Dn(e,n,W,_),n.memoizedState=c.state,g&&L0(n,o,!0),n.child}function Dh(e){var n=e.stateNode;n.pendingContext?F0(e,n.pendingContext,n.pendingContext!==n.context):n.context&&F0(e,n.context,!1),Pd(e,n.containerInfo)}function Rh(e,n,o,c,g){return bs(),wd(g),n.flags|=256,Dn(e,n,o,c),n.child}var Gd={dehydrated:null,treeContext:null,retryLane:0};function Qd(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fh(e,n,o){var c=n.pendingProps,g=jt.current,_=!1,M=(n.flags&128)!==0,W;if((W=M)||(W=e!==null&&e.memoizedState===null?!1:(g&2)!==0),W?(_=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(g|=1),Pt(jt,g&1),e===null)return _d(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(M=c.children,e=c.fallback,_?(c=n.mode,_=n.child,M={mode:"hidden",children:M},(c&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=M):_=mu(M,c,0,null),e=Ro(e,c,o,null),_.return=n,e.return=n,_.sibling=e,n.child=_,n.child.memoizedState=Qd(o),n.memoizedState=Gd,e):Kd(n,M));if(g=e.memoizedState,g!==null&&(W=g.dehydrated,W!==null))return Zx(e,n,M,c,W,g,o);if(_){_=c.fallback,M=n.mode,g=e.child,W=g.sibling;var Y={mode:"hidden",children:c.children};return(M&1)===0&&n.child!==g?(c=n.child,c.childLanes=0,c.pendingProps=Y,n.deletions=null):(c=eo(g,Y),c.subtreeFlags=g.subtreeFlags&14680064),W!==null?_=eo(W,_):(_=Ro(_,M,o,null),_.flags|=2),_.return=n,c.return=n,c.sibling=_,n.child=c,c=_,_=n.child,M=e.child.memoizedState,M=M===null?Qd(o):{baseLanes:M.baseLanes|o,cachePool:null,transitions:M.transitions},_.memoizedState=M,_.childLanes=e.childLanes&~o,n.memoizedState=Gd,c}return _=e.child,e=_.sibling,c=eo(_,{mode:"visible",children:c.children}),(n.mode&1)===0&&(c.lanes=o),c.return=n,c.sibling=null,e!==null&&(o=n.deletions,o===null?(n.deletions=[e],n.flags|=16):o.push(e)),n.child=c,n.memoizedState=null,c}function Kd(e,n){return n=mu({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function nu(e,n,o,c){return c!==null&&wd(c),Cs(n,e.child,null,o),e=Kd(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Zx(e,n,o,c,g,_,M){if(o)return n.flags&256?(n.flags&=-257,c=Ud(Error(s(422))),nu(e,n,M,c)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(_=c.fallback,g=n.mode,c=mu({mode:"visible",children:c.children},g,0,null),_=Ro(_,g,M,null),_.flags|=2,c.return=n,_.return=n,c.sibling=_,n.child=c,(n.mode&1)!==0&&Cs(n,e.child,null,M),n.child.memoizedState=Qd(M),n.memoizedState=Gd,_);if((n.mode&1)===0)return nu(e,n,M,null);if(g.data==="$!"){if(c=g.nextSibling&&g.nextSibling.dataset,c)var W=c.dgst;return c=W,_=Error(s(419)),c=Ud(_,c,void 0),nu(e,n,M,c)}if(W=(M&e.childLanes)!==0,On||W){if(c=ln,c!==null){switch(M&-M){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(c.suspendedLanes|M))!==0?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,hi(e,g),Pr(c,e,g,-1))}return ff(),c=Ud(Error(s(421))),nu(e,n,M,c)}return g.data==="$?"?(n.flags|=128,n.child=e.child,n=rv.bind(null,e),g._reactRetry=n,null):(e=_.treeContext,tr=Vr(g.nextSibling),er=n,Nt=!0,Er=null,e!==null&&(dr[fr++]=di,dr[fr++]=fi,dr[fr++]=bo,di=e.id,fi=e.overflow,bo=n),n=Kd(n,c.children),n.flags|=4096,n)}function Nh(e,n,o){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),kd(e.return,n,o)}function $d(e,n,o,c,g){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:g}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=o,_.tailMode=g)}function Lh(e,n,o){var c=n.pendingProps,g=c.revealOrder,_=c.tail;if(Dn(e,n,c.children,o),c=jt.current,(c&2)!==0)c=c&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nh(e,o,n);else if(e.tag===19)Nh(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}if(Pt(jt,c),(n.mode&1)===0)n.memoizedState=null;else switch(g){case"forwards":for(o=n.child,g=null;o!==null;)e=o.alternate,e!==null&&Kl(e)===null&&(g=o),o=o.sibling;o=g,o===null?(g=n.child,n.child=null):(g=o.sibling,o.sibling=null),$d(n,!1,g,o,_);break;case"backwards":for(o=null,g=n.child,n.child=null;g!==null;){if(e=g.alternate,e!==null&&Kl(e)===null){n.child=g;break}e=g.sibling,g.sibling=o,o=g,g=e}$d(n,!0,o,null,_);break;case"together":$d(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ru(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function mi(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),Bo|=n.lanes,(o&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,o=eo(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=eo(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function Wx(e,n,o){switch(n.tag){case 3:Dh(n),bs();break;case 5:K0(n);break;case 1:In(n.type)&&zl(n);break;case 4:Pd(n,n.stateNode.containerInfo);break;case 10:var c=n.type._context,g=n.memoizedProps.value;Pt(Wl,c._currentValue),c._currentValue=g;break;case 13:if(c=n.memoizedState,c!==null)return c.dehydrated!==null?(Pt(jt,jt.current&1),n.flags|=128,null):(o&n.child.childLanes)!==0?Fh(e,n,o):(Pt(jt,jt.current&1),e=mi(e,n,o),e!==null?e.sibling:null);Pt(jt,jt.current&1);break;case 19:if(c=(o&n.childLanes)!==0,(e.flags&128)!==0){if(c)return Lh(e,n,o);n.flags|=128}if(g=n.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Pt(jt,jt.current),c)break;return null;case 22:case 23:return n.lanes=0,Bh(e,n,o)}return mi(e,n,o)}var Mh,Yd,Ih,Oh;Mh=function(e,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Yd=function(){},Ih=function(e,n,o,c){var g=e.memoizedProps;if(g!==c){e=n.stateNode,ko(Ur.current);var _=null;switch(o){case"input":g=Ve(e,g),c=Ve(e,c),_=[];break;case"select":g=ne({},g,{value:void 0}),c=ne({},c,{value:void 0}),_=[];break;case"textarea":g=Oe(e,g),c=Oe(e,c),_=[];break;default:typeof g.onClick!="function"&&typeof c.onClick=="function"&&(e.onclick=ge)}we(o,c);var M;o=null;for(ce in g)if(!c.hasOwnProperty(ce)&&g.hasOwnProperty(ce)&&g[ce]!=null)if(ce==="style"){var W=g[ce];for(M in W)W.hasOwnProperty(M)&&(o||(o={}),o[M]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(f.hasOwnProperty(ce)?_||(_=[]):(_=_||[]).push(ce,null));for(ce in c){var Y=c[ce];if(W=g!=null?g[ce]:void 0,c.hasOwnProperty(ce)&&Y!==W&&(Y!=null||W!=null))if(ce==="style")if(W){for(M in W)!W.hasOwnProperty(M)||Y&&Y.hasOwnProperty(M)||(o||(o={}),o[M]="");for(M in Y)Y.hasOwnProperty(M)&&W[M]!==Y[M]&&(o||(o={}),o[M]=Y[M])}else o||(_||(_=[]),_.push(ce,o)),o=Y;else ce==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,W=W?W.__html:void 0,Y!=null&&W!==Y&&(_=_||[]).push(ce,Y)):ce==="children"?typeof Y!="string"&&typeof Y!="number"||(_=_||[]).push(ce,""+Y):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(f.hasOwnProperty(ce)?(Y!=null&&ce==="onScroll"&&Ct("scroll",e),_||W===Y||(_=[])):(_=_||[]).push(ce,Y))}o&&(_=_||[]).push("style",o);var ce=_;(n.updateQueue=ce)&&(n.flags|=4)}},Oh=function(e,n,o,c){o!==c&&(n.flags|=4)};function Ta(e,n){if(!Nt)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Cn(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(n)for(var g=e.child;g!==null;)o|=g.lanes|g.childLanes,c|=g.subtreeFlags&14680064,c|=g.flags&14680064,g.return=e,g=g.sibling;else for(g=e.child;g!==null;)o|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=e,g=g.sibling;return e.subtreeFlags|=c,e.childLanes=o,n}function qx(e,n,o){var c=n.pendingProps;switch(vd(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(n),null;case 1:return In(n.type)&&Ol(),Cn(n),null;case 3:return c=n.stateNode,Ss(),Dt(Mn),Dt(wn),Rd(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(Ul(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Er!==null&&(uf(Er),Er=null))),Yd(e,n),Cn(n),null;case 5:Td(n);var g=ko(Ea.current);if(o=n.type,e!==null&&n.stateNode!=null)Ih(e,n,o,c,g),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!c){if(n.stateNode===null)throw Error(s(166));return Cn(n),null}if(e=ko(Ur.current),Ul(n)){c=n.stateNode,o=n.type;var _=n.memoizedProps;switch(c[cr]=n,c[Vi]=_,e=(n.mode&1)!==0,o){case"dialog":Ct("cancel",c),Ct("close",c);break;case"iframe":case"object":case"embed":Ct("load",c);break;case"video":case"audio":for(g=0;g<zi.length;g++)Ct(zi[g],c);break;case"source":Ct("error",c);break;case"img":case"image":case"link":Ct("error",c),Ct("load",c);break;case"details":Ct("toggle",c);break;case"input":dt(c,_),Ct("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!_.multiple},Ct("invalid",c);break;case"textarea":_t(c,_),Ct("invalid",c)}we(o,_),g=null;for(var M in _)if(_.hasOwnProperty(M)){var W=_[M];M==="children"?typeof W=="string"?c.textContent!==W&&(_.suppressHydrationWarning!==!0&&ue(c.textContent,W,e),g=["children",W]):typeof W=="number"&&c.textContent!==""+W&&(_.suppressHydrationWarning!==!0&&ue(c.textContent,W,e),g=["children",""+W]):f.hasOwnProperty(M)&&W!=null&&M==="onScroll"&&Ct("scroll",c)}switch(o){case"input":Et(c),ot(c,_,!0);break;case"textarea":Et(c),Un(c);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(c.onclick=ge)}c=g,n.updateQueue=c,c!==null&&(n.flags|=4)}else{M=g.nodeType===9?g:g.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=It(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=M.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof c.is=="string"?e=M.createElement(o,{is:c.is}):(e=M.createElement(o),o==="select"&&(M=e,c.multiple?M.multiple=!0:c.size&&(M.size=c.size))):e=M.createElementNS(e,o),e[cr]=n,e[Vi]=c,Mh(e,n,!1,!1),n.stateNode=e;e:{switch(M=te(o,c),o){case"dialog":Ct("cancel",e),Ct("close",e),g=c;break;case"iframe":case"object":case"embed":Ct("load",e),g=c;break;case"video":case"audio":for(g=0;g<zi.length;g++)Ct(zi[g],e);g=c;break;case"source":Ct("error",e),g=c;break;case"img":case"image":case"link":Ct("error",e),Ct("load",e),g=c;break;case"details":Ct("toggle",e),g=c;break;case"input":dt(e,c),g=Ve(e,c),Ct("invalid",e);break;case"option":g=c;break;case"select":e._wrapperState={wasMultiple:!!c.multiple},g=ne({},c,{value:void 0}),Ct("invalid",e);break;case"textarea":_t(e,c),g=Oe(e,c),Ct("invalid",e);break;default:g=c}we(o,g),W=g;for(_ in W)if(W.hasOwnProperty(_)){var Y=W[_];_==="style"?xn(e,Y):_==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&Sn(e,Y)):_==="children"?typeof Y=="string"?(o!=="textarea"||Y!=="")&&Ut(e,Y):typeof Y=="number"&&Ut(e,""+Y):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(f.hasOwnProperty(_)?Y!=null&&_==="onScroll"&&Ct("scroll",e):Y!=null&&k(e,_,Y,M))}switch(o){case"input":Et(e),ot(e,c,!1);break;case"textarea":Et(e),Un(e);break;case"option":c.value!=null&&e.setAttribute("value",""+Ae(c.value));break;case"select":e.multiple=!!c.multiple,_=c.value,_!=null?et(e,!!c.multiple,_,!1):c.defaultValue!=null&&et(e,!!c.multiple,c.defaultValue,!0);break;default:typeof g.onClick=="function"&&(e.onclick=ge)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Cn(n),null;case 6:if(e&&n.stateNode!=null)Oh(e,n,e.memoizedProps,c);else{if(typeof c!="string"&&n.stateNode===null)throw Error(s(166));if(o=ko(Ea.current),ko(Ur.current),Ul(n)){if(c=n.stateNode,o=n.memoizedProps,c[cr]=n,(_=c.nodeValue!==o)&&(e=er,e!==null))switch(e.tag){case 3:ue(c.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ue(c.nodeValue,o,(e.mode&1)!==0)}_&&(n.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[cr]=n,n.stateNode=c}return Cn(n),null;case 13:if(Dt(jt),c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Nt&&tr!==null&&(n.mode&1)!==0&&(n.flags&128)===0)H0(),bs(),n.flags|=98560,_=!1;else if(_=Ul(n),c!==null&&c.dehydrated!==null){if(e===null){if(!_)throw Error(s(318));if(_=n.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(s(317));_[cr]=n}else bs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Cn(n),_=!1}else Er!==null&&(uf(Er),Er=null),_=!0;if(!_)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=o,n):(c=c!==null,c!==(e!==null&&e.memoizedState!==null)&&c&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(jt.current&1)!==0?rn===0&&(rn=3):ff())),n.updateQueue!==null&&(n.flags|=4),Cn(n),null);case 4:return Ss(),Yd(e,n),e===null&&ji(n.stateNode.containerInfo),Cn(n),null;case 10:return Ed(n.type._context),Cn(n),null;case 17:return In(n.type)&&Ol(),Cn(n),null;case 19:if(Dt(jt),_=n.memoizedState,_===null)return Cn(n),null;if(c=(n.flags&128)!==0,M=_.rendering,M===null)if(c)Ta(_,!1);else{if(rn!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(M=Kl(e),M!==null){for(n.flags|=128,Ta(_,!1),c=M.updateQueue,c!==null&&(n.updateQueue=c,n.flags|=4),n.subtreeFlags=0,c=o,o=n.child;o!==null;)_=o,e=c,_.flags&=14680066,M=_.alternate,M===null?(_.childLanes=0,_.lanes=e,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=M.childLanes,_.lanes=M.lanes,_.child=M.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=M.memoizedProps,_.memoizedState=M.memoizedState,_.updateQueue=M.updateQueue,_.type=M.type,e=M.dependencies,_.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return Pt(jt,jt.current&1|2),n.child}e=e.sibling}_.tail!==null&&Ot()>Ds&&(n.flags|=128,c=!0,Ta(_,!1),n.lanes=4194304)}else{if(!c)if(e=Kl(M),e!==null){if(n.flags|=128,c=!0,o=e.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),Ta(_,!0),_.tail===null&&_.tailMode==="hidden"&&!M.alternate&&!Nt)return Cn(n),null}else 2*Ot()-_.renderingStartTime>Ds&&o!==1073741824&&(n.flags|=128,c=!0,Ta(_,!1),n.lanes=4194304);_.isBackwards?(M.sibling=n.child,n.child=M):(o=_.last,o!==null?o.sibling=M:n.child=M,_.last=M)}return _.tail!==null?(n=_.tail,_.rendering=n,_.tail=n.sibling,_.renderingStartTime=Ot(),n.sibling=null,o=jt.current,Pt(jt,c?o&1|2:o&1),n):(Cn(n),null);case 22:case 23:return df(),c=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==c&&(n.flags|=8192),c&&(n.mode&1)!==0?(nr&1073741824)!==0&&(Cn(n),n.subtreeFlags&6&&(n.flags|=8192)):Cn(n),null;case 24:return null;case 25:return null}throw Error(s(156,n.tag))}function Gx(e,n){switch(vd(n),n.tag){case 1:return In(n.type)&&Ol(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ss(),Dt(Mn),Dt(wn),Rd(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Td(n),null;case 13:if(Dt(jt),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));bs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Dt(jt),null;case 4:return Ss(),null;case 10:return Ed(n.type._context),null;case 22:case 23:return df(),null;case 24:return null;default:return null}}var iu=!1,En=!1,Qx=typeof WeakSet=="function"?WeakSet:Set,De=null;function Ps(e,n){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){Gt(e,n,c)}else o.current=null}function Xd(e,n,o){try{o()}catch(c){Gt(e,n,c)}}var zh=!1;function Kx(e,n){if(Be=po,e=ha(),pa(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var g=c.anchorOffset,_=c.focusNode;c=c.focusOffset;try{o.nodeType,_.nodeType}catch{o=null;break e}var M=0,W=-1,Y=-1,ce=0,ye=0,_e=e,ve=null;t:for(;;){for(var Te;_e!==o||g!==0&&_e.nodeType!==3||(W=M+g),_e!==_||c!==0&&_e.nodeType!==3||(Y=M+c),_e.nodeType===3&&(M+=_e.nodeValue.length),(Te=_e.firstChild)!==null;)ve=_e,_e=Te;for(;;){if(_e===e)break t;if(ve===o&&++ce===g&&(W=M),ve===_&&++ye===c&&(Y=M),(Te=_e.nextSibling)!==null)break;_e=ve,ve=_e.parentNode}_e=Te}o=W===-1||Y===-1?null:{start:W,end:Y}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ue={focusedElem:e,selectionRange:o},po=!1,De=n;De!==null;)if(n=De,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,De=e;else for(;De!==null;){n=De;try{var Re=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var Me=Re.memoizedProps,Qt=Re.memoizedState,se=n.stateNode,ee=se.getSnapshotBeforeUpdate(n.elementType===n.type?Me:kr(n.type,Me),Qt);se.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:var ae=n.stateNode.containerInfo;ae.nodeType===1?ae.textContent="":ae.nodeType===9&&ae.documentElement&&ae.removeChild(ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Ce){Gt(n,n.return,Ce)}if(e=n.sibling,e!==null){e.return=n.return,De=e;break}De=n.return}return Re=zh,zh=!1,Re}function Da(e,n,o){var c=n.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var g=c=c.next;do{if((g.tag&e)===e){var _=g.destroy;g.destroy=void 0,_!==void 0&&Xd(n,o,_)}g=g.next}while(g!==c)}}function ou(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var c=o.create;o.destroy=c()}o=o.next}while(o!==n)}}function Jd(e){var n=e.ref;if(n!==null){var o=e.stateNode;switch(e.tag){case 5:e=o;break;default:e=o}typeof n=="function"?n(e):n.current=e}}function jh(e){var n=e.alternate;n!==null&&(e.alternate=null,jh(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[cr],delete n[Vi],delete n[Ui],delete n[pd],delete n[md])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Hh(e){return e.tag===5||e.tag===3||e.tag===4}function Vh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Hh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ef(e,n,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(e,n):o.insertBefore(e,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(e,o)):(n=o,n.appendChild(e)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=ge));else if(c!==4&&(e=e.child,e!==null))for(ef(e,n,o),e=e.sibling;e!==null;)ef(e,n,o),e=e.sibling}function tf(e,n,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(c!==4&&(e=e.child,e!==null))for(tf(e,n,o),e=e.sibling;e!==null;)tf(e,n,o),e=e.sibling}var pn=null,Sr=!1;function Ki(e,n,o){for(o=o.child;o!==null;)Uh(e,n,o),o=o.sibling}function Uh(e,n,o){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(ao,o)}catch{}switch(o.tag){case 5:En||Ps(o,n);case 6:var c=pn,g=Sr;pn=null,Ki(e,n,o),pn=c,Sr=g,pn!==null&&(Sr?(e=pn,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):pn.removeChild(o.stateNode));break;case 18:pn!==null&&(Sr?(e=pn,o=o.stateNode,e.nodeType===8?_a(e.parentNode,o):e.nodeType===1&&_a(e,o),Kn(e)):_a(pn,o.stateNode));break;case 4:c=pn,g=Sr,pn=o.stateNode.containerInfo,Sr=!0,Ki(e,n,o),pn=c,Sr=g;break;case 0:case 11:case 14:case 15:if(!En&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){g=c=c.next;do{var _=g,M=_.destroy;_=_.tag,M!==void 0&&((_&2)!==0||(_&4)!==0)&&Xd(o,n,M),g=g.next}while(g!==c)}Ki(e,n,o);break;case 1:if(!En&&(Ps(o,n),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(W){Gt(o,n,W)}Ki(e,n,o);break;case 21:Ki(e,n,o);break;case 22:o.mode&1?(En=(c=En)||o.memoizedState!==null,Ki(e,n,o),En=c):Ki(e,n,o);break;default:Ki(e,n,o)}}function Zh(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new Qx),n.forEach(function(c){var g=iv.bind(null,e,c);o.has(c)||(o.add(c),c.then(g,g))})}}function Br(e,n){var o=n.deletions;if(o!==null)for(var c=0;c<o.length;c++){var g=o[c];try{var _=e,M=n,W=M;e:for(;W!==null;){switch(W.tag){case 5:pn=W.stateNode,Sr=!1;break e;case 3:pn=W.stateNode.containerInfo,Sr=!0;break e;case 4:pn=W.stateNode.containerInfo,Sr=!0;break e}W=W.return}if(pn===null)throw Error(s(160));Uh(_,M,g),pn=null,Sr=!1;var Y=g.alternate;Y!==null&&(Y.return=null),g.return=null}catch(ce){Gt(g,n,ce)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Wh(n,e),n=n.sibling}function Wh(e,n){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Br(n,e),Wr(e),c&4){try{Da(3,e,e.return),ou(3,e)}catch(Me){Gt(e,e.return,Me)}try{Da(5,e,e.return)}catch(Me){Gt(e,e.return,Me)}}break;case 1:Br(n,e),Wr(e),c&512&&o!==null&&Ps(o,o.return);break;case 5:if(Br(n,e),Wr(e),c&512&&o!==null&&Ps(o,o.return),e.flags&32){var g=e.stateNode;try{Ut(g,"")}catch(Me){Gt(e,e.return,Me)}}if(c&4&&(g=e.stateNode,g!=null)){var _=e.memoizedProps,M=o!==null?o.memoizedProps:_,W=e.type,Y=e.updateQueue;if(e.updateQueue=null,Y!==null)try{W==="input"&&_.type==="radio"&&_.name!=null&&Mt(g,_),te(W,M);var ce=te(W,_);for(M=0;M<Y.length;M+=2){var ye=Y[M],_e=Y[M+1];ye==="style"?xn(g,_e):ye==="dangerouslySetInnerHTML"?Sn(g,_e):ye==="children"?Ut(g,_e):k(g,ye,_e,ce)}switch(W){case"input":vt(g,_);break;case"textarea":$t(g,_);break;case"select":var ve=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var Te=_.value;Te!=null?et(g,!!_.multiple,Te,!1):ve!==!!_.multiple&&(_.defaultValue!=null?et(g,!!_.multiple,_.defaultValue,!0):et(g,!!_.multiple,_.multiple?[]:"",!1))}g[Vi]=_}catch(Me){Gt(e,e.return,Me)}}break;case 6:if(Br(n,e),Wr(e),c&4){if(e.stateNode===null)throw Error(s(162));g=e.stateNode,_=e.memoizedProps;try{g.nodeValue=_}catch(Me){Gt(e,e.return,Me)}}break;case 3:if(Br(n,e),Wr(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Kn(n.containerInfo)}catch(Me){Gt(e,e.return,Me)}break;case 4:Br(n,e),Wr(e);break;case 13:Br(n,e),Wr(e),g=e.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(of=Ot())),c&4&&Zh(e);break;case 22:if(ye=o!==null&&o.memoizedState!==null,e.mode&1?(En=(ce=En)||ye,Br(n,e),En=ce):Br(n,e),Wr(e),c&8192){if(ce=e.memoizedState!==null,(e.stateNode.isHidden=ce)&&!ye&&(e.mode&1)!==0)for(De=e,ye=e.child;ye!==null;){for(_e=De=ye;De!==null;){switch(ve=De,Te=ve.child,ve.tag){case 0:case 11:case 14:case 15:Da(4,ve,ve.return);break;case 1:Ps(ve,ve.return);var Re=ve.stateNode;if(typeof Re.componentWillUnmount=="function"){c=ve,o=ve.return;try{n=c,Re.props=n.memoizedProps,Re.state=n.memoizedState,Re.componentWillUnmount()}catch(Me){Gt(c,o,Me)}}break;case 5:Ps(ve,ve.return);break;case 22:if(ve.memoizedState!==null){Qh(_e);continue}}Te!==null?(Te.return=ve,De=Te):Qh(_e)}ye=ye.sibling}e:for(ye=null,_e=e;;){if(_e.tag===5){if(ye===null){ye=_e;try{g=_e.stateNode,ce?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(W=_e.stateNode,Y=_e.memoizedProps.style,M=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,W.style.display=Zn("display",M))}catch(Me){Gt(e,e.return,Me)}}}else if(_e.tag===6){if(ye===null)try{_e.stateNode.nodeValue=ce?"":_e.memoizedProps}catch(Me){Gt(e,e.return,Me)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===e)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===e)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===e)break e;ye===_e&&(ye=null),_e=_e.return}ye===_e&&(ye=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:Br(n,e),Wr(e),c&4&&Zh(e);break;case 21:break;default:Br(n,e),Wr(e)}}function Wr(e){var n=e.flags;if(n&2){try{e:{for(var o=e.return;o!==null;){if(Hh(o)){var c=o;break e}o=o.return}throw Error(s(160))}switch(c.tag){case 5:var g=c.stateNode;c.flags&32&&(Ut(g,""),c.flags&=-33);var _=Vh(e);tf(e,_,g);break;case 3:case 4:var M=c.stateNode.containerInfo,W=Vh(e);ef(e,W,M);break;default:throw Error(s(161))}}catch(Y){Gt(e,e.return,Y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function $x(e,n,o){De=e,qh(e)}function qh(e,n,o){for(var c=(e.mode&1)!==0;De!==null;){var g=De,_=g.child;if(g.tag===22&&c){var M=g.memoizedState!==null||iu;if(!M){var W=g.alternate,Y=W!==null&&W.memoizedState!==null||En;W=iu;var ce=En;if(iu=M,(En=Y)&&!ce)for(De=g;De!==null;)M=De,Y=M.child,M.tag===22&&M.memoizedState!==null?Kh(g):Y!==null?(Y.return=M,De=Y):Kh(g);for(;_!==null;)De=_,qh(_),_=_.sibling;De=g,iu=W,En=ce}Gh(e)}else(g.subtreeFlags&8772)!==0&&_!==null?(_.return=g,De=_):Gh(e)}}function Gh(e){for(;De!==null;){var n=De;if((n.flags&8772)!==0){var o=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:En||ou(5,n);break;case 1:var c=n.stateNode;if(n.flags&4&&!En)if(o===null)c.componentDidMount();else{var g=n.elementType===n.type?o.memoizedProps:kr(n.type,o.memoizedProps);c.componentDidUpdate(g,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var _=n.updateQueue;_!==null&&Q0(n,_,c);break;case 3:var M=n.updateQueue;if(M!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}Q0(n,M,o)}break;case 5:var W=n.stateNode;if(o===null&&n.flags&4){o=W;var Y=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&o.focus();break;case"img":Y.src&&(o.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var ce=n.alternate;if(ce!==null){var ye=ce.memoizedState;if(ye!==null){var _e=ye.dehydrated;_e!==null&&Kn(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}En||n.flags&512&&Jd(n)}catch(ve){Gt(n,n.return,ve)}}if(n===e){De=null;break}if(o=n.sibling,o!==null){o.return=n.return,De=o;break}De=n.return}}function Qh(e){for(;De!==null;){var n=De;if(n===e){De=null;break}var o=n.sibling;if(o!==null){o.return=n.return,De=o;break}De=n.return}}function Kh(e){for(;De!==null;){var n=De;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{ou(4,n)}catch(Y){Gt(n,o,Y)}break;case 1:var c=n.stateNode;if(typeof c.componentDidMount=="function"){var g=n.return;try{c.componentDidMount()}catch(Y){Gt(n,g,Y)}}var _=n.return;try{Jd(n)}catch(Y){Gt(n,_,Y)}break;case 5:var M=n.return;try{Jd(n)}catch(Y){Gt(n,M,Y)}}}catch(Y){Gt(n,n.return,Y)}if(n===e){De=null;break}var W=n.sibling;if(W!==null){W.return=n.return,De=W;break}De=n.return}}var Yx=Math.ceil,su=I.ReactCurrentDispatcher,nf=I.ReactCurrentOwner,mr=I.ReactCurrentBatchConfig,At=0,ln=null,Xt=null,mn=0,nr=0,Ts=Zi(0),rn=0,Ra=null,Bo=0,au=0,rf=0,Fa=null,zn=null,of=0,Ds=1/0,Ai=null,lu=!1,sf=null,$i=null,uu=!1,Yi=null,cu=0,Na=0,af=null,du=-1,fu=0;function Rn(){return(At&6)!==0?Ot():du!==-1?du:du=Ot()}function Xi(e){return(e.mode&1)===0?1:(At&2)!==0&&mn!==0?mn&-mn:Nx.transition!==null?(fu===0&&(fu=ml()),fu):(e=ft,e!==0||(e=window.event,e=e===void 0?16:ut(e.type)),e)}function Pr(e,n,o,c){if(50<Na)throw Na=0,af=null,Error(s(185));Gn(e,o,c),((At&2)===0||e!==ln)&&(e===ln&&((At&2)===0&&(au|=o),rn===4&&Ji(e,mn)),jn(e,c),o===1&&At===0&&(n.mode&1)===0&&(Ds=Ot()+500,jl&&qi()))}function jn(e,n){var o=e.callbackNode;Yo(e,n);var c=Bt(e,e===ln?mn:0);if(c===0)o!==null&&Ks(o),e.callbackNode=null,e.callbackPriority=0;else if(n=c&-c,e.callbackPriority!==n){if(o!=null&&Ks(o),n===1)e.tag===0?Fx(Yh.bind(null,e)):M0(Yh.bind(null,e)),_n(function(){(At&6)===0&&qi()}),o=null;else{switch(Si(c)){case 1:o=$s;break;case 4:o=pl;break;case 16:o=Ko;break;case 536870912:o=bi;break;default:o=Ko}o=op(o,$h.bind(null,e))}e.callbackPriority=n,e.callbackNode=o}}function $h(e,n){if(du=-1,fu=0,(At&6)!==0)throw Error(s(327));var o=e.callbackNode;if(Rs()&&e.callbackNode!==o)return null;var c=Bt(e,e===ln?mn:0);if(c===0)return null;if((c&30)!==0||(c&e.expiredLanes)!==0||n)n=hu(e,c);else{n=c;var g=At;At|=2;var _=Jh();(ln!==e||mn!==n)&&(Ai=null,Ds=Ot()+500,To(e,n));do try{ev();break}catch(W){Xh(e,W)}while(!0);Cd(),su.current=_,At=g,Xt!==null?n=0:(ln=null,mn=0,n=rn)}if(n!==0){if(n===2&&(g=vn(e),g!==0&&(c=g,n=lf(e,g))),n===1)throw o=Ra,To(e,0),Ji(e,c),jn(e,Ot()),o;if(n===6)Ji(e,c);else{if(g=e.current.alternate,(c&30)===0&&!Xx(g)&&(n=hu(e,c),n===2&&(_=vn(e),_!==0&&(c=_,n=lf(e,_))),n===1))throw o=Ra,To(e,0),Ji(e,c),jn(e,Ot()),o;switch(e.finishedWork=g,e.finishedLanes=c,n){case 0:case 1:throw Error(s(345));case 2:Do(e,zn,Ai);break;case 3:if(Ji(e,c),(c&130023424)===c&&(n=of+500-Ot(),10<n)){if(Bt(e,0)!==0)break;if(g=e.suspendedLanes,(g&c)!==c){Rn(),e.pingedLanes|=e.suspendedLanes&g;break}e.timeoutHandle=tn(Do.bind(null,e,zn,Ai),n);break}Do(e,zn,Ai);break;case 4:if(Ji(e,c),(c&4194240)===c)break;for(n=e.eventTimes,g=-1;0<c;){var M=31-Je(c);_=1<<M,M=n[M],M>g&&(g=M),c&=~_}if(c=g,c=Ot()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Yx(c/1960))-c,10<c){e.timeoutHandle=tn(Do.bind(null,e,zn,Ai),c);break}Do(e,zn,Ai);break;case 5:Do(e,zn,Ai);break;default:throw Error(s(329))}}}return jn(e,Ot()),e.callbackNode===o?$h.bind(null,e):null}function lf(e,n){var o=Fa;return e.current.memoizedState.isDehydrated&&(To(e,n).flags|=256),e=hu(e,n),e!==2&&(n=zn,zn=o,n!==null&&uf(n)),e}function uf(e){zn===null?zn=e:zn.push.apply(zn,e)}function Xx(e){for(var n=e;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var g=o[c],_=g.getSnapshot;g=g.value;try{if(!Xn(_(),g))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ji(e,n){for(n&=~rf,n&=~au,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var o=31-Je(n),c=1<<o;e[o]=-1,n&=~c}}function Yh(e){if((At&6)!==0)throw Error(s(327));Rs();var n=Bt(e,0);if((n&1)===0)return jn(e,Ot()),null;var o=hu(e,n);if(e.tag!==0&&o===2){var c=vn(e);c!==0&&(n=c,o=lf(e,c))}if(o===1)throw o=Ra,To(e,0),Ji(e,n),jn(e,Ot()),o;if(o===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Do(e,zn,Ai),jn(e,Ot()),null}function cf(e,n){var o=At;At|=1;try{return e(n)}finally{At=o,At===0&&(Ds=Ot()+500,jl&&qi())}}function Po(e){Yi!==null&&Yi.tag===0&&(At&6)===0&&Rs();var n=At;At|=1;var o=mr.transition,c=ft;try{if(mr.transition=null,ft=1,e)return e()}finally{ft=c,mr.transition=o,At=n,(At&6)===0&&qi()}}function df(){nr=Ts.current,Dt(Ts)}function To(e,n){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,Yt(o)),Xt!==null)for(o=Xt.return;o!==null;){var c=o;switch(vd(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Ol();break;case 3:Ss(),Dt(Mn),Dt(wn),Rd();break;case 5:Td(c);break;case 4:Ss();break;case 13:Dt(jt);break;case 19:Dt(jt);break;case 10:Ed(c.type._context);break;case 22:case 23:df()}o=o.return}if(ln=e,Xt=e=eo(e.current,null),mn=nr=n,rn=0,Ra=null,rf=au=Bo=0,zn=Fa=null,Eo!==null){for(n=0;n<Eo.length;n++)if(o=Eo[n],c=o.interleaved,c!==null){o.interleaved=null;var g=c.next,_=o.pending;if(_!==null){var M=_.next;_.next=g,c.next=M}o.pending=c}Eo=null}return e}function Xh(e,n){do{var o=Xt;try{if(Cd(),$l.current=eu,Yl){for(var c=Ht.memoizedState;c!==null;){var g=c.queue;g!==null&&(g.pending=null),c=c.next}Yl=!1}if(So=0,an=nn=Ht=null,ka=!1,Sa=0,nf.current=null,o===null||o.return===null){rn=1,Ra=n,Xt=null;break}e:{var _=e,M=o.return,W=o,Y=n;if(n=mn,W.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ce=Y,ye=W,_e=ye.tag;if((ye.mode&1)===0&&(_e===0||_e===11||_e===15)){var ve=ye.alternate;ve?(ye.updateQueue=ve.updateQueue,ye.memoizedState=ve.memoizedState,ye.lanes=ve.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Te=bh(M);if(Te!==null){Te.flags&=-257,Ch(Te,M,W,_,n),Te.mode&1&&wh(_,ce,n),n=Te,Y=ce;var Re=n.updateQueue;if(Re===null){var Me=new Set;Me.add(Y),n.updateQueue=Me}else Re.add(Y);break e}else{if((n&1)===0){wh(_,ce,n),ff();break e}Y=Error(s(426))}}else if(Nt&&W.mode&1){var Qt=bh(M);if(Qt!==null){(Qt.flags&65536)===0&&(Qt.flags|=256),Ch(Qt,M,W,_,n),wd(Bs(Y,W));break e}}_=Y=Bs(Y,W),rn!==4&&(rn=2),Fa===null?Fa=[_]:Fa.push(_),_=M;do{switch(_.tag){case 3:_.flags|=65536,n&=-n,_.lanes|=n;var se=yh(_,Y,n);G0(_,se);break e;case 1:W=Y;var ee=_.type,ae=_.stateNode;if((_.flags&128)===0&&(typeof ee.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&($i===null||!$i.has(ae)))){_.flags|=65536,n&=-n,_.lanes|=n;var Ce=_h(_,W,n);G0(_,Ce);break e}}_=_.return}while(_!==null)}tp(o)}catch(Ie){n=Ie,Xt===o&&o!==null&&(Xt=o=o.return);continue}break}while(!0)}function Jh(){var e=su.current;return su.current=eu,e===null?eu:e}function ff(){(rn===0||rn===3||rn===2)&&(rn=4),ln===null||(Bo&268435455)===0&&(au&268435455)===0||Ji(ln,mn)}function hu(e,n){var o=At;At|=2;var c=Jh();(ln!==e||mn!==n)&&(Ai=null,To(e,n));do try{Jx();break}catch(g){Xh(e,g)}while(!0);if(Cd(),At=o,su.current=c,Xt!==null)throw Error(s(261));return ln=null,mn=0,rn}function Jx(){for(;Xt!==null;)ep(Xt)}function ev(){for(;Xt!==null&&!Xc();)ep(Xt)}function ep(e){var n=ip(e.alternate,e,nr);e.memoizedProps=e.pendingProps,n===null?tp(e):Xt=n,nf.current=null}function tp(e){var n=e;do{var o=n.alternate;if(e=n.return,(n.flags&32768)===0){if(o=qx(o,n,nr),o!==null){Xt=o;return}}else{if(o=Gx(o,n),o!==null){o.flags&=32767,Xt=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{rn=6,Xt=null;return}}if(n=n.sibling,n!==null){Xt=n;return}Xt=n=e}while(n!==null);rn===0&&(rn=5)}function Do(e,n,o){var c=ft,g=mr.transition;try{mr.transition=null,ft=1,tv(e,n,o,c)}finally{mr.transition=g,ft=c}return null}function tv(e,n,o,c){do Rs();while(Yi!==null);if((At&6)!==0)throw Error(s(327));o=e.finishedWork;var g=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var _=o.lanes|o.childLanes;if(qt(e,_),e===ln&&(Xt=ln=null,mn=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||uu||(uu=!0,op(Ko,function(){return Rs(),null})),_=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||_){_=mr.transition,mr.transition=null;var M=ft;ft=1;var W=At;At|=4,nf.current=null,Kx(e,o),Wh(o,e),lr(Ue),po=!!Be,Ue=Be=null,e.current=o,$x(o),Qo(),At=W,ft=M,mr.transition=_}else e.current=o;if(uu&&(uu=!1,Yi=e,cu=g),_=e.pendingLanes,_===0&&($i=null),lo(o.stateNode),jn(e,Ot()),n!==null)for(c=e.onRecoverableError,o=0;o<n.length;o++)g=n[o],c(g.value,{componentStack:g.stack,digest:g.digest});if(lu)throw lu=!1,e=sf,sf=null,e;return(cu&1)!==0&&e.tag!==0&&Rs(),_=e.pendingLanes,(_&1)!==0?e===af?Na++:(Na=0,af=e):Na=0,qi(),null}function Rs(){if(Yi!==null){var e=Si(cu),n=mr.transition,o=ft;try{if(mr.transition=null,ft=16>e?16:e,Yi===null)var c=!1;else{if(e=Yi,Yi=null,cu=0,(At&6)!==0)throw Error(s(331));var g=At;for(At|=4,De=e.current;De!==null;){var _=De,M=_.child;if((De.flags&16)!==0){var W=_.deletions;if(W!==null){for(var Y=0;Y<W.length;Y++){var ce=W[Y];for(De=ce;De!==null;){var ye=De;switch(ye.tag){case 0:case 11:case 15:Da(8,ye,_)}var _e=ye.child;if(_e!==null)_e.return=ye,De=_e;else for(;De!==null;){ye=De;var ve=ye.sibling,Te=ye.return;if(jh(ye),ye===ce){De=null;break}if(ve!==null){ve.return=Te,De=ve;break}De=Te}}}var Re=_.alternate;if(Re!==null){var Me=Re.child;if(Me!==null){Re.child=null;do{var Qt=Me.sibling;Me.sibling=null,Me=Qt}while(Me!==null)}}De=_}}if((_.subtreeFlags&2064)!==0&&M!==null)M.return=_,De=M;else e:for(;De!==null;){if(_=De,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Da(9,_,_.return)}var se=_.sibling;if(se!==null){se.return=_.return,De=se;break e}De=_.return}}var ee=e.current;for(De=ee;De!==null;){M=De;var ae=M.child;if((M.subtreeFlags&2064)!==0&&ae!==null)ae.return=M,De=ae;else e:for(M=ee;De!==null;){if(W=De,(W.flags&2048)!==0)try{switch(W.tag){case 0:case 11:case 15:ou(9,W)}}catch(Ie){Gt(W,W.return,Ie)}if(W===M){De=null;break e}var Ce=W.sibling;if(Ce!==null){Ce.return=W.return,De=Ce;break e}De=W.return}}if(At=g,qi(),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(ao,e)}catch{}c=!0}return c}finally{ft=o,mr.transition=n}}return!1}function np(e,n,o){n=Bs(o,n),n=yh(e,n,1),e=Qi(e,n,1),n=Rn(),e!==null&&(Gn(e,1,n),jn(e,n))}function Gt(e,n,o){if(e.tag===3)np(e,e,o);else for(;n!==null;){if(n.tag===3){np(n,e,o);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&($i===null||!$i.has(c))){e=Bs(o,e),e=_h(n,e,1),n=Qi(n,e,1),e=Rn(),n!==null&&(Gn(n,1,e),jn(n,e));break}}n=n.return}}function nv(e,n,o){var c=e.pingCache;c!==null&&c.delete(n),n=Rn(),e.pingedLanes|=e.suspendedLanes&o,ln===e&&(mn&o)===o&&(rn===4||rn===3&&(mn&130023424)===mn&&500>Ot()-of?To(e,0):rf|=o),jn(e,n)}function rp(e,n){n===0&&((e.mode&1)===0?n=1:(n=Ei,Ei<<=1,(Ei&130023424)===0&&(Ei=4194304)));var o=Rn();e=hi(e,n),e!==null&&(Gn(e,n,o),jn(e,o))}function rv(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),rp(e,o)}function iv(e,n){var o=0;switch(e.tag){case 13:var c=e.stateNode,g=e.memoizedState;g!==null&&(o=g.retryLane);break;case 19:c=e.stateNode;break;default:throw Error(s(314))}c!==null&&c.delete(n),rp(e,o)}var ip;ip=function(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps||Mn.current)On=!0;else{if((e.lanes&o)===0&&(n.flags&128)===0)return On=!1,Wx(e,n,o);On=(e.flags&131072)!==0}else On=!1,Nt&&(n.flags&1048576)!==0&&I0(n,Vl,n.index);switch(n.lanes=0,n.tag){case 2:var c=n.type;ru(e,n),e=n.pendingProps;var g=ys(n,wn.current);ks(n,o),g=Ld(null,n,c,e,g,o);var _=Md();return n.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,In(c)?(_=!0,zl(n)):_=!1,n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Bd(n),g.updater=tu,n.stateNode=g,g._reactInternals=n,Vd(n,c,e,o),n=qd(null,n,c,!0,_,o)):(n.tag=0,Nt&&_&&xd(n),Dn(null,n,g,o),n=n.child),n;case 16:c=n.elementType;e:{switch(ru(e,n),e=n.pendingProps,g=c._init,c=g(c._payload),n.type=c,g=n.tag=sv(c),e=kr(c,e),g){case 0:n=Wd(null,n,c,e,o);break e;case 1:n=Th(null,n,c,e,o);break e;case 11:n=Eh(null,n,c,e,o);break e;case 14:n=kh(null,n,c,kr(c.type,e),o);break e}throw Error(s(306,c,""))}return n;case 0:return c=n.type,g=n.pendingProps,g=n.elementType===c?g:kr(c,g),Wd(e,n,c,g,o);case 1:return c=n.type,g=n.pendingProps,g=n.elementType===c?g:kr(c,g),Th(e,n,c,g,o);case 3:e:{if(Dh(n),e===null)throw Error(s(387));c=n.pendingProps,_=n.memoizedState,g=_.element,q0(e,n),Ql(n,c,null,o);var M=n.memoizedState;if(c=M.element,_.isDehydrated)if(_={element:c,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},n.updateQueue.baseState=_,n.memoizedState=_,n.flags&256){g=Bs(Error(s(423)),n),n=Rh(e,n,c,o,g);break e}else if(c!==g){g=Bs(Error(s(424)),n),n=Rh(e,n,c,o,g);break e}else for(tr=Vr(n.stateNode.containerInfo.firstChild),er=n,Nt=!0,Er=null,o=Z0(n,null,c,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(bs(),c===g){n=mi(e,n,o);break e}Dn(e,n,c,o)}n=n.child}return n;case 5:return K0(n),e===null&&_d(n),c=n.type,g=n.pendingProps,_=e!==null?e.memoizedProps:null,M=g.children,tt(c,g)?M=null:_!==null&&tt(c,_)&&(n.flags|=32),Ph(e,n),Dn(e,n,M,o),n.child;case 6:return e===null&&_d(n),null;case 13:return Fh(e,n,o);case 4:return Pd(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=Cs(n,null,c,o):Dn(e,n,c,o),n.child;case 11:return c=n.type,g=n.pendingProps,g=n.elementType===c?g:kr(c,g),Eh(e,n,c,g,o);case 7:return Dn(e,n,n.pendingProps,o),n.child;case 8:return Dn(e,n,n.pendingProps.children,o),n.child;case 12:return Dn(e,n,n.pendingProps.children,o),n.child;case 10:e:{if(c=n.type._context,g=n.pendingProps,_=n.memoizedProps,M=g.value,Pt(Wl,c._currentValue),c._currentValue=M,_!==null)if(Xn(_.value,M)){if(_.children===g.children&&!Mn.current){n=mi(e,n,o);break e}}else for(_=n.child,_!==null&&(_.return=n);_!==null;){var W=_.dependencies;if(W!==null){M=_.child;for(var Y=W.firstContext;Y!==null;){if(Y.context===c){if(_.tag===1){Y=pi(-1,o&-o),Y.tag=2;var ce=_.updateQueue;if(ce!==null){ce=ce.shared;var ye=ce.pending;ye===null?Y.next=Y:(Y.next=ye.next,ye.next=Y),ce.pending=Y}}_.lanes|=o,Y=_.alternate,Y!==null&&(Y.lanes|=o),kd(_.return,o,n),W.lanes|=o;break}Y=Y.next}}else if(_.tag===10)M=_.type===n.type?null:_.child;else if(_.tag===18){if(M=_.return,M===null)throw Error(s(341));M.lanes|=o,W=M.alternate,W!==null&&(W.lanes|=o),kd(M,o,n),M=_.sibling}else M=_.child;if(M!==null)M.return=_;else for(M=_;M!==null;){if(M===n){M=null;break}if(_=M.sibling,_!==null){_.return=M.return,M=_;break}M=M.return}_=M}Dn(e,n,g.children,o),n=n.child}return n;case 9:return g=n.type,c=n.pendingProps.children,ks(n,o),g=hr(g),c=c(g),n.flags|=1,Dn(e,n,c,o),n.child;case 14:return c=n.type,g=kr(c,n.pendingProps),g=kr(c.type,g),kh(e,n,c,g,o);case 15:return Sh(e,n,n.type,n.pendingProps,o);case 17:return c=n.type,g=n.pendingProps,g=n.elementType===c?g:kr(c,g),ru(e,n),n.tag=1,In(c)?(e=!0,zl(n)):e=!1,ks(n,o),xh(n,c,g),Vd(n,c,g,o),qd(null,n,c,!0,e,o);case 19:return Lh(e,n,o);case 22:return Bh(e,n,o)}throw Error(s(156,n.tag))};function op(e,n){return hl(e,n)}function ov(e,n,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(e,n,o,c){return new ov(e,n,o,c)}function hf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sv(e){if(typeof e=="function")return hf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===re)return 11;if(e===le)return 14}return 2}function eo(e,n){var o=e.alternate;return o===null?(o=Ar(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function pu(e,n,o,c,g,_){var M=2;if(c=e,typeof e=="function")hf(e)&&(M=1);else if(typeof e=="string")M=5;else e:switch(e){case j:return Ro(o.children,g,_,n);case H:M=8,g|=8;break;case K:return e=Ar(12,o,n,g|2),e.elementType=K,e.lanes=_,e;case V:return e=Ar(13,o,n,g),e.elementType=V,e.lanes=_,e;case J:return e=Ar(19,o,n,g),e.elementType=J,e.lanes=_,e;case de:return mu(o,g,_,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:M=10;break e;case G:M=9;break e;case re:M=11;break e;case le:M=14;break e;case oe:M=16,c=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return n=Ar(M,o,n,g),n.elementType=e,n.type=c,n.lanes=_,n}function Ro(e,n,o,c){return e=Ar(7,e,c,n),e.lanes=o,e}function mu(e,n,o,c){return e=Ar(22,e,c,n),e.elementType=de,e.lanes=o,e.stateNode={isHidden:!1},e}function pf(e,n,o){return e=Ar(6,e,null,n),e.lanes=o,e}function mf(e,n,o){return n=Ar(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function av(e,n,o,c,g){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ki(0),this.expirationTimes=ki(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ki(0),this.identifierPrefix=c,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Af(e,n,o,c,g,_,M,W,Y){return e=new av(e,n,o,W,Y),n===1?(n=1,_===!0&&(n|=8)):n=0,_=Ar(3,null,null,n),e.current=_,_.stateNode=e,_.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bd(_),e}function lv(e,n,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:c==null?null:""+c,children:e,containerInfo:n,implementation:o}}function sp(e){if(!e)return Wi;e=e._reactInternals;e:{if(Nr(e)!==e||e.tag!==1)throw Error(s(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(In(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(s(171))}if(e.tag===1){var o=e.type;if(In(o))return N0(e,o,n)}return n}function ap(e,n,o,c,g,_,M,W,Y){return e=Af(o,c,!0,e,g,_,M,W,Y),e.context=sp(null),o=e.current,c=Rn(),g=Xi(o),_=pi(c,g),_.callback=n??null,Qi(o,_,g),e.current.lanes=g,Gn(e,g,c),jn(e,c),e}function Au(e,n,o,c){var g=n.current,_=Rn(),M=Xi(g);return o=sp(o),n.context===null?n.context=o:n.pendingContext=o,n=pi(_,M),n.payload={element:e},c=c===void 0?null:c,c!==null&&(n.callback=c),e=Qi(g,n,M),e!==null&&(Pr(e,g,M,_),Gl(e,g,M)),M}function gu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function gf(e,n){lp(e,n),(e=e.alternate)&&lp(e,n)}function uv(){return null}var up=typeof reportError=="function"?reportError:function(e){console.error(e)};function xf(e){this._internalRoot=e}xu.prototype.render=xf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));Au(e,n,null,null)},xu.prototype.unmount=xf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Po(function(){Au(null,e,null,null)}),n[yt]=null}};function xu(e){this._internalRoot=e}xu.prototype.unstable_scheduleHydration=function(e){if(e){var n=es();e={blockedOn:null,target:e,priority:n};for(var o=0;o<en.length&&n!==0&&n<en[o].priority;o++);en.splice(o,0,e),o===0&&ts(e)}};function vf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cp(){}function cv(e,n,o,c,g){if(g){if(typeof c=="function"){var _=c;c=function(){var ce=gu(M);_.call(ce)}}var M=ap(n,c,e,0,null,!1,!1,"",cp);return e._reactRootContainer=M,e[yt]=M.current,ji(e.nodeType===8?e.parentNode:e),Po(),M}for(;g=e.lastChild;)e.removeChild(g);if(typeof c=="function"){var W=c;c=function(){var ce=gu(Y);W.call(ce)}}var Y=Af(e,0,!1,null,null,!1,!1,"",cp);return e._reactRootContainer=Y,e[yt]=Y.current,ji(e.nodeType===8?e.parentNode:e),Po(function(){Au(n,Y,o,c)}),Y}function yu(e,n,o,c,g){var _=o._reactRootContainer;if(_){var M=_;if(typeof g=="function"){var W=g;g=function(){var Y=gu(M);W.call(Y)}}Au(n,M,e,g)}else M=cv(o,n,e,g,c);return gu(M)}Xo=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var o=$e(n.pendingLanes);o!==0&&(yr(n,o|1),jn(n,Ot()),(At&6)===0&&(Ds=Ot()+500,qi()))}break;case 13:Po(function(){var c=hi(e,1);if(c!==null){var g=Rn();Pr(c,e,1,g)}}),gf(e,1)}},Xr=function(e){if(e.tag===13){var n=hi(e,134217728);if(n!==null){var o=Rn();Pr(n,e,134217728,o)}gf(e,134217728)}},Jo=function(e){if(e.tag===13){var n=Xi(e),o=hi(e,n);if(o!==null){var c=Rn();Pr(o,e,n,c)}gf(e,n)}},es=function(){return ft},uo=function(e,n){var o=ft;try{return ft=e,n()}finally{ft=o}},He=function(e,n,o){switch(n){case"input":if(vt(e,o),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var c=o[n];if(c!==e&&c.form===e.form){var g=xs(c);if(!g)throw Error(s(90));ht(c),vt(c,g)}}}break;case"textarea":$t(e,o);break;case"select":n=o.value,n!=null&&et(e,!!o.multiple,n,!1)}},kt=cf,Rt=Po;var dv={usingClientEntryPoint:!1,Events:[li,ui,xs,je,pt,cf]},La={findFiberByHostInstance:ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fv={bundleType:La.bundleType,version:La.version,rendererPackageName:La.rendererPackageName,rendererConfig:La.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dl(e),e===null?null:e.stateNode},findFiberByHostInstance:La.findFiberByHostInstance||uv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_u.isDisabled&&_u.supportsFiber)try{ao=_u.inject(fv),qn=_u}catch{}}return Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dv,Hn.createPortal=function(e,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vf(n))throw Error(s(200));return lv(e,n,null,o)},Hn.createRoot=function(e,n){if(!vf(e))throw Error(s(299));var o=!1,c="",g=up;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Af(e,1,!1,null,null,o,!1,c,g),e[yt]=n.current,ji(e.nodeType===8?e.parentNode:e),new xf(n)},Hn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=dl(n),e=e===null?null:e.stateNode,e},Hn.flushSync=function(e){return Po(e)},Hn.hydrate=function(e,n,o){if(!vu(n))throw Error(s(200));return yu(null,e,n,!0,o)},Hn.hydrateRoot=function(e,n,o){if(!vf(e))throw Error(s(405));var c=o!=null&&o.hydratedSources||null,g=!1,_="",M=up;if(o!=null&&(o.unstable_strictMode===!0&&(g=!0),o.identifierPrefix!==void 0&&(_=o.identifierPrefix),o.onRecoverableError!==void 0&&(M=o.onRecoverableError)),n=ap(n,null,e,1,o??null,g,!1,_,M),e[yt]=n.current,ji(e),c)for(e=0;e<c.length;e++)o=c[e],g=o._getVersion,g=g(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,g]:n.mutableSourceEagerHydrationData.push(o,g);return new xu(n)},Hn.render=function(e,n,o){if(!vu(n))throw Error(s(200));return yu(null,e,n,!1,o)},Hn.unmountComponentAtNode=function(e){if(!vu(e))throw Error(s(40));return e._reactRootContainer?(Po(function(){yu(null,null,e,!1,function(){e._reactRootContainer=null,e[yt]=null})}),!0):!1},Hn.unstable_batchedUpdates=cf,Hn.unstable_renderSubtreeIntoContainer=function(e,n,o,c){if(!vu(o))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return yu(e,n,o,!1,c)},Hn.version="18.3.1-next-f1338f8080-20240426",Hn}var xp;function vA(){if(xp)return bf.exports;xp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),bf.exports=wv(),bf.exports}var vp;function bv(){if(vp)return wu;vp=1;var r=vA();return wu.createRoot=r.createRoot,wu.hydrateRoot=r.hydrateRoot,wu}var Cv=bv();const Ev="/api";async function gt(r,a){const s=await fetch(`${Ev}${r}`,{...a,headers:{"Content-Type":"application/json",...a==null?void 0:a.headers}});if(!s.ok){const l=await s.text();throw new Error(l||s.statusText)}return s.json()}const at={getHealth:()=>gt("/health"),getRadioConfig:()=>gt("/radio/config"),updateRadioConfig:r=>gt("/radio/config",{method:"PATCH",body:JSON.stringify(r)}),setPrivateKey:r=>gt("/radio/private-key",{method:"PUT",body:JSON.stringify({private_key:r})}),sendAdvertisement:(r=!0)=>gt(`/radio/advertise?flood=${r}`,{method:"POST"}),rebootRadio:()=>gt("/radio/reboot",{method:"POST"}),reconnectRadio:()=>gt("/radio/reconnect",{method:"POST"}),getContacts:(r=100,a=0)=>gt(`/contacts?limit=${r}&offset=${a}`),getContact:r=>gt(`/contacts/${r}`),syncContacts:()=>gt("/contacts/sync",{method:"POST"}),addContactToRadio:r=>gt(`/contacts/${r}/add-to-radio`,{method:"POST"}),removeContactFromRadio:r=>gt(`/contacts/${r}/remove-from-radio`,{method:"POST"}),deleteContact:r=>gt(`/contacts/${r}`,{method:"DELETE"}),markContactRead:r=>gt(`/contacts/${r}/mark-read`,{method:"POST"}),requestTelemetry:(r,a)=>gt(`/contacts/${r}/telemetry`,{method:"POST",body:JSON.stringify({password:a})}),sendRepeaterCommand:(r,a)=>gt(`/contacts/${r}/command`,{method:"POST",body:JSON.stringify({command:a})}),getChannels:()=>gt("/channels"),getChannel:r=>gt(`/channels/${r}`),createChannel:(r,a)=>gt("/channels",{method:"POST",body:JSON.stringify({name:r,key:a})}),syncChannels:()=>gt("/channels/sync",{method:"POST"}),deleteChannel:r=>gt(`/channels/${r}`,{method:"DELETE"}),markChannelRead:r=>gt(`/channels/${r}/mark-read`,{method:"POST"}),getMessages:r=>{const a=new URLSearchParams;r!=null&&r.limit&&a.set("limit",r.limit.toString()),r!=null&&r.offset&&a.set("offset",r.offset.toString()),r!=null&&r.type&&a.set("type",r.type),r!=null&&r.conversation_key&&a.set("conversation_key",r.conversation_key);const s=a.toString();return gt(`/messages${s?`?${s}`:""}`)},getMessagesBulk:(r,a=100)=>gt(`/messages/bulk?limit_per_conversation=${a}`,{method:"POST",body:JSON.stringify(r)}),sendDirectMessage:(r,a)=>gt("/messages/direct",{method:"POST",body:JSON.stringify({destination:r,text:a})}),sendChannelMessage:(r,a)=>gt("/messages/channel",{method:"POST",body:JSON.stringify({channel_key:r,text:a})}),getUndecryptedPacketCount:()=>gt("/packets/undecrypted/count"),decryptHistoricalPackets:r=>gt("/packets/decrypt/historical",{method:"POST",body:JSON.stringify(r)}),runMaintenance:r=>gt("/packets/maintenance",{method:"POST",body:JSON.stringify({prune_undecrypted_days:r})}),deduplicatePackets:()=>gt("/packets/dedup",{method:"POST"}),markAllRead:()=>gt("/read-state/mark-all-read",{method:"POST"}),getSettings:()=>gt("/settings"),updateSettings:r=>gt("/settings",{method:"PATCH",body:JSON.stringify(r)})};function kv(r){const a=R.useRef(null),s=R.useRef(null),[l,f]=R.useState(!1),d=R.useCallback(()=>{const m=window.location.protocol==="https:"?"wss:":"ws:",x=window.location.port==="5173"?"ws://localhost:8000/api/ws":`${m}//${window.location.host}/api/ws`,p=new WebSocket(x);p.onopen=()=>{console.log("WebSocket connected"),f(!0)},p.onclose=()=>{console.log("WebSocket disconnected"),f(!1),a.current=null,s.current=window.setTimeout(()=>{console.log("Attempting WebSocket reconnect..."),d()},3e3)},p.onerror=y=>{console.error("WebSocket error:",y)},p.onmessage=y=>{var v,w,S,T,C,E,P,B;try{const k=JSON.parse(y.data);switch(k.type){case"health":(v=r.onHealth)==null||v.call(r,k.data);break;case"contacts":(w=r.onContacts)==null||w.call(r,k.data);break;case"channels":(S=r.onChannels)==null||S.call(r,k.data);break;case"message":(T=r.onMessage)==null||T.call(r,k.data);break;case"contact":(C=r.onContact)==null||C.call(r,k.data);break;case"raw_packet":(E=r.onRawPacket)==null||E.call(r,k.data);break;case"message_acked":{const I=k.data;(P=r.onMessageAcked)==null||P.call(r,I.message_id,I.ack_count);break}case"error":(B=r.onError)==null||B.call(r,k.data);break;case"pong":break;default:console.log("Unknown WebSocket message type:",k.type)}}catch(k){console.error("Failed to parse WebSocket message:",k)}},a.current=p},[r]);return R.useEffect(()=>{d();const m=setInterval(()=>{var h;((h=a.current)==null?void 0:h.readyState)===WebSocket.OPEN&&a.current.send("ping")},3e4);return()=>{clearInterval(m),s.current&&clearTimeout(s.current),a.current&&a.current.close()}},[d]),{connected:l}}const o0=2;function Ru(r){if(r<60)return`${r}s`;const a=Math.floor(r/86400),s=Math.floor(r%86400/3600),l=Math.floor(r%3600/60);return a>0?s>0&&l>0?`${a}d${s}h${l}m`:s>0?`${a}d${s}h`:l>0?`${a}d${l}m`:`${a}d`:s>0?l>0?`${s}h${l}m`:`${s}h`:`${l}m`}function Sv(r){return["Telemetry",`Battery Voltage: ${r.battery_volts.toFixed(3)}V`,`Uptime: ${Ru(r.uptime_seconds)}`,`TX Airtime: ${Ru(r.airtime_seconds)}`,`RX Airtime: ${Ru(r.rx_airtime_seconds)}`,"",`Noise Floor: ${r.noise_floor_dbm} dBm`,`Last RSSI: ${r.last_rssi_dbm} dBm`,`Last SNR: ${r.last_snr_db.toFixed(1)} dB`,"",`Packets: ${r.packets_received.toLocaleString()} rx / ${r.packets_sent.toLocaleString()} tx`,`Flood: ${r.recv_flood.toLocaleString()} rx / ${r.sent_flood.toLocaleString()} tx`,`Direct: ${r.recv_direct.toLocaleString()} rx / ${r.sent_direct.toLocaleString()} tx`,`Duplicates: ${r.flood_dups.toLocaleString()} flood / ${r.direct_dups.toLocaleString()} direct`,"",`TX Queue: ${r.tx_queue_len}`,`Debug Flags: ${r.full_events}`].join(`
`)}function Bv(r){if(r.length===0)return`Neighbors
No neighbors reported`;const a=[...r].sort((l,f)=>f.snr-l.snr),s=[`Neighbors (${a.length})`];for(const l of a){const f=l.name||l.pubkey_prefix,d=l.snr>=0?`+${l.snr.toFixed(1)}`:l.snr.toFixed(1);s.push(`${f}, ${d} dB [${Ru(l.last_heard_seconds)} ago]`)}return s.join(`
`)}function Pv(r){if(r.length===0)return`ACL
No ACL entries`;const a=[`ACL (${r.length})`];for(const s of r){const l=s.name||s.pubkey_prefix;a.push(`${l}: ${s.permission_name}`)}return a.join(`
`)}function No(r,a,s,l=0){const f=Math.floor(Date.now()/1e3);return{id:-Date.now()-l,type:"PRIV",conversation_key:r,text:a,sender_timestamp:f,received_at:f,path_len:null,txt_type:0,signature:null,outgoing:s,acked:1}}function Tv(r,a,s){const[l,f]=R.useState(!1);R.useEffect(()=>{f(!1)},[r==null?void 0:r.id]);const d=R.useMemo(()=>{if(!r||r.type!=="contact")return!1;const x=a.find(p=>p.public_key===r.id);return(x==null?void 0:x.type)===o0},[r,a]),m=R.useCallback(async x=>{if(!(!r||r.type!=="contact")&&d)try{const p=await at.requestTelemetry(r.id,x),y=No(r.id,Sv(p),!1,0),v=No(r.id,Bv(p.neighbors),!1,1),w=No(r.id,Pv(p.acl),!1,2);s(S=>[...S,y,v,w]),f(!0)}catch(p){const y=No(r.id,`Telemetry request failed: ${p instanceof Error?p.message:"Unknown error"}`,!1,0);s(v=>[...v,y])}},[r,d,s]),h=R.useCallback(async x=>{if(!r||r.type!=="contact"||!d||!l)return;const p=No(r.id,`> ${x}`,!0,0);s(y=>[...y,p]);try{const y=await at.sendRepeaterCommand(r.id,x),v=No(r.id,y.response,!1,1);y.sender_timestamp&&(v.sender_timestamp=y.sender_timestamp),s(w=>[...w,v])}catch(y){const v=No(r.id,`Command failed: ${y instanceof Error?y.message:"Unknown error"}`,!1,1);s(w=>[...w,v])}},[r,d,l,s]);return{repeaterLoggedIn:l,activeContactIsRepeater:d,handleTelemetryRequest:m,handleRepeaterCommand:h}}const Dv=12;function js(r){return r.slice(0,Dv)}function yA(r,a){return!r||!a?!1:js(r)===js(a)}function Vo(r,a){return r||js(a)}const Vf="remoteterm-lastMessageTime";function _A(r){try{const a=localStorage.getItem(r);return a?JSON.parse(a):{}}catch{return{}}}function Rv(r,a){try{localStorage.setItem(r,JSON.stringify(a))}catch{}}function yp(){return _A(Vf)}function kf(r,a){const s=_A(Vf);return(!s[r]||a>s[r])&&(s[r]=a,Rv(Vf,s)),s}function Dr(r,a){return r==="channel"?`channel-${a}`:`contact-${js(a)}`}function _p(r,a){if(!a)return!1;const s=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return new RegExp(`@\\[${s}\\]`,"i").test(r)}function Fv(r,a,s,l=null){const[f,d]=R.useState({}),[m,h]=R.useState({}),[x,p]=R.useState(yp),y=R.useRef(l);R.useEffect(()=>{y.current=l},[l]);const v=R.useRef(new Set),w=R.useRef(new Set);R.useEffect(()=>{const P=r.filter(I=>!v.current.has(I.key)),B=a.filter(I=>I.public_key&&!w.current.has(I.public_key));if(P.length===0&&B.length===0)return;P.forEach(I=>v.current.add(I.key)),B.forEach(I=>w.current.add(I.public_key)),(async()=>{const I=[...P.map(N=>({type:"CHAN",conversation_key:N.key})),...B.map(N=>({type:"PRIV",conversation_key:N.public_key}))];if(I.length!==0)try{const N=await at.getMessagesBulk(I,100),z={},j={},H={};for(const K of P){const U=N[`CHAN:${K.key}`]||[];if(U.length>0){const G=Dr("channel",K.key),re=K.last_read_at||0,V=U.filter(le=>!le.outgoing&&le.received_at>re);V.length>0&&(z[G]=V.length,V.some(le=>_p(le.text,y.current))&&(j[G]=!0));const J=Math.max(...U.map(le=>le.received_at));H[G]=J,kf(G,J)}}for(const K of B){const U=N[`PRIV:${K.public_key}`]||[];if(U.length>0){const G=Dr("contact",K.public_key),re=K.last_read_at||0,V=U.filter(le=>!le.outgoing&&le.received_at>re);V.length>0&&(z[G]=V.length,V.some(le=>_p(le.text,y.current))&&(j[G]=!0));const J=Math.max(...U.map(le=>le.received_at));H[G]=J,kf(G,J)}}Object.keys(z).length>0&&d(K=>({...K,...z})),Object.keys(j).length>0&&h(K=>({...K,...j})),p(yp())}catch(N){console.error("Failed to fetch messages bulk:",N)}})()},[r,a]),R.useEffect(()=>{if(s&&s.type!=="raw"&&s.type!=="map"){const P=Dr(s.type,s.id);d(B=>{if(B[P]){const k={...B};return delete k[P],k}return B}),h(B=>{if(B[P]){const k={...B};return delete k[P],k}return B}),s.type==="channel"?at.markChannelRead(s.id).catch(B=>{console.error("Failed to mark channel as read on server:",B)}):s.type==="contact"&&at.markContactRead(s.id).catch(B=>{console.error("Failed to mark contact as read on server:",B)})}},[s]);const S=R.useCallback((P,B)=>{d(k=>({...k,[P]:(k[P]||0)+1})),B&&h(k=>({...k,[P]:!0}))},[]),T=R.useCallback(()=>{d({}),h({}),at.markAllRead().catch(P=>{console.error("Failed to mark all as read on server:",P)})},[]),C=R.useCallback(P=>{if(P.type==="raw"||P.type==="map")return;const B=Dr(P.type,P.id);d(k=>{if(k[B]){const I={...k};return delete I[B],I}return k}),h(k=>{if(k[B]){const I={...k};return delete I[B],I}return k}),P.type==="channel"?at.markChannelRead(P.id).catch(k=>{console.error("Failed to mark channel as read on server:",k)}):P.type==="contact"&&at.markContactRead(P.id).catch(k=>{console.error("Failed to mark contact as read on server:",k)})},[]),E=R.useCallback(P=>{let B=null;if(P.type==="CHAN"&&P.conversation_key?B=Dr("channel",P.conversation_key):P.type==="PRIV"&&P.conversation_key&&(B=Dr("contact",P.conversation_key)),B){const k=P.received_at||Math.floor(Date.now()/1e3),I=kf(B,k);p(I)}},[]);return{unreadCounts:f,mentions:m,lastMessageTimes:x,incrementUnread:S,markAllRead:T,markConversationRead:C,trackNewMessage:E}}var s0=vA();const wA=Us(s0);function Nv(r){if(typeof document>"u")return;let a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",a.appendChild(s),s.styleSheet?s.styleSheet.cssText=r:s.appendChild(document.createTextNode(r))}const Lv=r=>{switch(r){case"success":return Ov;case"info":return jv;case"warning":return zv;case"error":return Hv;default:return null}},Mv=Array(12).fill(0),Iv=({visible:r,className:a})=>be.createElement("div",{className:["sonner-loading-wrapper",a].filter(Boolean).join(" "),"data-visible":r},be.createElement("div",{className:"sonner-spinner"},Mv.map((s,l)=>be.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${l}`})))),Ov=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),zv=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),jv=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Hv=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Vv=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},be.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),be.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Uv=()=>{const[r,a]=be.useState(document.hidden);return be.useEffect(()=>{const s=()=>{a(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),r};let Uf=1;class Zv{constructor(){this.subscribe=a=>(this.subscribers.push(a),()=>{const s=this.subscribers.indexOf(a);this.subscribers.splice(s,1)}),this.publish=a=>{this.subscribers.forEach(s=>s(a))},this.addToast=a=>{this.publish(a),this.toasts=[...this.toasts,a]},this.create=a=>{var s;const{message:l,...f}=a,d=typeof(a==null?void 0:a.id)=="number"||((s=a.id)==null?void 0:s.length)>0?a.id:Uf++,m=this.toasts.find(x=>x.id===d),h=a.dismissible===void 0?!0:a.dismissible;return this.dismissedToasts.has(d)&&this.dismissedToasts.delete(d),m?this.toasts=this.toasts.map(x=>x.id===d?(this.publish({...x,...a,id:d,title:l}),{...x,...a,id:d,dismissible:h,title:l}):x):this.addToast({title:l,...f,dismissible:h,id:d}),d},this.dismiss=a=>(a?(this.dismissedToasts.add(a),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:a,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(l=>l({id:s.id,dismiss:!0}))}),a),this.message=(a,s)=>this.create({...s,message:a}),this.error=(a,s)=>this.create({...s,message:a,type:"error"}),this.success=(a,s)=>this.create({...s,type:"success",message:a}),this.info=(a,s)=>this.create({...s,type:"info",message:a}),this.warning=(a,s)=>this.create({...s,type:"warning",message:a}),this.loading=(a,s)=>this.create({...s,type:"loading",message:a}),this.promise=(a,s)=>{if(!s)return;let l;s.loading!==void 0&&(l=this.create({...s,promise:a,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const f=Promise.resolve(a instanceof Function?a():a);let d=l!==void 0,m;const h=f.then(async p=>{if(m=["resolve",p],be.isValidElement(p))d=!1,this.create({id:l,type:"default",message:p});else if(qv(p)&&!p.ok){d=!1;const v=typeof s.error=="function"?await s.error(`HTTP error! status: ${p.status}`):s.error,w=typeof s.description=="function"?await s.description(`HTTP error! status: ${p.status}`):s.description,T=typeof v=="object"&&!be.isValidElement(v)?v:{message:v};this.create({id:l,type:"error",description:w,...T})}else if(p instanceof Error){d=!1;const v=typeof s.error=="function"?await s.error(p):s.error,w=typeof s.description=="function"?await s.description(p):s.description,T=typeof v=="object"&&!be.isValidElement(v)?v:{message:v};this.create({id:l,type:"error",description:w,...T})}else if(s.success!==void 0){d=!1;const v=typeof s.success=="function"?await s.success(p):s.success,w=typeof s.description=="function"?await s.description(p):s.description,T=typeof v=="object"&&!be.isValidElement(v)?v:{message:v};this.create({id:l,type:"success",description:w,...T})}}).catch(async p=>{if(m=["reject",p],s.error!==void 0){d=!1;const y=typeof s.error=="function"?await s.error(p):s.error,v=typeof s.description=="function"?await s.description(p):s.description,S=typeof y=="object"&&!be.isValidElement(y)?y:{message:y};this.create({id:l,type:"error",description:v,...S})}}).finally(()=>{d&&(this.dismiss(l),l=void 0),s.finally==null||s.finally.call(s)}),x=()=>new Promise((p,y)=>h.then(()=>m[0]==="reject"?y(m[1]):p(m[1])).catch(y));return typeof l!="string"&&typeof l!="number"?{unwrap:x}:Object.assign(l,{unwrap:x})},this.custom=(a,s)=>{const l=(s==null?void 0:s.id)||Uf++;return this.create({jsx:a(l),id:l,...s}),l},this.getActiveToasts=()=>this.toasts.filter(a=>!this.dismissedToasts.has(a.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Vn=new Zv,Wv=(r,a)=>{const s=(a==null?void 0:a.id)||Uf++;return Vn.addToast({title:r,...a,id:s}),s},qv=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",Gv=Wv,Qv=()=>Vn.toasts,Kv=()=>Vn.getActiveToasts(),Lt=Object.assign(Gv,{success:Vn.success,info:Vn.info,warning:Vn.warning,error:Vn.error,custom:Vn.custom,message:Vn.message,promise:Vn.promise,dismiss:Vn.dismiss,loading:Vn.loading},{getHistory:Qv,getToasts:Kv});Nv("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function bu(r){return r.label!==void 0}const $v=3,Yv="24px",Xv="16px",wp=4e3,Jv=356,ey=14,ty=45,ny=200;function qr(...r){return r.filter(Boolean).join(" ")}function ry(r){const[a,s]=r.split("-"),l=[];return a&&l.push(a),s&&l.push(s),l}const iy=r=>{var a,s,l,f,d,m,h,x,p;const{invert:y,toast:v,unstyled:w,interacting:S,setHeights:T,visibleToasts:C,heights:E,index:P,toasts:B,expanded:k,removeToast:I,defaultRichColors:N,closeButton:z,style:j,cancelButtonStyle:H,actionButtonStyle:K,className:U="",descriptionClassName:G="",duration:re,position:V,gap:J,expandByDefault:le,classNames:oe,icons:de,closeButtonAriaLabel:q="Close toast"}=r,[me,ne]=be.useState(null),[D,Z]=be.useState(null),[$,X]=be.useState(!1),[fe,he]=be.useState(!1),[ke,Ae]=be.useState(!1),[qe,Ye]=be.useState(!1),[Et,ht]=be.useState(!1),[Se,Ve]=be.useState(0),[dt,Mt]=be.useState(0),vt=be.useRef(v.duration||re||wp),ot=be.useRef(null),Qe=be.useRef(null),Xe=P===0,et=P+1<=C,Oe=v.type,_t=v.dismissible!==!1,$t=v.className||"",Un=v.descriptionClassName||"",It=be.useMemo(()=>E.findIndex(je=>je.toastId===v.id)||0,[E,v.id]),Jt=be.useMemo(()=>{var je;return(je=v.closeButton)!=null?je:z},[v.closeButton,z]),fn=be.useMemo(()=>v.duration||re||wp,[v.duration,re]),Sn=be.useRef(0),Ut=be.useRef(0),St=be.useRef(0),Zt=be.useRef(null),[Zn,xn]=V.split("-"),pe=be.useMemo(()=>E.reduce((je,pt,kt)=>kt>=It?je:je+pt.height,0),[E,It]),we=Uv(),te=v.invert||y,xe=Oe==="loading";Ut.current=be.useMemo(()=>It*J+pe,[It,pe]),be.useEffect(()=>{vt.current=fn},[fn]),be.useEffect(()=>{X(!0)},[]),be.useEffect(()=>{const je=Qe.current;if(je){const pt=je.getBoundingClientRect().height;return Mt(pt),T(kt=>[{toastId:v.id,height:pt,position:v.position},...kt]),()=>T(kt=>kt.filter(Rt=>Rt.toastId!==v.id))}},[T,v.id]),be.useLayoutEffect(()=>{if(!$)return;const je=Qe.current,pt=je.style.height;je.style.height="auto";const kt=je.getBoundingClientRect().height;je.style.height=pt,Mt(kt),T(Rt=>Rt.find(rt=>rt.toastId===v.id)?Rt.map(rt=>rt.toastId===v.id?{...rt,height:kt}:rt):[{toastId:v.id,height:kt,position:v.position},...Rt])},[$,v.title,v.description,T,v.id,v.jsx,v.action,v.cancel]);const Ee=be.useCallback(()=>{he(!0),Ve(Ut.current),T(je=>je.filter(pt=>pt.toastId!==v.id)),setTimeout(()=>{I(v)},ny)},[v,I,T,Ut]);be.useEffect(()=>{if(v.promise&&Oe==="loading"||v.duration===1/0||v.type==="loading")return;let je;return k||S||we?(()=>{if(St.current<Sn.current){const Rt=new Date().getTime()-Sn.current;vt.current=vt.current-Rt}St.current=new Date().getTime()})():(()=>{vt.current!==1/0&&(Sn.current=new Date().getTime(),je=setTimeout(()=>{v.onAutoClose==null||v.onAutoClose.call(v,v),Ee()},vt.current))})(),()=>clearTimeout(je)},[k,S,v,Oe,we,Ee]),be.useEffect(()=>{v.delete&&(Ee(),v.onDismiss==null||v.onDismiss.call(v,v))},[Ee,v.delete]);function He(){var je;if(de!=null&&de.loading){var pt;return be.createElement("div",{className:qr(oe==null?void 0:oe.loader,v==null||(pt=v.classNames)==null?void 0:pt.loader,"sonner-loader"),"data-visible":Oe==="loading"},de.loading)}return be.createElement(Iv,{className:qr(oe==null?void 0:oe.loader,v==null||(je=v.classNames)==null?void 0:je.loader),visible:Oe==="loading"})}const ze=v.icon||(de==null?void 0:de[Oe])||Lv(Oe);var nt,hn;return be.createElement("li",{tabIndex:0,ref:Qe,className:qr(U,$t,oe==null?void 0:oe.toast,v==null||(a=v.classNames)==null?void 0:a.toast,oe==null?void 0:oe.default,oe==null?void 0:oe[Oe],v==null||(s=v.classNames)==null?void 0:s[Oe]),"data-sonner-toast":"","data-rich-colors":(nt=v.richColors)!=null?nt:N,"data-styled":!(v.jsx||v.unstyled||w),"data-mounted":$,"data-promise":!!v.promise,"data-swiped":Et,"data-removed":fe,"data-visible":et,"data-y-position":Zn,"data-x-position":xn,"data-index":P,"data-front":Xe,"data-swiping":ke,"data-dismissible":_t,"data-type":Oe,"data-invert":te,"data-swipe-out":qe,"data-swipe-direction":D,"data-expanded":!!(k||le&&$),"data-testid":v.testId,style:{"--index":P,"--toasts-before":P,"--z-index":B.length-P,"--offset":`${fe?Se:Ut.current}px`,"--initial-height":le?"auto":`${dt}px`,...j,...v.style},onDragEnd:()=>{Ae(!1),ne(null),Zt.current=null},onPointerDown:je=>{je.button!==2&&(xe||!_t||(ot.current=new Date,Ve(Ut.current),je.target.setPointerCapture(je.pointerId),je.target.tagName!=="BUTTON"&&(Ae(!0),Zt.current={x:je.clientX,y:je.clientY})))},onPointerUp:()=>{var je,pt,kt;if(qe||!_t)return;Zt.current=null;const Rt=Number(((je=Qe.current)==null?void 0:je.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Fn=Number(((pt=Qe.current)==null?void 0:pt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),rt=new Date().getTime()-((kt=ot.current)==null?void 0:kt.getTime()),wt=me==="x"?Rt:Fn,Wn=Math.abs(wt)/rt;if(Math.abs(wt)>=ty||Wn>.11){Ve(Ut.current),v.onDismiss==null||v.onDismiss.call(v,v),Z(me==="x"?Rt>0?"right":"left":Fn>0?"down":"up"),Ee(),Ye(!0);return}else{var mt,Ft;(mt=Qe.current)==null||mt.style.setProperty("--swipe-amount-x","0px"),(Ft=Qe.current)==null||Ft.style.setProperty("--swipe-amount-y","0px")}ht(!1),Ae(!1),ne(null)},onPointerMove:je=>{var pt,kt,Rt;if(!Zt.current||!_t||((pt=window.getSelection())==null?void 0:pt.toString().length)>0)return;const rt=je.clientY-Zt.current.y,wt=je.clientX-Zt.current.x;var Wn;const mt=(Wn=r.swipeDirections)!=null?Wn:ry(V);!me&&(Math.abs(wt)>1||Math.abs(rt)>1)&&ne(Math.abs(wt)>Math.abs(rt)?"x":"y");let Ft={x:0,y:0};const Wt=Pe=>1/(1.5+Math.abs(Pe)/20);if(me==="y"){if(mt.includes("top")||mt.includes("bottom"))if(mt.includes("top")&&rt<0||mt.includes("bottom")&&rt>0)Ft.y=rt;else{const Pe=rt*Wt(rt);Ft.y=Math.abs(Pe)<Math.abs(rt)?Pe:rt}}else if(me==="x"&&(mt.includes("left")||mt.includes("right")))if(mt.includes("left")&&wt<0||mt.includes("right")&&wt>0)Ft.x=wt;else{const Pe=wt*Wt(wt);Ft.x=Math.abs(Pe)<Math.abs(wt)?Pe:wt}(Math.abs(Ft.x)>0||Math.abs(Ft.y)>0)&&ht(!0),(kt=Qe.current)==null||kt.style.setProperty("--swipe-amount-x",`${Ft.x}px`),(Rt=Qe.current)==null||Rt.style.setProperty("--swipe-amount-y",`${Ft.y}px`)}},Jt&&!v.jsx&&Oe!=="loading"?be.createElement("button",{"aria-label":q,"data-disabled":xe,"data-close-button":!0,onClick:xe||!_t?()=>{}:()=>{Ee(),v.onDismiss==null||v.onDismiss.call(v,v)},className:qr(oe==null?void 0:oe.closeButton,v==null||(l=v.classNames)==null?void 0:l.closeButton)},(hn=de==null?void 0:de.close)!=null?hn:Vv):null,(Oe||v.icon||v.promise)&&v.icon!==null&&((de==null?void 0:de[Oe])!==null||v.icon)?be.createElement("div",{"data-icon":"",className:qr(oe==null?void 0:oe.icon,v==null||(f=v.classNames)==null?void 0:f.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||He():null,v.type!=="loading"?ze:null):null,be.createElement("div",{"data-content":"",className:qr(oe==null?void 0:oe.content,v==null||(d=v.classNames)==null?void 0:d.content)},be.createElement("div",{"data-title":"",className:qr(oe==null?void 0:oe.title,v==null||(m=v.classNames)==null?void 0:m.title)},v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title),v.description?be.createElement("div",{"data-description":"",className:qr(G,Un,oe==null?void 0:oe.description,v==null||(h=v.classNames)==null?void 0:h.description)},typeof v.description=="function"?v.description():v.description):null),be.isValidElement(v.cancel)?v.cancel:v.cancel&&bu(v.cancel)?be.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||H,onClick:je=>{bu(v.cancel)&&_t&&(v.cancel.onClick==null||v.cancel.onClick.call(v.cancel,je),Ee())},className:qr(oe==null?void 0:oe.cancelButton,v==null||(x=v.classNames)==null?void 0:x.cancelButton)},v.cancel.label):null,be.isValidElement(v.action)?v.action:v.action&&bu(v.action)?be.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||K,onClick:je=>{bu(v.action)&&(v.action.onClick==null||v.action.onClick.call(v.action,je),!je.defaultPrevented&&Ee())},className:qr(oe==null?void 0:oe.actionButton,v==null||(p=v.classNames)==null?void 0:p.actionButton)},v.action.label):null)};function bp(){if(typeof window>"u"||typeof document>"u")return"ltr";const r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}function oy(r,a){const s={};return[r,a].forEach((l,f)=>{const d=f===1,m=d?"--mobile-offset":"--offset",h=d?Xv:Yv;function x(p){["top","right","bottom","left"].forEach(y=>{s[`${m}-${y}`]=typeof p=="number"?`${p}px`:p})}typeof l=="number"||typeof l=="string"?x(l):typeof l=="object"?["top","right","bottom","left"].forEach(p=>{l[p]===void 0?s[`${m}-${p}`]=h:s[`${m}-${p}`]=typeof l[p]=="number"?`${l[p]}px`:l[p]}):x(h)}),s}const sy=be.forwardRef(function(a,s){const{id:l,invert:f,position:d="bottom-right",hotkey:m=["altKey","KeyT"],expand:h,closeButton:x,className:p,offset:y,mobileOffset:v,theme:w="light",richColors:S,duration:T,style:C,visibleToasts:E=$v,toastOptions:P,dir:B=bp(),gap:k=ey,icons:I,containerAriaLabel:N="Notifications"}=a,[z,j]=be.useState([]),H=be.useMemo(()=>l?z.filter($=>$.toasterId===l):z.filter($=>!$.toasterId),[z,l]),K=be.useMemo(()=>Array.from(new Set([d].concat(H.filter($=>$.position).map($=>$.position)))),[H,d]),[U,G]=be.useState([]),[re,V]=be.useState(!1),[J,le]=be.useState(!1),[oe,de]=be.useState(w!=="system"?w:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=be.useRef(null),me=m.join("+").replace(/Key/g,"").replace(/Digit/g,""),ne=be.useRef(null),D=be.useRef(!1),Z=be.useCallback($=>{j(X=>{var fe;return(fe=X.find(he=>he.id===$.id))!=null&&fe.delete||Vn.dismiss($.id),X.filter(({id:he})=>he!==$.id)})},[]);return be.useEffect(()=>Vn.subscribe($=>{if($.dismiss){requestAnimationFrame(()=>{j(X=>X.map(fe=>fe.id===$.id?{...fe,delete:!0}:fe))});return}setTimeout(()=>{wA.flushSync(()=>{j(X=>{const fe=X.findIndex(he=>he.id===$.id);return fe!==-1?[...X.slice(0,fe),{...X[fe],...$},...X.slice(fe+1)]:[$,...X]})})})}),[z]),be.useEffect(()=>{if(w!=="system"){de(w);return}if(w==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?de("dark"):de("light")),typeof window>"u")return;const $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:X})=>{de(X?"dark":"light")})}catch{$.addListener(({matches:fe})=>{try{de(fe?"dark":"light")}catch(he){console.error(he)}})}},[w]),be.useEffect(()=>{z.length<=1&&V(!1)},[z]),be.useEffect(()=>{const $=X=>{var fe;if(m.every(Ae=>X[Ae]||X.code===Ae)){var ke;V(!0),(ke=q.current)==null||ke.focus()}X.code==="Escape"&&(document.activeElement===q.current||(fe=q.current)!=null&&fe.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[m]),be.useEffect(()=>{if(q.current)return()=>{ne.current&&(ne.current.focus({preventScroll:!0}),ne.current=null,D.current=!1)}},[q.current]),be.createElement("section",{ref:s,"aria-label":`${N} ${me}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},K.map(($,X)=>{var fe;const[he,ke]=$.split("-");return H.length?be.createElement("ol",{key:$,dir:B==="auto"?bp():B,tabIndex:-1,ref:q,className:p,"data-sonner-toaster":!0,"data-sonner-theme":oe,"data-y-position":he,"data-x-position":ke,style:{"--front-toast-height":`${((fe=U[0])==null?void 0:fe.height)||0}px`,"--width":`${Jv}px`,"--gap":`${k}px`,...C,...oy(y,v)},onBlur:Ae=>{D.current&&!Ae.currentTarget.contains(Ae.relatedTarget)&&(D.current=!1,ne.current&&(ne.current.focus({preventScroll:!0}),ne.current=null))},onFocus:Ae=>{Ae.target instanceof HTMLElement&&Ae.target.dataset.dismissible==="false"||D.current||(D.current=!0,ne.current=Ae.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{J||V(!1)},onDragEnd:()=>V(!1),onPointerDown:Ae=>{Ae.target instanceof HTMLElement&&Ae.target.dataset.dismissible==="false"||le(!0)},onPointerUp:()=>le(!1)},H.filter(Ae=>!Ae.position&&X===0||Ae.position===$).map((Ae,qe)=>{var Ye,Et;return be.createElement(iy,{key:Ae.id,icons:I,index:qe,toast:Ae,defaultRichColors:S,duration:(Ye=P==null?void 0:P.duration)!=null?Ye:T,className:P==null?void 0:P.className,descriptionClassName:P==null?void 0:P.descriptionClassName,invert:f,visibleToasts:E,closeButton:(Et=P==null?void 0:P.closeButton)!=null?Et:x,interacting:J,position:$,style:P==null?void 0:P.style,unstyled:P==null?void 0:P.unstyled,classNames:P==null?void 0:P.classNames,cancelButtonStyle:P==null?void 0:P.cancelButtonStyle,actionButtonStyle:P==null?void 0:P.actionButtonStyle,closeButtonAriaLabel:P==null?void 0:P.closeButtonAriaLabel,removeToast:Z,toasts:H.filter(ht=>ht.position==Ae.position),heights:U.filter(ht=>ht.position==Ae.position),setHeights:G,expandByDefault:h,gap:k,expanded:re,swipeDirections:a.swipeDirections})})):null}))}),ay=({...r})=>F.jsx(sy,{theme:"dark",className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-card group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground",error:"group-[.toaster]:bg-[#2a1a1a] group-[.toaster]:text-[#e8a0a0] group-[.toaster]:border-[#4a2a2a] [&_[data-description]]:text-[#b08080]"}},...r}),Cu=200;function Fu(r){return`${r.type}-${r.conversation_key}-${r.text}-${r.sender_timestamp}`}function ly(r){const[a,s]=R.useState([]),[l,f]=R.useState(!1),[d,m]=R.useState(!1),[h,x]=R.useState(!1),p=R.useRef(new Set),y=R.useCallback(async(T=!1)=>{if(!r||r.type==="raw"){s([]),x(!1);return}T&&(f(!0),s([]));try{const C=await at.getMessages({type:r.type==="channel"?"CHAN":"PRIV",conversation_key:r.id,limit:Cu});s(C),p.current.clear();for(const E of C)p.current.add(Fu(E));x(C.length>=Cu)}catch(C){console.error("Failed to fetch messages:",C),Lt.error("Failed to load messages",{description:C instanceof Error?C.message:"Check your connection"})}finally{T&&f(!1)}},[r]),v=R.useCallback(async()=>{if(!(!r||r.type==="raw"||d||!h)){m(!0);try{const T=await at.getMessages({type:r.type==="channel"?"CHAN":"PRIV",conversation_key:r.id,limit:Cu,offset:a.length});if(T.length>0){s(C=>[...C,...T]);for(const C of T)p.current.add(Fu(C))}x(T.length>=Cu)}catch(T){console.error("Failed to fetch older messages:",T),Lt.error("Failed to load older messages",{description:T instanceof Error?T.message:"Check your connection"})}finally{m(!1)}}},[r,d,h,a.length]);R.useEffect(()=>{y(!0)},[y]);const w=R.useCallback(T=>{const C=Fu(T);if(p.current.has(C))return console.debug("Duplicate message content ignored:",C.slice(0,50)),!1;if(p.current.add(C),p.current.size>1e3){const E=Array.from(p.current);p.current=new Set(E.slice(-500))}return s(E=>E.some(P=>P.id===T.id)?E:[...E,T]),!0},[]),S=R.useCallback((T,C)=>{s(E=>{const P=E.findIndex(B=>B.id===T);if(P>=0){const B=[...E];return B[P]={...E[P],acked:C},B}return E})},[]);return{messages:a,messagesLoading:l,loadingOlder:d,hasOlderMessages:h,setMessages:s,fetchMessages:y,fetchOlderMessages:v,addMessageIfNew:w,updateMessageAck:S}}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cy=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,s,l)=>l?l.toUpperCase():s.toLowerCase()),Cp=r=>{const a=cy(r);return a.charAt(0).toUpperCase()+a.slice(1)},bA=(...r)=>r.filter((a,s,l)=>!!a&&a.trim()!==""&&l.indexOf(a)===s).join(" ").trim(),dy=r=>{for(const a in r)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=R.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:f="",children:d,iconNode:m,...h},x)=>R.createElement("svg",{ref:x,...fy,width:a,height:a,stroke:r,strokeWidth:l?Number(s)*24/Number(a):s,className:bA("lucide",f),...!d&&!dy(h)&&{"aria-hidden":"true"},...h},[...m.map(([p,y])=>R.createElement(p,y)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=(r,a)=>{const s=R.forwardRef(({className:l,...f},d)=>R.createElement(hy,{ref:d,iconNode:a,className:bA(`lucide-${uy(Cp(r))}`,`lucide-${r}`,l),...f}));return s.displayName=Cp(r),s};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],my=a0("check",py);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],gy=a0("menu",Ay);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],CA=a0("x",xy);function vy({health:r,config:a,onConfigClick:s,onMaintenanceClick:l,onAdvertise:f,onMenuClick:d}){const m=(r==null?void 0:r.radio_connected)??!1,[h,x]=R.useState(!1),p=async()=>{x(!0);try{const y=await at.reconnectRadio();y.connected&&Lt.success("Reconnected",{description:y.message})}catch(y){Lt.error("Reconnection failed",{description:y instanceof Error?y.message:"Check radio connection and power"})}finally{x(!1)}};return F.jsxs("div",{className:"flex items-center gap-4 px-4 py-2 bg-[#252525] border-b border-[#333] text-xs",children:[d&&F.jsx("button",{onClick:d,className:"md:hidden p-1 bg-transparent border-none text-[#e0e0e0] cursor-pointer","aria-label":"Open menu",children:F.jsx(gy,{className:"h-5 w-5"})}),F.jsx("h1",{className:"hidden lg:block text-base font-semibold mr-auto",children:"RemoteTerm"}),F.jsxs("div",{className:"flex items-center gap-1 text-[#888]",children:[F.jsx("div",{className:`w-2 h-2 rounded-full ${m?"bg-[#4caf50]":"bg-[#666]"}`}),F.jsx("span",{className:"hidden lg:inline text-[#e0e0e0]",children:m?"Connected":"Disconnected"})]}),(r==null?void 0:r.serial_port)&&F.jsxs("div",{className:"hidden xl:flex items-center gap-1 text-[#888]",children:["Port: ",F.jsx("span",{className:"text-[#e0e0e0]",children:r.serial_port})]}),a&&F.jsxs(F.Fragment,{children:[F.jsx("div",{className:"hidden lg:flex items-center gap-1 text-[#888]",children:F.jsx("span",{className:"text-[#e0e0e0]",children:a.name||"Unnamed"})}),F.jsxs("div",{className:"hidden xl:flex items-center gap-1 text-[#888]",children:[a.radio.freq," MHz/SF",a.radio.sf,"/CR",a.radio.cr,"/",a.tx_power,"dBm"]})]}),F.jsx("div",{className:"flex-1 lg:hidden"}),!m&&F.jsx("button",{onClick:p,disabled:h,className:"px-3 py-1 bg-[#4a3000] border border-[#6b4500] text-[#ffa500] rounded text-xs cursor-pointer hover:bg-[#5a3a00] disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Reconnecting...":"Reconnect"}),F.jsx("button",{onClick:f,disabled:!m,className:"px-3 py-1 bg-[#333] border border-[#444] text-[#e0e0e0] rounded text-xs cursor-pointer hover:bg-[#444] disabled:bg-[#333] disabled:text-[#666] disabled:cursor-not-allowed",children:"Advertise"}),F.jsx("button",{onClick:l,className:"px-2 py-1 bg-[#333] border border-[#444] text-[#e0e0e0] rounded text-xs cursor-pointer hover:bg-[#444]",title:"Database Maintenance",children:F.jsx("span",{role:"img","aria-label":"Settings",children:""})}),F.jsxs("button",{onClick:s,className:"px-3 py-1 bg-[#333] border border-[#444] text-[#e0e0e0] rounded text-xs cursor-pointer hover:bg-[#444]",children:[F.jsx("span",{role:"img","aria-label":"Radio",children:""})," Config"]})]})}const Zf=2,yy={text:"",background:"#444444",textColor:"#ffffff"};function _y(r){let a=0;for(let s=0;s<r.length;s++){const l=r.charCodeAt(s);a=(a<<5)-a+l,a=a&a}return Math.abs(a)}const wy=/[\u{1F300}-\u{1F9FF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}]|[\u{1F600}-\u{1F64F}]|[\u{1F680}-\u{1F6FF}]|[\u{1F1E0}-\u{1F1FF}]/u;function by(r,a){if(!r)return a.slice(0,2).toUpperCase();const s=r.match(wy);if(s)return s[0];const l=r.match(/[a-zA-Z]/g);if(!l||l.length===0)return a.slice(0,2).toUpperCase();const f=r.indexOf(" ");if(f!==-1){const d=l[0],m=r.slice(f+1).match(/[a-zA-Z]/);if(m)return(d+m[0]).toUpperCase()}return l[0].toUpperCase()}function Cy(r){const a=_y(r),s=a%360,l=50+(a>>8)%30,f=35+(a>>16)%20,d=`hsl(${s}, ${l}%, ${f}%)`,m=f<45?"#ffffff":"#000000";return{background:d,text:m}}function Ey(r,a,s){if(s===Zf)return yy;const l=by(r,a),f=Cy(a);return{text:l,background:f.background,textColor:f.text}}function EA({name:r,publicKey:a,size:s=28,contactType:l}){const f=Ey(r,a,l);return F.jsx("div",{className:"flex items-center justify-center rounded-full font-semibold flex-shrink-0 select-none",style:{backgroundColor:f.background,color:f.textColor,width:s,height:s,fontSize:s*.45},children:f.text})}function kA(r){var a,s,l="";if(typeof r=="string"||typeof r=="number")l+=r;else if(typeof r=="object")if(Array.isArray(r)){var f=r.length;for(a=0;a<f;a++)r[a]&&(s=kA(r[a]))&&(l&&(l+=" "),l+=s)}else for(s in r)r[s]&&(l&&(l+=" "),l+=s);return l}function SA(){for(var r,a,s=0,l="",f=arguments.length;s<f;s++)(r=arguments[s])&&(a=kA(r))&&(l&&(l+=" "),l+=a);return l}const ky=(r,a)=>{const s=new Array(r.length+a.length);for(let l=0;l<r.length;l++)s[l]=r[l];for(let l=0;l<a.length;l++)s[r.length+l]=a[l];return s},Sy=(r,a)=>({classGroupId:r,validator:a}),BA=(r=new Map,a=null,s)=>({nextPart:r,validators:a,classGroupId:s}),bc="-",Ep=[],By="arbitrary..",Py=r=>{const a=Dy(r),{conflictingClassGroups:s,conflictingClassGroupModifiers:l}=r;return{getClassGroupId:m=>{if(m.startsWith("[")&&m.endsWith("]"))return Ty(m);const h=m.split(bc),x=h[0]===""&&h.length>1?1:0;return PA(h,x,a)},getConflictingClassGroupIds:(m,h)=>{if(h){const x=l[m],p=s[m];return x?p?ky(p,x):x:p||Ep}return s[m]||Ep}}},PA=(r,a,s)=>{if(r.length-a===0)return s.classGroupId;const f=r[a],d=s.nextPart.get(f);if(d){const p=PA(r,a+1,d);if(p)return p}const m=s.validators;if(m===null)return;const h=a===0?r.join(bc):r.slice(a).join(bc),x=m.length;for(let p=0;p<x;p++){const y=m[p];if(y.validator(h))return y.classGroupId}},Ty=r=>r.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const a=r.slice(1,-1),s=a.indexOf(":"),l=a.slice(0,s);return l?By+l:void 0})(),Dy=r=>{const{theme:a,classGroups:s}=r;return Ry(s,a)},Ry=(r,a)=>{const s=BA();for(const l in r){const f=r[l];l0(f,s,l,a)}return s},l0=(r,a,s,l)=>{const f=r.length;for(let d=0;d<f;d++){const m=r[d];Fy(m,a,s,l)}},Fy=(r,a,s,l)=>{if(typeof r=="string"){Ny(r,a,s);return}if(typeof r=="function"){Ly(r,a,s,l);return}My(r,a,s,l)},Ny=(r,a,s)=>{const l=r===""?a:TA(a,r);l.classGroupId=s},Ly=(r,a,s,l)=>{if(Iy(r)){l0(r(l),a,s,l);return}a.validators===null&&(a.validators=[]),a.validators.push(Sy(s,r))},My=(r,a,s,l)=>{const f=Object.entries(r),d=f.length;for(let m=0;m<d;m++){const[h,x]=f[m];l0(x,TA(a,h),s,l)}},TA=(r,a)=>{let s=r;const l=a.split(bc),f=l.length;for(let d=0;d<f;d++){const m=l[d];let h=s.nextPart.get(m);h||(h=BA(),s.nextPart.set(m,h)),s=h}return s},Iy=r=>"isThemeGetter"in r&&r.isThemeGetter===!0,Oy=r=>{if(r<1)return{get:()=>{},set:()=>{}};let a=0,s=Object.create(null),l=Object.create(null);const f=(d,m)=>{s[d]=m,a++,a>r&&(a=0,l=s,s=Object.create(null))};return{get(d){let m=s[d];if(m!==void 0)return m;if((m=l[d])!==void 0)return f(d,m),m},set(d,m){d in s?s[d]=m:f(d,m)}}},Wf="!",kp=":",zy=[],Sp=(r,a,s,l,f)=>({modifiers:r,hasImportantModifier:a,baseClassName:s,maybePostfixModifierPosition:l,isExternal:f}),jy=r=>{const{prefix:a,experimentalParseClassName:s}=r;let l=f=>{const d=[];let m=0,h=0,x=0,p;const y=f.length;for(let C=0;C<y;C++){const E=f[C];if(m===0&&h===0){if(E===kp){d.push(f.slice(x,C)),x=C+1;continue}if(E==="/"){p=C;continue}}E==="["?m++:E==="]"?m--:E==="("?h++:E===")"&&h--}const v=d.length===0?f:f.slice(x);let w=v,S=!1;v.endsWith(Wf)?(w=v.slice(0,-1),S=!0):v.startsWith(Wf)&&(w=v.slice(1),S=!0);const T=p&&p>x?p-x:void 0;return Sp(d,S,w,T)};if(a){const f=a+kp,d=l;l=m=>m.startsWith(f)?d(m.slice(f.length)):Sp(zy,!1,m,void 0,!0)}if(s){const f=l;l=d=>s({className:d,parseClassName:f})}return l},Hy=r=>{const a=new Map;return r.orderSensitiveModifiers.forEach((s,l)=>{a.set(s,1e6+l)}),s=>{const l=[];let f=[];for(let d=0;d<s.length;d++){const m=s[d],h=m[0]==="[",x=a.has(m);h||x?(f.length>0&&(f.sort(),l.push(...f),f=[]),l.push(m)):f.push(m)}return f.length>0&&(f.sort(),l.push(...f)),l}},Vy=r=>({cache:Oy(r.cacheSize),parseClassName:jy(r),sortModifiers:Hy(r),...Py(r)}),Uy=/\s+/,Zy=(r,a)=>{const{parseClassName:s,getClassGroupId:l,getConflictingClassGroupIds:f,sortModifiers:d}=a,m=[],h=r.trim().split(Uy);let x="";for(let p=h.length-1;p>=0;p-=1){const y=h[p],{isExternal:v,modifiers:w,hasImportantModifier:S,baseClassName:T,maybePostfixModifierPosition:C}=s(y);if(v){x=y+(x.length>0?" "+x:x);continue}let E=!!C,P=l(E?T.substring(0,C):T);if(!P){if(!E){x=y+(x.length>0?" "+x:x);continue}if(P=l(T),!P){x=y+(x.length>0?" "+x:x);continue}E=!1}const B=w.length===0?"":w.length===1?w[0]:d(w).join(":"),k=S?B+Wf:B,I=k+P;if(m.indexOf(I)>-1)continue;m.push(I);const N=f(P,E);for(let z=0;z<N.length;++z){const j=N[z];m.push(k+j)}x=y+(x.length>0?" "+x:x)}return x},Wy=(...r)=>{let a=0,s,l,f="";for(;a<r.length;)(s=r[a++])&&(l=DA(s))&&(f&&(f+=" "),f+=l);return f},DA=r=>{if(typeof r=="string")return r;let a,s="";for(let l=0;l<r.length;l++)r[l]&&(a=DA(r[l]))&&(s&&(s+=" "),s+=a);return s},qy=(r,...a)=>{let s,l,f,d;const m=x=>{const p=a.reduce((y,v)=>v(y),r());return s=Vy(p),l=s.cache.get,f=s.cache.set,d=h,h(x)},h=x=>{const p=l(x);if(p)return p;const y=Zy(x,s);return f(x,y),y};return d=m,(...x)=>d(Wy(...x))},Gy=[],on=r=>{const a=s=>s[r]||Gy;return a.isThemeGetter=!0,a},RA=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,FA=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Qy=/^\d+\/\d+$/,Ky=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$y=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Yy=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Xy=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Jy=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fs=r=>Qy.test(r),it=r=>!!r&&!Number.isNaN(Number(r)),no=r=>!!r&&Number.isInteger(Number(r)),Sf=r=>r.endsWith("%")&&it(r.slice(0,-1)),gi=r=>Ky.test(r),e_=()=>!0,t_=r=>$y.test(r)&&!Yy.test(r),NA=()=>!1,n_=r=>Xy.test(r),r_=r=>Jy.test(r),i_=r=>!Fe(r)&&!Ne(r),o_=r=>Zs(r,IA,NA),Fe=r=>RA.test(r),Lo=r=>Zs(r,OA,t_),Bf=r=>Zs(r,c_,it),Bp=r=>Zs(r,LA,NA),s_=r=>Zs(r,MA,r_),Eu=r=>Zs(r,zA,n_),Ne=r=>FA.test(r),Ia=r=>Ws(r,OA),a_=r=>Ws(r,d_),Pp=r=>Ws(r,LA),l_=r=>Ws(r,IA),u_=r=>Ws(r,MA),ku=r=>Ws(r,zA,!0),Zs=(r,a,s)=>{const l=RA.exec(r);return l?l[1]?a(l[1]):s(l[2]):!1},Ws=(r,a,s=!1)=>{const l=FA.exec(r);return l?l[1]?a(l[1]):s:!1},LA=r=>r==="position"||r==="percentage",MA=r=>r==="image"||r==="url",IA=r=>r==="length"||r==="size"||r==="bg-size",OA=r=>r==="length",c_=r=>r==="number",d_=r=>r==="family-name",zA=r=>r==="shadow",f_=()=>{const r=on("color"),a=on("font"),s=on("text"),l=on("font-weight"),f=on("tracking"),d=on("leading"),m=on("breakpoint"),h=on("container"),x=on("spacing"),p=on("radius"),y=on("shadow"),v=on("inset-shadow"),w=on("text-shadow"),S=on("drop-shadow"),T=on("blur"),C=on("perspective"),E=on("aspect"),P=on("ease"),B=on("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...I(),Ne,Fe],z=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],H=()=>[Ne,Fe,x],K=()=>[Fs,"full","auto",...H()],U=()=>[no,"none","subgrid",Ne,Fe],G=()=>["auto",{span:["full",no,Ne,Fe]},no,Ne,Fe],re=()=>[no,"auto",Ne,Fe],V=()=>["auto","min","max","fr",Ne,Fe],J=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],le=()=>["start","end","center","stretch","center-safe","end-safe"],oe=()=>["auto",...H()],de=()=>[Fs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...H()],q=()=>[r,Ne,Fe],me=()=>[...I(),Pp,Bp,{position:[Ne,Fe]}],ne=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",l_,o_,{size:[Ne,Fe]}],Z=()=>[Sf,Ia,Lo],$=()=>["","none","full",p,Ne,Fe],X=()=>["",it,Ia,Lo],fe=()=>["solid","dashed","dotted","double"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ke=()=>[it,Sf,Pp,Bp],Ae=()=>["","none",T,Ne,Fe],qe=()=>["none",it,Ne,Fe],Ye=()=>["none",it,Ne,Fe],Et=()=>[it,Ne,Fe],ht=()=>[Fs,"full",...H()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[gi],breakpoint:[gi],color:[e_],container:[gi],"drop-shadow":[gi],ease:["in","out","in-out"],font:[i_],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[gi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[gi],shadow:[gi],spacing:["px",it],text:[gi],"text-shadow":[gi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Fs,Fe,Ne,E]}],container:["container"],columns:[{columns:[it,Fe,Ne,h]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:K()}],"inset-x":[{"inset-x":K()}],"inset-y":[{"inset-y":K()}],start:[{start:K()}],end:[{end:K()}],top:[{top:K()}],right:[{right:K()}],bottom:[{bottom:K()}],left:[{left:K()}],visibility:["visible","invisible","collapse"],z:[{z:[no,"auto",Ne,Fe]}],basis:[{basis:[Fs,"full","auto",h,...H()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[it,Fs,"auto","initial","none",Fe]}],grow:[{grow:["",it,Ne,Fe]}],shrink:[{shrink:["",it,Ne,Fe]}],order:[{order:[no,"first","last","none",Ne,Fe]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:G()}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:G()}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:H()}],"gap-x":[{"gap-x":H()}],"gap-y":[{"gap-y":H()}],"justify-content":[{justify:[...J(),"normal"]}],"justify-items":[{"justify-items":[...le(),"normal"]}],"justify-self":[{"justify-self":["auto",...le()]}],"align-content":[{content:["normal",...J()]}],"align-items":[{items:[...le(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...le(),{baseline:["","last"]}]}],"place-content":[{"place-content":J()}],"place-items":[{"place-items":[...le(),"baseline"]}],"place-self":[{"place-self":["auto",...le()]}],p:[{p:H()}],px:[{px:H()}],py:[{py:H()}],ps:[{ps:H()}],pe:[{pe:H()}],pt:[{pt:H()}],pr:[{pr:H()}],pb:[{pb:H()}],pl:[{pl:H()}],m:[{m:oe()}],mx:[{mx:oe()}],my:[{my:oe()}],ms:[{ms:oe()}],me:[{me:oe()}],mt:[{mt:oe()}],mr:[{mr:oe()}],mb:[{mb:oe()}],ml:[{ml:oe()}],"space-x":[{"space-x":H()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":H()}],"space-y-reverse":["space-y-reverse"],size:[{size:de()}],w:[{w:[h,"screen",...de()]}],"min-w":[{"min-w":[h,"screen","none",...de()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[m]},...de()]}],h:[{h:["screen","lh",...de()]}],"min-h":[{"min-h":["screen","lh","none",...de()]}],"max-h":[{"max-h":["screen","lh",...de()]}],"font-size":[{text:["base",s,Ia,Lo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[l,Ne,Bf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Sf,Fe]}],"font-family":[{font:[a_,Fe,a]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[f,Ne,Fe]}],"line-clamp":[{"line-clamp":[it,"none",Ne,Bf]}],leading:[{leading:[d,...H()]}],"list-image":[{"list-image":["none",Ne,Fe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ne,Fe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[it,"from-font","auto",Ne,Lo]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[it,"auto",Ne,Fe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne,Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne,Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:me()}],"bg-repeat":[{bg:ne()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},no,Ne,Fe],radial:["",Ne,Fe],conic:[no,Ne,Fe]},u_,s_]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:$()}],"rounded-s":[{"rounded-s":$()}],"rounded-e":[{"rounded-e":$()}],"rounded-t":[{"rounded-t":$()}],"rounded-r":[{"rounded-r":$()}],"rounded-b":[{"rounded-b":$()}],"rounded-l":[{"rounded-l":$()}],"rounded-ss":[{"rounded-ss":$()}],"rounded-se":[{"rounded-se":$()}],"rounded-ee":[{"rounded-ee":$()}],"rounded-es":[{"rounded-es":$()}],"rounded-tl":[{"rounded-tl":$()}],"rounded-tr":[{"rounded-tr":$()}],"rounded-br":[{"rounded-br":$()}],"rounded-bl":[{"rounded-bl":$()}],"border-w":[{border:X()}],"border-w-x":[{"border-x":X()}],"border-w-y":[{"border-y":X()}],"border-w-s":[{"border-s":X()}],"border-w-e":[{"border-e":X()}],"border-w-t":[{"border-t":X()}],"border-w-r":[{"border-r":X()}],"border-w-b":[{"border-b":X()}],"border-w-l":[{"border-l":X()}],"divide-x":[{"divide-x":X()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":X()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[it,Ne,Fe]}],"outline-w":[{outline:["",it,Ia,Lo]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",y,ku,Eu]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",v,ku,Eu]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[it,Lo]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":X()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",w,ku,Eu]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[it,Ne,Fe]}],"mix-blend":[{"mix-blend":[...he(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":he()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[it]}],"mask-image-linear-from-pos":[{"mask-linear-from":ke()}],"mask-image-linear-to-pos":[{"mask-linear-to":ke()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":ke()}],"mask-image-t-to-pos":[{"mask-t-to":ke()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":ke()}],"mask-image-r-to-pos":[{"mask-r-to":ke()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":ke()}],"mask-image-b-to-pos":[{"mask-b-to":ke()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":ke()}],"mask-image-l-to-pos":[{"mask-l-to":ke()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":ke()}],"mask-image-x-to-pos":[{"mask-x-to":ke()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":ke()}],"mask-image-y-to-pos":[{"mask-y-to":ke()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[Ne,Fe]}],"mask-image-radial-from-pos":[{"mask-radial-from":ke()}],"mask-image-radial-to-pos":[{"mask-radial-to":ke()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":I()}],"mask-image-conic-pos":[{"mask-conic":[it]}],"mask-image-conic-from-pos":[{"mask-conic-from":ke()}],"mask-image-conic-to-pos":[{"mask-conic-to":ke()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:me()}],"mask-repeat":[{mask:ne()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ne,Fe]}],filter:[{filter:["","none",Ne,Fe]}],blur:[{blur:Ae()}],brightness:[{brightness:[it,Ne,Fe]}],contrast:[{contrast:[it,Ne,Fe]}],"drop-shadow":[{"drop-shadow":["","none",S,ku,Eu]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",it,Ne,Fe]}],"hue-rotate":[{"hue-rotate":[it,Ne,Fe]}],invert:[{invert:["",it,Ne,Fe]}],saturate:[{saturate:[it,Ne,Fe]}],sepia:[{sepia:["",it,Ne,Fe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ne,Fe]}],"backdrop-blur":[{"backdrop-blur":Ae()}],"backdrop-brightness":[{"backdrop-brightness":[it,Ne,Fe]}],"backdrop-contrast":[{"backdrop-contrast":[it,Ne,Fe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",it,Ne,Fe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[it,Ne,Fe]}],"backdrop-invert":[{"backdrop-invert":["",it,Ne,Fe]}],"backdrop-opacity":[{"backdrop-opacity":[it,Ne,Fe]}],"backdrop-saturate":[{"backdrop-saturate":[it,Ne,Fe]}],"backdrop-sepia":[{"backdrop-sepia":["",it,Ne,Fe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":H()}],"border-spacing-x":[{"border-spacing-x":H()}],"border-spacing-y":[{"border-spacing-y":H()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ne,Fe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[it,"initial",Ne,Fe]}],ease:[{ease:["linear","initial",P,Ne,Fe]}],delay:[{delay:[it,Ne,Fe]}],animate:[{animate:["none",B,Ne,Fe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,Ne,Fe]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:qe()}],"rotate-x":[{"rotate-x":qe()}],"rotate-y":[{"rotate-y":qe()}],"rotate-z":[{"rotate-z":qe()}],scale:[{scale:Ye()}],"scale-x":[{"scale-x":Ye()}],"scale-y":[{"scale-y":Ye()}],"scale-z":[{"scale-z":Ye()}],"scale-3d":["scale-3d"],skew:[{skew:Et()}],"skew-x":[{"skew-x":Et()}],"skew-y":[{"skew-y":Et()}],transform:[{transform:[Ne,Fe,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ht()}],"translate-x":[{"translate-x":ht()}],"translate-y":[{"translate-y":ht()}],"translate-z":[{"translate-z":ht()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne,Fe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne,Fe]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[it,Ia,Lo,Bf]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},h_=qy(f_);function lt(...r){return h_(SA(r))}const Kt=R.forwardRef(({className:r,type:a,...s},l)=>F.jsx("input",{type:a,className:lt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:l,...s}));Kt.displayName="Input";function Tp(r,a){if(typeof r=="function")return r(a);r!=null&&(r.current=a)}function ol(...r){return a=>{let s=!1;const l=r.map(f=>{const d=Tp(f,a);return!s&&typeof d=="function"&&(s=!0),d});if(s)return()=>{for(let f=0;f<l.length;f++){const d=l[f];typeof d=="function"?d():Tp(r[f],null)}}}}function xr(...r){return R.useCallback(ol(...r),r)}var p_=Symbol.for("react.lazy"),Cc=i0[" use ".trim().toString()];function m_(r){return typeof r=="object"&&r!==null&&"then"in r}function jA(r){return r!=null&&typeof r=="object"&&"$$typeof"in r&&r.$$typeof===p_&&"_payload"in r&&m_(r._payload)}function u0(r){const a=g_(r),s=R.forwardRef((l,f)=>{let{children:d,...m}=l;jA(d)&&typeof Cc=="function"&&(d=Cc(d._payload));const h=R.Children.toArray(d),x=h.find(v_);if(x){const p=x.props.children,y=h.map(v=>v===x?R.Children.count(p)>1?R.Children.only(null):R.isValidElement(p)?p.props.children:null:v);return F.jsx(a,{...m,ref:f,children:R.isValidElement(p)?R.cloneElement(p,void 0,y):null})}return F.jsx(a,{...m,ref:f,children:d})});return s.displayName=`${r}.Slot`,s}var A_=u0("Slot");function g_(r){const a=R.forwardRef((s,l)=>{let{children:f,...d}=s;if(jA(f)&&typeof Cc=="function"&&(f=Cc(f._payload)),R.isValidElement(f)){const m=__(f),h=y_(d,f.props);return f.type!==R.Fragment&&(h.ref=l?ol(l,m):m),R.cloneElement(f,h)}return R.Children.count(f)>1?R.Children.only(null):null});return a.displayName=`${r}.SlotClone`,a}var x_=Symbol("radix.slottable");function v_(r){return R.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===x_}function y_(r,a){const s={...a};for(const l in a){const f=r[l],d=a[l];/^on[A-Z]/.test(l)?f&&d?s[l]=(...h)=>{const x=d(...h);return f(...h),x}:f&&(s[l]=f):l==="style"?s[l]={...f,...d}:l==="className"&&(s[l]=[f,d].filter(Boolean).join(" "))}return{...r,...s}}function __(r){var l,f;let a=(l=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:l.get,s=a&&"isReactWarning"in a&&a.isReactWarning;return s?r.ref:(a=(f=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:f.get,s=a&&"isReactWarning"in a&&a.isReactWarning,s?r.props.ref:r.props.ref||r.ref)}const Dp=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,Rp=SA,Dc=(r,a)=>s=>{var l;if((a==null?void 0:a.variants)==null)return Rp(r,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:f,defaultVariants:d}=a,m=Object.keys(f).map(p=>{const y=s==null?void 0:s[p],v=d==null?void 0:d[p];if(y===null)return null;const w=Dp(y)||Dp(v);return f[p][w]}),h=s&&Object.entries(s).reduce((p,y)=>{let[v,w]=y;return w===void 0||(p[v]=w),p},{}),x=a==null||(l=a.compoundVariants)===null||l===void 0?void 0:l.reduce((p,y)=>{let{class:v,className:w,...S}=y;return Object.entries(S).every(T=>{let[C,E]=T;return Array.isArray(E)?E.includes({...d,...h}[C]):{...d,...h}[C]===E})?[...p,v,w]:p},[]);return Rp(r,m,x,s==null?void 0:s.class,s==null?void 0:s.className)},w_=Dc("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),gr=R.forwardRef(({className:r,variant:a,size:s,asChild:l=!1,...f},d)=>{const m=l?A_:"button";return F.jsx(m,{className:lt(w_({variant:a,size:s,className:r})),ref:d,...f})});gr.displayName="Button";function b_(){try{return localStorage.getItem("remoteterm-sortOrder")==="alpha"?"alpha":"recent"}catch{return"recent"}}function C_(r){try{localStorage.setItem("remoteterm-sortOrder",r)}catch{}}function E_({contacts:r,channels:a,activeConversation:s,onSelectConversation:l,onNewMessage:f,lastMessageTimes:d,unreadCounts:m,mentions:h,showCracker:x,crackerRunning:p,onToggleCracker:y,onMarkAllRead:v}){const[w,S]=R.useState(b_),[T,C]=R.useState(""),E=()=>{const V=w==="alpha"?"recent":"alpha";S(V),C_(V)},P=V=>{C(""),l(V)},B=(V,J)=>(s==null?void 0:s.type)===V&&(s==null?void 0:s.id)===J,k=(V,J)=>{const le=Dr(V,J);return m[le]||0},I=(V,J)=>{const le=Dr(V,J);return h[le]||!1},N=(V,J)=>{const le=Dr(V,J);return d[le]||0},z=a.reduce((V,J)=>(V.some(le=>le.name===J.name)||V.push(J),V),[]),j=r.filter(V=>V.public_key&&V.public_key.length>0).sort((V,J)=>V.name&&!J.name?-1:!V.name&&J.name?1:(V.name||"").localeCompare(J.name||"")).reduce((V,J)=>{const le=js(J.public_key);return V.some(oe=>js(oe.public_key)===le)||V.push(J),V},[]),H=[...z].sort((V,J)=>{if(V.name==="Public")return-1;if(J.name==="Public")return 1;if(w==="recent"){const le=N("channel",V.key),oe=N("channel",J.key);if(le&&oe)return oe-le;if(le&&!oe)return-1;if(!le&&oe)return 1}return V.name.localeCompare(J.name)}),K=[...j].sort((V,J)=>{const le=V.type===Zf,oe=J.type===Zf;if(le&&!oe)return 1;if(!le&&oe)return-1;if(le&&oe)return(V.name||V.public_key).localeCompare(J.name||J.public_key);if(w==="recent"){const de=N("contact",V.public_key),q=N("contact",J.public_key);if(de&&q)return q-de;if(de&&!q)return-1;if(!de&&q)return 1}return(V.name||V.public_key).localeCompare(J.name||J.public_key)}),U=T.toLowerCase().trim(),G=U?H.filter(V=>V.name.toLowerCase().includes(U)):H,re=U?K.filter(V=>{var J;return((J=V.name)==null?void 0:J.toLowerCase().includes(U))||V.public_key.toLowerCase().includes(U)}):K;return F.jsxs("div",{className:"sidebar w-60 h-full min-h-0 bg-card border-r border-border flex flex-col",children:[F.jsxs("div",{className:"flex justify-between items-center px-3 py-3 border-b border-border",children:[F.jsx("h2",{className:"text-xs uppercase text-muted-foreground font-medium",children:"Conversations"}),F.jsx(gr,{variant:"ghost",size:"sm",onClick:f,title:"New Message",className:"h-6 w-6 p-0 text-muted-foreground hover:text-foreground",children:"+"})]}),F.jsxs("div",{className:"relative px-3 py-2 border-b border-border",children:[F.jsx(Kt,{type:"text",placeholder:"Search...",value:T,onChange:V=>C(V.target.value),className:"h-8 text-sm pr-8"}),T&&F.jsx("button",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground text-lg leading-none",onClick:()=>C(""),title:"Clear search",children:""})]}),F.jsxs("div",{className:"flex-1 overflow-y-auto",children:[!U&&F.jsxs("div",{className:lt("px-3 py-2.5 cursor-pointer flex items-center gap-2 border-l-2 border-transparent hover:bg-accent",B("raw","raw")&&"bg-accent border-l-primary"),onClick:()=>P({type:"raw",id:"raw",name:"Raw Packet Feed"}),children:[F.jsx("span",{className:"text-muted-foreground text-xs",children:""}),F.jsx("span",{className:"flex-1 truncate",children:"Packet Feed"})]}),!U&&F.jsxs("div",{className:lt("px-3 py-2.5 cursor-pointer flex items-center gap-2 border-l-2 border-transparent hover:bg-accent",B("map","map")&&"bg-accent border-l-primary"),onClick:()=>P({type:"map",id:"map",name:"Node Map"}),children:[F.jsx("span",{className:"text-muted-foreground text-xs",children:""}),F.jsx("span",{className:"flex-1 truncate",children:"Node Map"})]}),!U&&F.jsxs("div",{className:lt("px-3 py-2.5 cursor-pointer flex items-center gap-2 border-l-2 border-transparent hover:bg-accent",x&&"bg-accent border-l-primary"),onClick:y,children:[F.jsx("span",{className:"text-muted-foreground text-xs",children:""}),F.jsxs("span",{className:"flex-1 truncate",children:[x?"Hide":"Show"," Cracker",F.jsxs("span",{className:lt("ml-1 text-xs",p?"text-green-500":"text-muted-foreground"),children:["(",p?"running":"stopped",")"]})]})]}),!U&&Object.keys(m).length>0&&F.jsxs("div",{className:"px-3 py-2.5 cursor-pointer flex items-center gap-2 border-l-2 border-transparent hover:bg-accent",onClick:v,children:[F.jsx("span",{className:"text-muted-foreground text-xs",children:""}),F.jsx("span",{className:"flex-1 truncate text-muted-foreground",children:"Mark all as read"})]}),G.length>0&&F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:"flex justify-between items-center px-3 py-2 pt-3",children:[F.jsx("span",{className:"text-[11px] uppercase text-muted-foreground",children:"Channels"}),F.jsx("button",{className:"bg-transparent border border-border text-muted-foreground px-1.5 py-0.5 text-[10px] rounded hover:bg-accent hover:text-foreground",onClick:E,title:w==="alpha"?"Sort by recent":"Sort alphabetically",children:w==="alpha"?"A-Z":""})]}),G.map(V=>{const J=k("channel",V.key),le=I("channel",V.key);return F.jsxs("div",{className:lt("px-3 py-2.5 cursor-pointer flex items-center gap-2 border-l-2 border-transparent hover:bg-accent",B("channel",V.key)&&"bg-accent border-l-primary",J>0&&"[&_.name]:font-bold [&_.name]:text-foreground"),onClick:()=>P({type:"channel",id:V.key,name:V.name}),children:[F.jsx("span",{className:"text-muted-foreground text-xs",children:"#"}),F.jsx("span",{className:"name flex-1 truncate",children:V.name}),J>0&&F.jsx("span",{className:lt("text-[10px] font-semibold px-1.5 py-0.5 rounded-full min-w-[18px] text-center",le?"bg-destructive text-destructive-foreground":"bg-primary text-primary-foreground"),children:J})]},`chan-${V.key}`)})]}),re.length>0&&F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:"flex justify-between items-center px-3 py-2 pt-3",children:[F.jsx("span",{className:"text-[11px] uppercase text-muted-foreground",children:"Contacts"}),G.length===0&&F.jsx("button",{className:"bg-transparent border border-border text-muted-foreground px-1.5 py-0.5 text-[10px] rounded hover:bg-accent hover:text-foreground",onClick:E,title:w==="alpha"?"Sort by recent":"Sort alphabetically",children:w==="alpha"?"A-Z":""})]}),re.map(V=>{const J=k("contact",V.public_key),le=I("contact",V.public_key);return F.jsxs("div",{className:lt("px-3 py-2.5 cursor-pointer flex items-center gap-2 border-l-2 border-transparent hover:bg-accent",B("contact",V.public_key)&&"bg-accent border-l-primary",J>0&&"[&_.name]:font-bold [&_.name]:text-foreground"),onClick:()=>P({type:"contact",id:V.public_key,name:Vo(V.name,V.public_key)}),children:[F.jsx(EA,{name:V.name,publicKey:V.public_key,size:24,contactType:V.type}),F.jsx("span",{className:"name flex-1 truncate",children:Vo(V.name,V.public_key)}),J>0&&F.jsx("span",{className:lt("text-[10px] font-semibold px-1.5 py-0.5 rounded-full min-w-[18px] text-center",le?"bg-destructive text-destructive-foreground":"bg-primary text-primary-foreground"),children:J})]},V.public_key)})]}),re.length===0&&G.length===0&&F.jsx("div",{className:"p-5 text-center text-muted-foreground",children:U?"No matches found":"No conversations yet"})]})]})}function Fp(r){const a=r.indexOf(": ");if(a>0&&a<50){const s=r.substring(0,a);if(!s.includes(":"))return{sender:s,content:r.substring(a+2)}}return{sender:null,content:r}}function Ec(r){const a=new Date(r*1e3),s=new Date,l=a.toDateString()===s.toDateString(),f=a.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return l?f:`${a.toLocaleDateString([],{month:"short",day:"numeric"})} ${f}`}function k_(r,a){if(!a)return r;const s=/@\[([^\]]+)\]/g,l=[];let f=0,d,m=0;for(;(d=s.exec(r))!==null;){d.index>f&&l.push(r.slice(f,d.index));const h=d[1],x=h===a;l.push(F.jsxs("span",{className:lt("rounded px-0.5",x?"bg-primary/30 text-primary font-medium":"bg-muted-foreground/20"),children:["@[",h,"]"]},m++)),f=d.index+d[0].length}return f<r.length&&l.push(r.slice(f)),l.length>0?l:r}function S_({messages:r,contacts:a,loading:s,loadingOlder:l=!1,hasOlderMessages:f=!1,onSenderClick:d,onLoadOlder:m,radioName:h}){const x=R.useRef(null),p=R.useRef(0),y=R.useRef(!0),[v,w]=R.useState(!1),S=R.useRef({scrollTop:0,scrollHeight:0,clientHeight:0,wasNearTop:!1,wasNearBottom:!0});R.useLayoutEffect(()=>{if(!x.current)return;const N=x.current,z=r.length-p.current;if(y.current&&r.length>0)N.scrollTop=N.scrollHeight,y.current=!1;else if(z>0&&p.current>0){const j=N.scrollHeight-S.current.scrollHeight;S.current.wasNearTop&&j>0?N.scrollTop=S.current.scrollTop+j:S.current.wasNearBottom&&(N.scrollTop=N.scrollHeight)}p.current=r.length},[r]),R.useEffect(()=>{r.length===0&&(y.current=!0,p.current=0,S.current={scrollTop:0,scrollHeight:0,clientHeight:0,wasNearTop:!1,wasNearBottom:!0})},[r.length]);const T=R.useCallback(()=>{if(!x.current)return;const{scrollTop:N,scrollHeight:z,clientHeight:j}=x.current,H=z-N-j;S.current={scrollTop:N,scrollHeight:z,clientHeight:j,wasNearTop:N<150,wasNearBottom:H<100},w(H>100),!(!m||l||!f)&&N<100&&m()},[m,l,f]),C=R.useCallback(()=>{x.current&&(x.current.scrollTop=x.current.scrollHeight)},[]),E=N=>N&&a.find(z=>yA(z.public_key,N))||null,P=N=>a.find(z=>z.name===N)||null;if(s)return F.jsx("div",{className:"flex-1 overflow-y-auto p-5 text-center text-muted-foreground",children:"Loading messages..."});if(r.length===0)return F.jsx("div",{className:"flex-1 overflow-y-auto p-5 text-center text-muted-foreground",children:"No messages yet"});const k=[...r.reduce((N,z)=>{const j=`${z.type}-${z.conversation_key}-${z.text}-${z.sender_timestamp}`;return N.find(K=>`${K.type}-${K.conversation_key}-${K.text}-${K.sender_timestamp}`===j)||N.push(z),N},[])].sort((N,z)=>N.received_at-z.received_at),I=(N,z)=>N.outgoing?"__outgoing__":N.type==="PRIV"&&N.conversation_key?N.conversation_key:z||"__unknown__";return F.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[F.jsxs("div",{className:"h-full overflow-y-auto p-4 flex flex-col gap-0.5",ref:x,onScroll:T,children:[l&&F.jsx("div",{className:"text-center py-2 text-muted-foreground text-sm",children:"Loading older messages..."}),!l&&f&&F.jsx("div",{className:"text-center py-2 text-muted-foreground text-xs",children:"Scroll up for older messages"}),k.map((N,z)=>{var ne;const j=N.type==="PRIV"?E(N.conversation_key):null,H=(j==null?void 0:j.type)===o0,{sender:K,content:U}=H?{sender:null,content:N.text}:Fp(N.text),G=N.outgoing?"You":(j==null?void 0:j.name)||K||((ne=N.conversation_key)==null?void 0:ne.slice(0,8))||"Unknown",re=!N.outgoing&&d&&G!=="Unknown",V=I(N,K),J=k[z-1],le=J?I(J,Fp(J.text).sender):null,oe=!N.outgoing&&V!==le,de=z===0;let q=null,me="";if(!N.outgoing){if(N.type==="PRIV"&&N.conversation_key)q=(j==null?void 0:j.name)||null,me=N.conversation_key;else if(K){const D=P(K);q=K,me=(D==null?void 0:D.public_key)||`name:${K}`}}return F.jsxs("div",{className:lt("flex items-start max-w-[85%]",N.outgoing&&"flex-row-reverse self-end",oe&&!de&&"mt-3"),children:[!N.outgoing&&F.jsx("div",{className:"w-10 flex-shrink-0 flex items-start pt-0.5",children:oe&&me&&F.jsx(EA,{name:q,publicKey:me,size:32})}),F.jsxs("div",{className:lt("py-1.5 px-3 rounded-lg min-w-0",N.outgoing?"bg-[#1e3a29]":"bg-muted"),children:[oe&&F.jsxs("div",{className:"text-[13px] font-semibold text-muted-foreground mb-0.5",children:[re?F.jsx("span",{className:"cursor-pointer hover:text-primary hover:underline",onClick:()=>d(G),title:`Mention ${G}`,children:G}):G,F.jsx("span",{className:"font-normal text-muted-foreground/70 ml-2 text-[11px]",children:Ec(N.sender_timestamp||N.received_at)})]}),F.jsxs("div",{className:"break-words whitespace-pre-wrap",children:[U.split(`
`).map((D,Z,$)=>F.jsxs("span",{children:[k_(D,h),Z<$.length-1&&F.jsx("br",{})]},Z)),!oe&&F.jsx("span",{className:"text-[10px] text-muted-foreground/50 ml-2",children:Ec(N.sender_timestamp||N.received_at)}),N.outgoing&&(N.acked>0?` ${N.acked>1?N.acked:""}`:" ?")]})]})]},N.id)})]}),v&&F.jsx("button",{onClick:C,className:"absolute bottom-4 right-4 w-10 h-10 rounded-full bg-muted hover:bg-accent border border-border flex items-center justify-center shadow-lg transition-opacity",title:"Scroll to bottom",children:F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-muted-foreground",children:F.jsx("polyline",{points:"6 9 12 15 18 9"})})})]})}const Np=156,B_=140,P_=156,T_=120,D_=8,R_=R.forwardRef(function({onSend:a,disabled:s,placeholder:l,isRepeaterMode:f,conversationType:d,senderName:m},h){const[x,p]=R.useState(""),[y,v]=R.useState(!1),w=R.useRef(null);R.useImperativeHandle(h,()=>({appendText:N=>{var z;p(j=>j+N),(z=w.current)==null||z.focus()}}));const S=R.useMemo(()=>{if(d==="contact")return{warningAt:B_,dangerAt:Np,hardLimit:Np};if(d==="channel"){const N=(m==null?void 0:m.length)??10,z=Math.max(1,P_-N-2);return{warningAt:T_,dangerAt:Math.max(1,z-D_),hardLimit:z}}return null},[d,m]),{limitState:T,warningMessage:C}=R.useMemo(()=>{if(!S)return{limitState:"normal",warningMessage:null};const N=x.length;return N>=S.hardLimit?{limitState:"error",warningMessage:"likely truncated by radio"}:N>=S.dangerAt?{limitState:"danger",warningMessage:"may impact multi-repeater hop delivery"}:N>=S.warningAt?{limitState:"warning",warningMessage:"may impact multi-repeater hop delivery"}:{limitState:"normal",warningMessage:null}},[x.length,S]),E=S?S.hardLimit-x.length:0,P=R.useCallback(async N=>{N.preventDefault();const z=x.trim();if(f){if(y||s)return;const j=z==="."?"":z;v(!0);try{await a(j),p("")}catch(H){console.error("Failed to request telemetry:",H),Lt.error("Failed to request telemetry",{description:H instanceof Error?H.message:"Check radio connection"});return}finally{v(!1)}setTimeout(()=>{var H;return(H=w.current)==null?void 0:H.focus()},0)}else{if(!z||y||s)return;v(!0);try{await a(z),p("")}catch(j){console.error("Failed to send message:",j),Lt.error("Failed to send message",{description:j instanceof Error?j.message:"Check radio connection"});return}finally{v(!1)}setTimeout(()=>{var j;return(j=w.current)==null?void 0:j.focus()},0)}},[x,y,s,a,f]),B=R.useCallback(N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),P(N))},[P]),k=f?x.trim().length>0||x===".":x.trim().length>0,I=!f&&S!==null;return F.jsxs("form",{className:"px-4 py-3 border-t border-border flex flex-col gap-1",onSubmit:P,children:[F.jsxs("div",{className:"flex gap-2",children:[F.jsx(Kt,{ref:w,type:f?"password":"text",value:x,onChange:N=>p(N.target.value),onKeyDown:B,placeholder:l||(f?"Enter password (or . for none)...":"Type a message..."),disabled:s||y,className:"flex-1 min-w-0"}),F.jsx(gr,{type:"submit",disabled:s||y||!k,className:"flex-shrink-0",children:y?f?"Fetching...":"Sending...":f?"Fetch":"Send"})]}),I&&F.jsxs("div",{className:"flex items-center justify-end gap-2 text-xs",children:[F.jsxs("span",{className:lt("tabular-nums",T==="error"||T==="danger"?"text-red-500 font-medium":T==="warning"?"text-yellow-500":"text-muted-foreground"),children:[x.length,"/",S.hardLimit,E<0&&` (${E})`]}),C&&F.jsxs("span",{className:lt(T==="error"?"text-red-500":"text-yellow-500"),children:[" ",C]})]})]})});function sn(r,a,{checkForDefaultPrevented:s=!0}={}){return function(f){if(r==null||r(f),s===!1||!f.defaultPrevented)return a==null?void 0:a(f)}}function F_(r,a){const s=R.createContext(a),l=d=>{const{children:m,...h}=d,x=R.useMemo(()=>h,Object.values(h));return F.jsx(s.Provider,{value:x,children:m})};l.displayName=r+"Provider";function f(d){const m=R.useContext(s);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${r}\``)}return[l,f]}function sl(r,a=[]){let s=[];function l(d,m){const h=R.createContext(m),x=s.length;s=[...s,m];const p=v=>{var P;const{scope:w,children:S,...T}=v,C=((P=w==null?void 0:w[r])==null?void 0:P[x])||h,E=R.useMemo(()=>T,Object.values(T));return F.jsx(C.Provider,{value:E,children:S})};p.displayName=d+"Provider";function y(v,w){var C;const S=((C=w==null?void 0:w[r])==null?void 0:C[x])||h,T=R.useContext(S);if(T)return T;if(m!==void 0)return m;throw new Error(`\`${v}\` must be used within \`${d}\``)}return[p,y]}const f=()=>{const d=s.map(m=>R.createContext(m));return function(h){const x=(h==null?void 0:h[r])||d;return R.useMemo(()=>({[`__scope${r}`]:{...h,[r]:x}}),[h,x])}};return f.scopeName=r,[l,N_(f,...a)]}function N_(...r){const a=r[0];if(r.length===1)return a;const s=()=>{const l=r.map(f=>({useScope:f(),scopeName:f.scopeName}));return function(d){const m=l.reduce((h,{useScope:x,scopeName:p})=>{const v=x(d)[`__scope${p}`];return{...h,...v}},{});return R.useMemo(()=>({[`__scope${a.scopeName}`]:m}),[m])}};return s.scopeName=a.scopeName,s}var Hs=globalThis!=null&&globalThis.document?R.useLayoutEffect:()=>{},L_=i0[" useId ".trim().toString()]||(()=>{}),M_=0;function tl(r){const[a,s]=R.useState(L_());return Hs(()=>{s(l=>l??String(M_++))},[r]),a?`radix-${a}`:""}var I_=i0[" useInsertionEffect ".trim().toString()]||Hs;function Rc({prop:r,defaultProp:a,onChange:s=()=>{},caller:l}){const[f,d,m]=O_({defaultProp:a,onChange:s}),h=r!==void 0,x=h?r:f;{const y=R.useRef(r!==void 0);R.useEffect(()=>{const v=y.current;v!==h&&console.warn(`${l} is changing from ${v?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=h},[h,l])}const p=R.useCallback(y=>{var v;if(h){const w=z_(y)?y(r):y;w!==r&&((v=m.current)==null||v.call(m,w))}else d(y)},[h,r,d,m]);return[x,p]}function O_({defaultProp:r,onChange:a}){const[s,l]=R.useState(r),f=R.useRef(s),d=R.useRef(a);return I_(()=>{d.current=a},[a]),R.useEffect(()=>{var m;f.current!==s&&((m=d.current)==null||m.call(d,s),f.current=s)},[s,f]),[s,l,d]}function z_(r){return typeof r=="function"}function j_(r){const a=H_(r),s=R.forwardRef((l,f)=>{const{children:d,...m}=l,h=R.Children.toArray(d),x=h.find(U_);if(x){const p=x.props.children,y=h.map(v=>v===x?R.Children.count(p)>1?R.Children.only(null):R.isValidElement(p)?p.props.children:null:v);return F.jsx(a,{...m,ref:f,children:R.isValidElement(p)?R.cloneElement(p,void 0,y):null})}return F.jsx(a,{...m,ref:f,children:d})});return s.displayName=`${r}.Slot`,s}function H_(r){const a=R.forwardRef((s,l)=>{const{children:f,...d}=s;if(R.isValidElement(f)){const m=W_(f),h=Z_(d,f.props);return f.type!==R.Fragment&&(h.ref=l?ol(l,m):m),R.cloneElement(f,h)}return R.Children.count(f)>1?R.Children.only(null):null});return a.displayName=`${r}.SlotClone`,a}var V_=Symbol("radix.slottable");function U_(r){return R.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===V_}function Z_(r,a){const s={...a};for(const l in a){const f=r[l],d=a[l];/^on[A-Z]/.test(l)?f&&d?s[l]=(...h)=>{const x=d(...h);return f(...h),x}:f&&(s[l]=f):l==="style"?s[l]={...f,...d}:l==="className"&&(s[l]=[f,d].filter(Boolean).join(" "))}return{...r,...s}}function W_(r){var l,f;let a=(l=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:l.get,s=a&&"isReactWarning"in a&&a.isReactWarning;return s?r.ref:(a=(f=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:f.get,s=a&&"isReactWarning"in a&&a.isReactWarning,s?r.props.ref:r.props.ref||r.ref)}var q_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],cn=q_.reduce((r,a)=>{const s=j_(`Primitive.${a}`),l=R.forwardRef((f,d)=>{const{asChild:m,...h}=f,x=m?s:a;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),F.jsx(x,{...h,ref:d})});return l.displayName=`Primitive.${a}`,{...r,[a]:l}},{});function G_(r,a){r&&s0.flushSync(()=>r.dispatchEvent(a))}function Vs(r){const a=R.useRef(r);return R.useEffect(()=>{a.current=r}),R.useMemo(()=>(...s)=>{var l;return(l=a.current)==null?void 0:l.call(a,...s)},[])}function Q_(r,a=globalThis==null?void 0:globalThis.document){const s=Vs(r);R.useEffect(()=>{const l=f=>{f.key==="Escape"&&s(f)};return a.addEventListener("keydown",l,{capture:!0}),()=>a.removeEventListener("keydown",l,{capture:!0})},[s,a])}var K_="DismissableLayer",qf="dismissableLayer.update",$_="dismissableLayer.pointerDownOutside",Y_="dismissableLayer.focusOutside",Lp,HA=R.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),VA=R.forwardRef((r,a)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:l,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:m,onDismiss:h,...x}=r,p=R.useContext(HA),[y,v]=R.useState(null),w=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=R.useState({}),T=xr(a,j=>v(j)),C=Array.from(p.layers),[E]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),P=C.indexOf(E),B=y?C.indexOf(y):-1,k=p.layersWithOutsidePointerEventsDisabled.size>0,I=B>=P,N=e1(j=>{const H=j.target,K=[...p.branches].some(U=>U.contains(H));!I||K||(f==null||f(j),m==null||m(j),j.defaultPrevented||h==null||h())},w),z=t1(j=>{const H=j.target;[...p.branches].some(U=>U.contains(H))||(d==null||d(j),m==null||m(j),j.defaultPrevented||h==null||h())},w);return Q_(j=>{B===p.layers.size-1&&(l==null||l(j),!j.defaultPrevented&&h&&(j.preventDefault(),h()))},w),R.useEffect(()=>{if(y)return s&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Lp=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),Mp(),()=>{s&&p.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=Lp)}},[y,w,s,p]),R.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),Mp())},[y,p]),R.useEffect(()=>{const j=()=>S({});return document.addEventListener(qf,j),()=>document.removeEventListener(qf,j)},[]),F.jsx(cn.div,{...x,ref:T,style:{pointerEvents:k?I?"auto":"none":void 0,...r.style},onFocusCapture:sn(r.onFocusCapture,z.onFocusCapture),onBlurCapture:sn(r.onBlurCapture,z.onBlurCapture),onPointerDownCapture:sn(r.onPointerDownCapture,N.onPointerDownCapture)})});VA.displayName=K_;var X_="DismissableLayerBranch",J_=R.forwardRef((r,a)=>{const s=R.useContext(HA),l=R.useRef(null),f=xr(a,l);return R.useEffect(()=>{const d=l.current;if(d)return s.branches.add(d),()=>{s.branches.delete(d)}},[s.branches]),F.jsx(cn.div,{...r,ref:f})});J_.displayName=X_;function e1(r,a=globalThis==null?void 0:globalThis.document){const s=Vs(r),l=R.useRef(!1),f=R.useRef(()=>{});return R.useEffect(()=>{const d=h=>{if(h.target&&!l.current){let x=function(){UA($_,s,p,{discrete:!0})};const p={originalEvent:h};h.pointerType==="touch"?(a.removeEventListener("click",f.current),f.current=x,a.addEventListener("click",f.current,{once:!0})):x()}else a.removeEventListener("click",f.current);l.current=!1},m=window.setTimeout(()=>{a.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(m),a.removeEventListener("pointerdown",d),a.removeEventListener("click",f.current)}},[a,s]),{onPointerDownCapture:()=>l.current=!0}}function t1(r,a=globalThis==null?void 0:globalThis.document){const s=Vs(r),l=R.useRef(!1);return R.useEffect(()=>{const f=d=>{d.target&&!l.current&&UA(Y_,s,{originalEvent:d},{discrete:!1})};return a.addEventListener("focusin",f),()=>a.removeEventListener("focusin",f)},[a,s]),{onFocusCapture:()=>l.current=!0,onBlurCapture:()=>l.current=!1}}function Mp(){const r=new CustomEvent(qf);document.dispatchEvent(r)}function UA(r,a,s,{discrete:l}){const f=s.originalEvent.target,d=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:s});a&&f.addEventListener(r,a,{once:!0}),l?G_(f,d):f.dispatchEvent(d)}var Pf="focusScope.autoFocusOnMount",Tf="focusScope.autoFocusOnUnmount",Ip={bubbles:!1,cancelable:!0},n1="FocusScope",ZA=R.forwardRef((r,a)=>{const{loop:s=!1,trapped:l=!1,onMountAutoFocus:f,onUnmountAutoFocus:d,...m}=r,[h,x]=R.useState(null),p=Vs(f),y=Vs(d),v=R.useRef(null),w=xr(a,C=>x(C)),S=R.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;R.useEffect(()=>{if(l){let C=function(k){if(S.paused||!h)return;const I=k.target;h.contains(I)?v.current=I:ro(v.current,{select:!0})},E=function(k){if(S.paused||!h)return;const I=k.relatedTarget;I!==null&&(h.contains(I)||ro(v.current,{select:!0}))},P=function(k){if(document.activeElement===document.body)for(const N of k)N.removedNodes.length>0&&ro(h)};document.addEventListener("focusin",C),document.addEventListener("focusout",E);const B=new MutationObserver(P);return h&&B.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",E),B.disconnect()}}},[l,h,S.paused]),R.useEffect(()=>{if(h){zp.add(S);const C=document.activeElement;if(!h.contains(C)){const P=new CustomEvent(Pf,Ip);h.addEventListener(Pf,p),h.dispatchEvent(P),P.defaultPrevented||(r1(l1(WA(h)),{select:!0}),document.activeElement===C&&ro(h))}return()=>{h.removeEventListener(Pf,p),setTimeout(()=>{const P=new CustomEvent(Tf,Ip);h.addEventListener(Tf,y),h.dispatchEvent(P),P.defaultPrevented||ro(C??document.body,{select:!0}),h.removeEventListener(Tf,y),zp.remove(S)},0)}}},[h,p,y,S]);const T=R.useCallback(C=>{if(!s&&!l||S.paused)return;const E=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,P=document.activeElement;if(E&&P){const B=C.currentTarget,[k,I]=i1(B);k&&I?!C.shiftKey&&P===I?(C.preventDefault(),s&&ro(k,{select:!0})):C.shiftKey&&P===k&&(C.preventDefault(),s&&ro(I,{select:!0})):P===B&&C.preventDefault()}},[s,l,S.paused]);return F.jsx(cn.div,{tabIndex:-1,...m,ref:w,onKeyDown:T})});ZA.displayName=n1;function r1(r,{select:a=!1}={}){const s=document.activeElement;for(const l of r)if(ro(l,{select:a}),document.activeElement!==s)return}function i1(r){const a=WA(r),s=Op(a,r),l=Op(a.reverse(),r);return[s,l]}function WA(r){const a=[],s=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:l=>{const f=l.tagName==="INPUT"&&l.type==="hidden";return l.disabled||l.hidden||f?NodeFilter.FILTER_SKIP:l.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)a.push(s.currentNode);return a}function Op(r,a){for(const s of r)if(!o1(s,{upTo:a}))return s}function o1(r,{upTo:a}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(a!==void 0&&r===a)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function s1(r){return r instanceof HTMLInputElement&&"select"in r}function ro(r,{select:a=!1}={}){if(r&&r.focus){const s=document.activeElement;r.focus({preventScroll:!0}),r!==s&&s1(r)&&a&&r.select()}}var zp=a1();function a1(){let r=[];return{add(a){const s=r[0];a!==s&&(s==null||s.pause()),r=jp(r,a),r.unshift(a)},remove(a){var s;r=jp(r,a),(s=r[0])==null||s.resume()}}}function jp(r,a){const s=[...r],l=s.indexOf(a);return l!==-1&&s.splice(l,1),s}function l1(r){return r.filter(a=>a.tagName!=="A")}var u1="Portal",qA=R.forwardRef((r,a)=>{var h;const{container:s,...l}=r,[f,d]=R.useState(!1);Hs(()=>d(!0),[]);const m=s||f&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return m?wA.createPortal(F.jsx(cn.div,{...l,ref:a}),m):null});qA.displayName=u1;function c1(r,a){return R.useReducer((s,l)=>a[s][l]??s,r)}var qs=r=>{const{present:a,children:s}=r,l=d1(a),f=typeof s=="function"?s({present:l.isPresent}):R.Children.only(s),d=xr(l.ref,f1(f));return typeof s=="function"||l.isPresent?R.cloneElement(f,{ref:d}):null};qs.displayName="Presence";function d1(r){const[a,s]=R.useState(),l=R.useRef(null),f=R.useRef(r),d=R.useRef("none"),m=r?"mounted":"unmounted",[h,x]=c1(m,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return R.useEffect(()=>{const p=Su(l.current);d.current=h==="mounted"?p:"none"},[h]),Hs(()=>{const p=l.current,y=f.current;if(y!==r){const w=d.current,S=Su(p);r?x("MOUNT"):S==="none"||(p==null?void 0:p.display)==="none"?x("UNMOUNT"):x(y&&w!==S?"ANIMATION_OUT":"UNMOUNT"),f.current=r}},[r,x]),Hs(()=>{if(a){let p;const y=a.ownerDocument.defaultView??window,v=S=>{const C=Su(l.current).includes(CSS.escape(S.animationName));if(S.target===a&&C&&(x("ANIMATION_END"),!f.current)){const E=a.style.animationFillMode;a.style.animationFillMode="forwards",p=y.setTimeout(()=>{a.style.animationFillMode==="forwards"&&(a.style.animationFillMode=E)})}},w=S=>{S.target===a&&(d.current=Su(l.current))};return a.addEventListener("animationstart",w),a.addEventListener("animationcancel",v),a.addEventListener("animationend",v),()=>{y.clearTimeout(p),a.removeEventListener("animationstart",w),a.removeEventListener("animationcancel",v),a.removeEventListener("animationend",v)}}else x("ANIMATION_END")},[a,x]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:R.useCallback(p=>{l.current=p?getComputedStyle(p):null,s(p)},[])}}function Su(r){return(r==null?void 0:r.animationName)||"none"}function f1(r){var l,f;let a=(l=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:l.get,s=a&&"isReactWarning"in a&&a.isReactWarning;return s?r.ref:(a=(f=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:f.get,s=a&&"isReactWarning"in a&&a.isReactWarning,s?r.props.ref:r.props.ref||r.ref)}var Df=0;function h1(){R.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??Hp()),document.body.insertAdjacentElement("beforeend",r[1]??Hp()),Df++,()=>{Df===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(a=>a.remove()),Df--}},[])}function Hp(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var Kr=function(){return Kr=Object.assign||function(a){for(var s,l=1,f=arguments.length;l<f;l++){s=arguments[l];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(a[d]=s[d])}return a},Kr.apply(this,arguments)};function GA(r,a){var s={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&a.indexOf(l)<0&&(s[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,l=Object.getOwnPropertySymbols(r);f<l.length;f++)a.indexOf(l[f])<0&&Object.prototype.propertyIsEnumerable.call(r,l[f])&&(s[l[f]]=r[l[f]]);return s}function p1(r,a,s){if(s||arguments.length===2)for(var l=0,f=a.length,d;l<f;l++)(d||!(l in a))&&(d||(d=Array.prototype.slice.call(a,0,l)),d[l]=a[l]);return r.concat(d||Array.prototype.slice.call(a))}var Nu="right-scroll-bar-position",Lu="width-before-scroll-bar",m1="with-scroll-bars-hidden",A1="--removed-body-scroll-bar-size";function Rf(r,a){return typeof r=="function"?r(a):r&&(r.current=a),r}function g1(r,a){var s=R.useState(function(){return{value:r,callback:a,facade:{get current(){return s.value},set current(l){var f=s.value;f!==l&&(s.value=l,s.callback(l,f))}}}})[0];return s.callback=a,s.facade}var x1=typeof window<"u"?R.useLayoutEffect:R.useEffect,Vp=new WeakMap;function v1(r,a){var s=g1(null,function(l){return r.forEach(function(f){return Rf(f,l)})});return x1(function(){var l=Vp.get(s);if(l){var f=new Set(l),d=new Set(r),m=s.current;f.forEach(function(h){d.has(h)||Rf(h,null)}),d.forEach(function(h){f.has(h)||Rf(h,m)})}Vp.set(s,r)},[r]),s}function y1(r){return r}function _1(r,a){a===void 0&&(a=y1);var s=[],l=!1,f={read:function(){if(l)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:r},useMedium:function(d){var m=a(d,l);return s.push(m),function(){s=s.filter(function(h){return h!==m})}},assignSyncMedium:function(d){for(l=!0;s.length;){var m=s;s=[],m.forEach(d)}s={push:function(h){return d(h)},filter:function(){return s}}},assignMedium:function(d){l=!0;var m=[];if(s.length){var h=s;s=[],h.forEach(d),m=s}var x=function(){var y=m;m=[],y.forEach(d)},p=function(){return Promise.resolve().then(x)};p(),s={push:function(y){m.push(y),p()},filter:function(y){return m=m.filter(y),s}}}};return f}function w1(r){r===void 0&&(r={});var a=_1(null);return a.options=Kr({async:!0,ssr:!1},r),a}var QA=function(r){var a=r.sideCar,s=GA(r,["sideCar"]);if(!a)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var l=a.read();if(!l)throw new Error("Sidecar medium not found");return R.createElement(l,Kr({},s))};QA.isSideCarExport=!0;function b1(r,a){return r.useMedium(a),QA}var KA=w1(),Ff=function(){},Fc=R.forwardRef(function(r,a){var s=R.useRef(null),l=R.useState({onScrollCapture:Ff,onWheelCapture:Ff,onTouchMoveCapture:Ff}),f=l[0],d=l[1],m=r.forwardProps,h=r.children,x=r.className,p=r.removeScrollBar,y=r.enabled,v=r.shards,w=r.sideCar,S=r.noRelative,T=r.noIsolation,C=r.inert,E=r.allowPinchZoom,P=r.as,B=P===void 0?"div":P,k=r.gapMode,I=GA(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=w,z=v1([s,a]),j=Kr(Kr({},I),f);return R.createElement(R.Fragment,null,y&&R.createElement(N,{sideCar:KA,removeScrollBar:p,shards:v,noRelative:S,noIsolation:T,inert:C,setCallbacks:d,allowPinchZoom:!!E,lockRef:s,gapMode:k}),m?R.cloneElement(R.Children.only(h),Kr(Kr({},j),{ref:z})):R.createElement(B,Kr({},j,{className:x,ref:z}),h))});Fc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fc.classNames={fullWidth:Lu,zeroRight:Nu};var C1=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function E1(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var a=C1();return a&&r.setAttribute("nonce",a),r}function k1(r,a){r.styleSheet?r.styleSheet.cssText=a:r.appendChild(document.createTextNode(a))}function S1(r){var a=document.head||document.getElementsByTagName("head")[0];a.appendChild(r)}var B1=function(){var r=0,a=null;return{add:function(s){r==0&&(a=E1())&&(k1(a,s),S1(a)),r++},remove:function(){r--,!r&&a&&(a.parentNode&&a.parentNode.removeChild(a),a=null)}}},P1=function(){var r=B1();return function(a,s){R.useEffect(function(){return r.add(a),function(){r.remove()}},[a&&s])}},$A=function(){var r=P1(),a=function(s){var l=s.styles,f=s.dynamic;return r(l,f),null};return a},T1={left:0,top:0,right:0,gap:0},Nf=function(r){return parseInt(r||"",10)||0},D1=function(r){var a=window.getComputedStyle(document.body),s=a[r==="padding"?"paddingLeft":"marginLeft"],l=a[r==="padding"?"paddingTop":"marginTop"],f=a[r==="padding"?"paddingRight":"marginRight"];return[Nf(s),Nf(l),Nf(f)]},R1=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return T1;var a=D1(r),s=document.documentElement.clientWidth,l=window.innerWidth;return{left:a[0],top:a[1],right:a[2],gap:Math.max(0,l-s+a[2]-a[0])}},F1=$A(),Os="data-scroll-locked",N1=function(r,a,s,l){var f=r.left,d=r.top,m=r.right,h=r.gap;return s===void 0&&(s="margin"),`
  .`.concat(m1,` {
   overflow: hidden `).concat(l,`;
   padding-right: `).concat(h,"px ").concat(l,`;
  }
  body[`).concat(Os,`] {
    overflow: hidden `).concat(l,`;
    overscroll-behavior: contain;
    `).concat([a&&"position: relative ".concat(l,";"),s==="margin"&&`
    padding-left: `.concat(f,`px;
    padding-top: `).concat(d,`px;
    padding-right: `).concat(m,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(l,`;
    `),s==="padding"&&"padding-right: ".concat(h,"px ").concat(l,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Nu,` {
    right: `).concat(h,"px ").concat(l,`;
  }
  
  .`).concat(Lu,` {
    margin-right: `).concat(h,"px ").concat(l,`;
  }
  
  .`).concat(Nu," .").concat(Nu,` {
    right: 0 `).concat(l,`;
  }
  
  .`).concat(Lu," .").concat(Lu,` {
    margin-right: 0 `).concat(l,`;
  }
  
  body[`).concat(Os,`] {
    `).concat(A1,": ").concat(h,`px;
  }
`)},Up=function(){var r=parseInt(document.body.getAttribute(Os)||"0",10);return isFinite(r)?r:0},L1=function(){R.useEffect(function(){return document.body.setAttribute(Os,(Up()+1).toString()),function(){var r=Up()-1;r<=0?document.body.removeAttribute(Os):document.body.setAttribute(Os,r.toString())}},[])},M1=function(r){var a=r.noRelative,s=r.noImportant,l=r.gapMode,f=l===void 0?"margin":l;L1();var d=R.useMemo(function(){return R1(f)},[f]);return R.createElement(F1,{styles:N1(d,!a,f,s?"":"!important")})},Gf=!1;if(typeof window<"u")try{var Bu=Object.defineProperty({},"passive",{get:function(){return Gf=!0,!0}});window.addEventListener("test",Bu,Bu),window.removeEventListener("test",Bu,Bu)}catch{Gf=!1}var Ns=Gf?{passive:!1}:!1,I1=function(r){return r.tagName==="TEXTAREA"},YA=function(r,a){if(!(r instanceof Element))return!1;var s=window.getComputedStyle(r);return s[a]!=="hidden"&&!(s.overflowY===s.overflowX&&!I1(r)&&s[a]==="visible")},O1=function(r){return YA(r,"overflowY")},z1=function(r){return YA(r,"overflowX")},Zp=function(r,a){var s=a.ownerDocument,l=a;do{typeof ShadowRoot<"u"&&l instanceof ShadowRoot&&(l=l.host);var f=XA(r,l);if(f){var d=JA(r,l),m=d[1],h=d[2];if(m>h)return!0}l=l.parentNode}while(l&&l!==s.body);return!1},j1=function(r){var a=r.scrollTop,s=r.scrollHeight,l=r.clientHeight;return[a,s,l]},H1=function(r){var a=r.scrollLeft,s=r.scrollWidth,l=r.clientWidth;return[a,s,l]},XA=function(r,a){return r==="v"?O1(a):z1(a)},JA=function(r,a){return r==="v"?j1(a):H1(a)},V1=function(r,a){return r==="h"&&a==="rtl"?-1:1},U1=function(r,a,s,l,f){var d=V1(r,window.getComputedStyle(a).direction),m=d*l,h=s.target,x=a.contains(h),p=!1,y=m>0,v=0,w=0;do{if(!h)break;var S=JA(r,h),T=S[0],C=S[1],E=S[2],P=C-E-d*T;(T||P)&&XA(r,h)&&(v+=P,w+=T);var B=h.parentNode;h=B&&B.nodeType===Node.DOCUMENT_FRAGMENT_NODE?B.host:B}while(!x&&h!==document.body||x&&(a.contains(h)||a===h));return(y&&Math.abs(v)<1||!y&&Math.abs(w)<1)&&(p=!0),p},Pu=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},Wp=function(r){return[r.deltaX,r.deltaY]},qp=function(r){return r&&"current"in r?r.current:r},Z1=function(r,a){return r[0]===a[0]&&r[1]===a[1]},W1=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},q1=0,Ls=[];function G1(r){var a=R.useRef([]),s=R.useRef([0,0]),l=R.useRef(),f=R.useState(q1++)[0],d=R.useState($A)[0],m=R.useRef(r);R.useEffect(function(){m.current=r},[r]),R.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(f));var C=p1([r.lockRef.current],(r.shards||[]).map(qp),!0).filter(Boolean);return C.forEach(function(E){return E.classList.add("allow-interactivity-".concat(f))}),function(){document.body.classList.remove("block-interactivity-".concat(f)),C.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(f))})}}},[r.inert,r.lockRef.current,r.shards]);var h=R.useCallback(function(C,E){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!m.current.allowPinchZoom;var P=Pu(C),B=s.current,k="deltaX"in C?C.deltaX:B[0]-P[0],I="deltaY"in C?C.deltaY:B[1]-P[1],N,z=C.target,j=Math.abs(k)>Math.abs(I)?"h":"v";if("touches"in C&&j==="h"&&z.type==="range")return!1;var H=window.getSelection(),K=H&&H.anchorNode,U=K?K===z||K.contains(z):!1;if(U)return!1;var G=Zp(j,z);if(!G)return!0;if(G?N=j:(N=j==="v"?"h":"v",G=Zp(j,z)),!G)return!1;if(!l.current&&"changedTouches"in C&&(k||I)&&(l.current=N),!N)return!0;var re=l.current||N;return U1(re,E,C,re==="h"?k:I)},[]),x=R.useCallback(function(C){var E=C;if(!(!Ls.length||Ls[Ls.length-1]!==d)){var P="deltaY"in E?Wp(E):Pu(E),B=a.current.filter(function(N){return N.name===E.type&&(N.target===E.target||E.target===N.shadowParent)&&Z1(N.delta,P)})[0];if(B&&B.should){E.cancelable&&E.preventDefault();return}if(!B){var k=(m.current.shards||[]).map(qp).filter(Boolean).filter(function(N){return N.contains(E.target)}),I=k.length>0?h(E,k[0]):!m.current.noIsolation;I&&E.cancelable&&E.preventDefault()}}},[]),p=R.useCallback(function(C,E,P,B){var k={name:C,delta:E,target:P,should:B,shadowParent:Q1(P)};a.current.push(k),setTimeout(function(){a.current=a.current.filter(function(I){return I!==k})},1)},[]),y=R.useCallback(function(C){s.current=Pu(C),l.current=void 0},[]),v=R.useCallback(function(C){p(C.type,Wp(C),C.target,h(C,r.lockRef.current))},[]),w=R.useCallback(function(C){p(C.type,Pu(C),C.target,h(C,r.lockRef.current))},[]);R.useEffect(function(){return Ls.push(d),r.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:w}),document.addEventListener("wheel",x,Ns),document.addEventListener("touchmove",x,Ns),document.addEventListener("touchstart",y,Ns),function(){Ls=Ls.filter(function(C){return C!==d}),document.removeEventListener("wheel",x,Ns),document.removeEventListener("touchmove",x,Ns),document.removeEventListener("touchstart",y,Ns)}},[]);var S=r.removeScrollBar,T=r.inert;return R.createElement(R.Fragment,null,T?R.createElement(d,{styles:W1(f)}):null,S?R.createElement(M1,{noRelative:r.noRelative,gapMode:r.gapMode}):null)}function Q1(r){for(var a=null;r!==null;)r instanceof ShadowRoot&&(a=r.host,r=r.host),r=r.parentNode;return a}const K1=b1(KA,G1);var eg=R.forwardRef(function(r,a){return R.createElement(Fc,Kr({},r,{ref:a,sideCar:K1}))});eg.classNames=Fc.classNames;var $1=function(r){if(typeof document>"u")return null;var a=Array.isArray(r)?r[0]:r;return a.ownerDocument.body},Ms=new WeakMap,Tu=new WeakMap,Du={},Lf=0,tg=function(r){return r&&(r.host||tg(r.parentNode))},Y1=function(r,a){return a.map(function(s){if(r.contains(s))return s;var l=tg(s);return l&&r.contains(l)?l:(console.error("aria-hidden",s,"in not contained inside",r,". Doing nothing"),null)}).filter(function(s){return!!s})},X1=function(r,a,s,l){var f=Y1(a,Array.isArray(r)?r:[r]);Du[s]||(Du[s]=new WeakMap);var d=Du[s],m=[],h=new Set,x=new Set(f),p=function(v){!v||h.has(v)||(h.add(v),p(v.parentNode))};f.forEach(p);var y=function(v){!v||x.has(v)||Array.prototype.forEach.call(v.children,function(w){if(h.has(w))y(w);else try{var S=w.getAttribute(l),T=S!==null&&S!=="false",C=(Ms.get(w)||0)+1,E=(d.get(w)||0)+1;Ms.set(w,C),d.set(w,E),m.push(w),C===1&&T&&Tu.set(w,!0),E===1&&w.setAttribute(s,"true"),T||w.setAttribute(l,"true")}catch(P){console.error("aria-hidden: cannot operate on ",w,P)}})};return y(a),h.clear(),Lf++,function(){m.forEach(function(v){var w=Ms.get(v)-1,S=d.get(v)-1;Ms.set(v,w),d.set(v,S),w||(Tu.has(v)||v.removeAttribute(l),Tu.delete(v)),S||v.removeAttribute(s)}),Lf--,Lf||(Ms=new WeakMap,Ms=new WeakMap,Tu=new WeakMap,Du={})}},J1=function(r,a,s){s===void 0&&(s="data-aria-hidden");var l=Array.from(Array.isArray(r)?r:[r]),f=$1(r);return f?(l.push.apply(l,Array.from(f.querySelectorAll("[aria-live], script"))),X1(l,f,s,"aria-hidden")):function(){return null}};function ew(r){const a=tw(r),s=R.forwardRef((l,f)=>{const{children:d,...m}=l,h=R.Children.toArray(d),x=h.find(rw);if(x){const p=x.props.children,y=h.map(v=>v===x?R.Children.count(p)>1?R.Children.only(null):R.isValidElement(p)?p.props.children:null:v);return F.jsx(a,{...m,ref:f,children:R.isValidElement(p)?R.cloneElement(p,void 0,y):null})}return F.jsx(a,{...m,ref:f,children:d})});return s.displayName=`${r}.Slot`,s}function tw(r){const a=R.forwardRef((s,l)=>{const{children:f,...d}=s;if(R.isValidElement(f)){const m=ow(f),h=iw(d,f.props);return f.type!==R.Fragment&&(h.ref=l?ol(l,m):m),R.cloneElement(f,h)}return R.Children.count(f)>1?R.Children.only(null):null});return a.displayName=`${r}.SlotClone`,a}var nw=Symbol("radix.slottable");function rw(r){return R.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===nw}function iw(r,a){const s={...a};for(const l in a){const f=r[l],d=a[l];/^on[A-Z]/.test(l)?f&&d?s[l]=(...h)=>{const x=d(...h);return f(...h),x}:f&&(s[l]=f):l==="style"?s[l]={...f,...d}:l==="className"&&(s[l]=[f,d].filter(Boolean).join(" "))}return{...r,...s}}function ow(r){var l,f;let a=(l=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:l.get,s=a&&"isReactWarning"in a&&a.isReactWarning;return s?r.ref:(a=(f=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:f.get,s=a&&"isReactWarning"in a&&a.isReactWarning,s?r.props.ref:r.props.ref||r.ref)}var Nc="Dialog",[ng]=sl(Nc),[sw,Fr]=ng(Nc),rg=r=>{const{__scopeDialog:a,children:s,open:l,defaultOpen:f,onOpenChange:d,modal:m=!0}=r,h=R.useRef(null),x=R.useRef(null),[p,y]=Rc({prop:l,defaultProp:f??!1,onChange:d,caller:Nc});return F.jsx(sw,{scope:a,triggerRef:h,contentRef:x,contentId:tl(),titleId:tl(),descriptionId:tl(),open:p,onOpenChange:y,onOpenToggle:R.useCallback(()=>y(v=>!v),[y]),modal:m,children:s})};rg.displayName=Nc;var ig="DialogTrigger",aw=R.forwardRef((r,a)=>{const{__scopeDialog:s,...l}=r,f=Fr(ig,s),d=xr(a,f.triggerRef);return F.jsx(cn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":f.open,"aria-controls":f.contentId,"data-state":f0(f.open),...l,ref:d,onClick:sn(r.onClick,f.onOpenToggle)})});aw.displayName=ig;var c0="DialogPortal",[lw,og]=ng(c0,{forceMount:void 0}),sg=r=>{const{__scopeDialog:a,forceMount:s,children:l,container:f}=r,d=Fr(c0,a);return F.jsx(lw,{scope:a,forceMount:s,children:R.Children.map(l,m=>F.jsx(qs,{present:s||d.open,children:F.jsx(qA,{asChild:!0,container:f,children:m})}))})};sg.displayName=c0;var kc="DialogOverlay",ag=R.forwardRef((r,a)=>{const s=og(kc,r.__scopeDialog),{forceMount:l=s.forceMount,...f}=r,d=Fr(kc,r.__scopeDialog);return d.modal?F.jsx(qs,{present:l||d.open,children:F.jsx(cw,{...f,ref:a})}):null});ag.displayName=kc;var uw=ew("DialogOverlay.RemoveScroll"),cw=R.forwardRef((r,a)=>{const{__scopeDialog:s,...l}=r,f=Fr(kc,s);return F.jsx(eg,{as:uw,allowPinchZoom:!0,shards:[f.contentRef],children:F.jsx(cn.div,{"data-state":f0(f.open),...l,ref:a,style:{pointerEvents:"auto",...l.style}})})}),Uo="DialogContent",lg=R.forwardRef((r,a)=>{const s=og(Uo,r.__scopeDialog),{forceMount:l=s.forceMount,...f}=r,d=Fr(Uo,r.__scopeDialog);return F.jsx(qs,{present:l||d.open,children:d.modal?F.jsx(dw,{...f,ref:a}):F.jsx(fw,{...f,ref:a})})});lg.displayName=Uo;var dw=R.forwardRef((r,a)=>{const s=Fr(Uo,r.__scopeDialog),l=R.useRef(null),f=xr(a,s.contentRef,l);return R.useEffect(()=>{const d=l.current;if(d)return J1(d)},[]),F.jsx(ug,{...r,ref:f,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:sn(r.onCloseAutoFocus,d=>{var m;d.preventDefault(),(m=s.triggerRef.current)==null||m.focus()}),onPointerDownOutside:sn(r.onPointerDownOutside,d=>{const m=d.detail.originalEvent,h=m.button===0&&m.ctrlKey===!0;(m.button===2||h)&&d.preventDefault()}),onFocusOutside:sn(r.onFocusOutside,d=>d.preventDefault())})}),fw=R.forwardRef((r,a)=>{const s=Fr(Uo,r.__scopeDialog),l=R.useRef(!1),f=R.useRef(!1);return F.jsx(ug,{...r,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:d=>{var m,h;(m=r.onCloseAutoFocus)==null||m.call(r,d),d.defaultPrevented||(l.current||(h=s.triggerRef.current)==null||h.focus(),d.preventDefault()),l.current=!1,f.current=!1},onInteractOutside:d=>{var x,p;(x=r.onInteractOutside)==null||x.call(r,d),d.defaultPrevented||(l.current=!0,d.detail.originalEvent.type==="pointerdown"&&(f.current=!0));const m=d.target;((p=s.triggerRef.current)==null?void 0:p.contains(m))&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&f.current&&d.preventDefault()}})}),ug=R.forwardRef((r,a)=>{const{__scopeDialog:s,trapFocus:l,onOpenAutoFocus:f,onCloseAutoFocus:d,...m}=r,h=Fr(Uo,s),x=R.useRef(null),p=xr(a,x);return h1(),F.jsxs(F.Fragment,{children:[F.jsx(ZA,{asChild:!0,loop:!0,trapped:l,onMountAutoFocus:f,onUnmountAutoFocus:d,children:F.jsx(VA,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":f0(h.open),...m,ref:p,onDismiss:()=>h.onOpenChange(!1)})}),F.jsxs(F.Fragment,{children:[F.jsx(hw,{titleId:h.titleId}),F.jsx(mw,{contentRef:x,descriptionId:h.descriptionId})]})]})}),d0="DialogTitle",cg=R.forwardRef((r,a)=>{const{__scopeDialog:s,...l}=r,f=Fr(d0,s);return F.jsx(cn.h2,{id:f.titleId,...l,ref:a})});cg.displayName=d0;var dg="DialogDescription",fg=R.forwardRef((r,a)=>{const{__scopeDialog:s,...l}=r,f=Fr(dg,s);return F.jsx(cn.p,{id:f.descriptionId,...l,ref:a})});fg.displayName=dg;var hg="DialogClose",pg=R.forwardRef((r,a)=>{const{__scopeDialog:s,...l}=r,f=Fr(hg,s);return F.jsx(cn.button,{type:"button",...l,ref:a,onClick:sn(r.onClick,()=>f.onOpenChange(!1))})});pg.displayName=hg;function f0(r){return r?"open":"closed"}var mg="DialogTitleWarning",[rE,Ag]=F_(mg,{contentName:Uo,titleName:d0,docsSlug:"dialog"}),hw=({titleId:r})=>{const a=Ag(mg),s=`\`${a.contentName}\` requires a \`${a.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${a.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${a.docsSlug}`;return R.useEffect(()=>{r&&(document.getElementById(r)||console.error(s))},[s,r]),null},pw="DialogDescriptionWarning",mw=({contentRef:r,descriptionId:a})=>{const l=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ag(pw).contentName}}.`;return R.useEffect(()=>{var d;const f=(d=r.current)==null?void 0:d.getAttribute("aria-describedby");a&&f&&(document.getElementById(a)||console.warn(l))},[l,r,a]),null},gg=rg,xg=sg,Lc=ag,Mc=lg,Ic=cg,Oc=fg,vg=pg;const h0=gg,Aw=xg,yg=R.forwardRef(({className:r,...a},s)=>F.jsx(Lc,{ref:s,className:lt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...a}));yg.displayName=Lc.displayName;const zc=R.forwardRef(({className:r,children:a,...s},l)=>F.jsxs(Aw,{children:[F.jsx(yg,{}),F.jsxs(Mc,{ref:l,className:lt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...s,children:[a,F.jsxs(vg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[F.jsx(CA,{className:"h-4 w-4"}),F.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zc.displayName=Mc.displayName;const jc=({className:r,...a})=>F.jsx("div",{className:lt("flex flex-col space-y-1.5 text-center sm:text-left",r),...a});jc.displayName="DialogHeader";const p0=({className:r,...a})=>F.jsx("div",{className:lt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r),...a});p0.displayName="DialogFooter";const Hc=R.forwardRef(({className:r,...a},s)=>F.jsx(Ic,{ref:s,className:lt("text-lg font-semibold leading-none tracking-tight",r),...a}));Hc.displayName=Ic.displayName;const gw=R.forwardRef(({className:r,...a},s)=>F.jsx(Oc,{ref:s,className:lt("text-sm text-muted-foreground",r),...a}));gw.displayName=Oc.displayName;function Gp(r){const a=xw(r),s=R.forwardRef((l,f)=>{const{children:d,...m}=l,h=R.Children.toArray(d),x=h.find(yw);if(x){const p=x.props.children,y=h.map(v=>v===x?R.Children.count(p)>1?R.Children.only(null):R.isValidElement(p)?p.props.children:null:v);return F.jsx(a,{...m,ref:f,children:R.isValidElement(p)?R.cloneElement(p,void 0,y):null})}return F.jsx(a,{...m,ref:f,children:d})});return s.displayName=`${r}.Slot`,s}function xw(r){const a=R.forwardRef((s,l)=>{const{children:f,...d}=s;if(R.isValidElement(f)){const m=ww(f),h=_w(d,f.props);return f.type!==R.Fragment&&(h.ref=l?ol(l,m):m),R.cloneElement(f,h)}return R.Children.count(f)>1?R.Children.only(null):null});return a.displayName=`${r}.SlotClone`,a}var vw=Symbol("radix.slottable");function yw(r){return R.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===vw}function _w(r,a){const s={...a};for(const l in a){const f=r[l],d=a[l];/^on[A-Z]/.test(l)?f&&d?s[l]=(...h)=>{const x=d(...h);return f(...h),x}:f&&(s[l]=f):l==="style"?s[l]={...f,...d}:l==="className"&&(s[l]=[f,d].filter(Boolean).join(" "))}return{...r,...s}}function ww(r){var l,f;let a=(l=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:l.get,s=a&&"isReactWarning"in a&&a.isReactWarning;return s?r.ref:(a=(f=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:f.get,s=a&&"isReactWarning"in a&&a.isReactWarning,s?r.props.ref:r.props.ref||r.ref)}function bw(r){const a=r+"CollectionProvider",[s,l]=sl(a),[f,d]=s(a,{collectionRef:{current:null},itemMap:new Map}),m=C=>{const{scope:E,children:P}=C,B=be.useRef(null),k=be.useRef(new Map).current;return F.jsx(f,{scope:E,itemMap:k,collectionRef:B,children:P})};m.displayName=a;const h=r+"CollectionSlot",x=Gp(h),p=be.forwardRef((C,E)=>{const{scope:P,children:B}=C,k=d(h,P),I=xr(E,k.collectionRef);return F.jsx(x,{ref:I,children:B})});p.displayName=h;const y=r+"CollectionItemSlot",v="data-radix-collection-item",w=Gp(y),S=be.forwardRef((C,E)=>{const{scope:P,children:B,...k}=C,I=be.useRef(null),N=xr(E,I),z=d(y,P);return be.useEffect(()=>(z.itemMap.set(I,{ref:I,...k}),()=>void z.itemMap.delete(I))),F.jsx(w,{[v]:"",ref:N,children:B})});S.displayName=y;function T(C){const E=d(r+"CollectionConsumer",C);return be.useCallback(()=>{const B=E.collectionRef.current;if(!B)return[];const k=Array.from(B.querySelectorAll(`[${v}]`));return Array.from(E.itemMap.values()).sort((z,j)=>k.indexOf(z.ref.current)-k.indexOf(j.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:m,Slot:p,ItemSlot:S},T,l]}var Cw=R.createContext(void 0);function _g(r){const a=R.useContext(Cw);return r||a||"ltr"}var Mf="rovingFocusGroup.onEntryFocus",Ew={bubbles:!1,cancelable:!0},al="RovingFocusGroup",[Qf,wg,kw]=bw(al),[Sw,bg]=sl(al,[kw]),[Bw,Pw]=Sw(al),Cg=R.forwardRef((r,a)=>F.jsx(Qf.Provider,{scope:r.__scopeRovingFocusGroup,children:F.jsx(Qf.Slot,{scope:r.__scopeRovingFocusGroup,children:F.jsx(Tw,{...r,ref:a})})}));Cg.displayName=al;var Tw=R.forwardRef((r,a)=>{const{__scopeRovingFocusGroup:s,orientation:l,loop:f=!1,dir:d,currentTabStopId:m,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:x,onEntryFocus:p,preventScrollOnEntryFocus:y=!1,...v}=r,w=R.useRef(null),S=xr(a,w),T=_g(d),[C,E]=Rc({prop:m,defaultProp:h??null,onChange:x,caller:al}),[P,B]=R.useState(!1),k=Vs(p),I=wg(s),N=R.useRef(!1),[z,j]=R.useState(0);return R.useEffect(()=>{const H=w.current;if(H)return H.addEventListener(Mf,k),()=>H.removeEventListener(Mf,k)},[k]),F.jsx(Bw,{scope:s,orientation:l,dir:T,loop:f,currentTabStopId:C,onItemFocus:R.useCallback(H=>E(H),[E]),onItemShiftTab:R.useCallback(()=>B(!0),[]),onFocusableItemAdd:R.useCallback(()=>j(H=>H+1),[]),onFocusableItemRemove:R.useCallback(()=>j(H=>H-1),[]),children:F.jsx(cn.div,{tabIndex:P||z===0?-1:0,"data-orientation":l,...v,ref:S,style:{outline:"none",...r.style},onMouseDown:sn(r.onMouseDown,()=>{N.current=!0}),onFocus:sn(r.onFocus,H=>{const K=!N.current;if(H.target===H.currentTarget&&K&&!P){const U=new CustomEvent(Mf,Ew);if(H.currentTarget.dispatchEvent(U),!U.defaultPrevented){const G=I().filter(oe=>oe.focusable),re=G.find(oe=>oe.active),V=G.find(oe=>oe.id===C),le=[re,V,...G].filter(Boolean).map(oe=>oe.ref.current);Sg(le,y)}}N.current=!1}),onBlur:sn(r.onBlur,()=>B(!1))})})}),Eg="RovingFocusGroupItem",kg=R.forwardRef((r,a)=>{const{__scopeRovingFocusGroup:s,focusable:l=!0,active:f=!1,tabStopId:d,children:m,...h}=r,x=tl(),p=d||x,y=Pw(Eg,s),v=y.currentTabStopId===p,w=wg(s),{onFocusableItemAdd:S,onFocusableItemRemove:T,currentTabStopId:C}=y;return R.useEffect(()=>{if(l)return S(),()=>T()},[l,S,T]),F.jsx(Qf.ItemSlot,{scope:s,id:p,focusable:l,active:f,children:F.jsx(cn.span,{tabIndex:v?0:-1,"data-orientation":y.orientation,...h,ref:a,onMouseDown:sn(r.onMouseDown,E=>{l?y.onItemFocus(p):E.preventDefault()}),onFocus:sn(r.onFocus,()=>y.onItemFocus(p)),onKeyDown:sn(r.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){y.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const P=Fw(E,y.orientation,y.dir);if(P!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let k=w().filter(I=>I.focusable).map(I=>I.ref.current);if(P==="last")k.reverse();else if(P==="prev"||P==="next"){P==="prev"&&k.reverse();const I=k.indexOf(E.currentTarget);k=y.loop?Nw(k,I+1):k.slice(I+1)}setTimeout(()=>Sg(k))}}),children:typeof m=="function"?m({isCurrentTabStop:v,hasTabStop:C!=null}):m})})});kg.displayName=Eg;var Dw={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Rw(r,a){return a!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function Fw(r,a,s){const l=Rw(r.key,s);if(!(a==="vertical"&&["ArrowLeft","ArrowRight"].includes(l))&&!(a==="horizontal"&&["ArrowUp","ArrowDown"].includes(l)))return Dw[l]}function Sg(r,a=!1){const s=document.activeElement;for(const l of r)if(l===s||(l.focus({preventScroll:a}),document.activeElement!==s))return}function Nw(r,a){return r.map((s,l)=>r[(a+l)%r.length])}var Lw=Cg,Mw=kg,Vc="Tabs",[Iw]=sl(Vc,[bg]),Bg=bg(),[Ow,m0]=Iw(Vc),Pg=R.forwardRef((r,a)=>{const{__scopeTabs:s,value:l,onValueChange:f,defaultValue:d,orientation:m="horizontal",dir:h,activationMode:x="automatic",...p}=r,y=_g(h),[v,w]=Rc({prop:l,onChange:f,defaultProp:d??"",caller:Vc});return F.jsx(Ow,{scope:s,baseId:tl(),value:v,onValueChange:w,orientation:m,dir:y,activationMode:x,children:F.jsx(cn.div,{dir:y,"data-orientation":m,...p,ref:a})})});Pg.displayName=Vc;var Tg="TabsList",Dg=R.forwardRef((r,a)=>{const{__scopeTabs:s,loop:l=!0,...f}=r,d=m0(Tg,s),m=Bg(s);return F.jsx(Lw,{asChild:!0,...m,orientation:d.orientation,dir:d.dir,loop:l,children:F.jsx(cn.div,{role:"tablist","aria-orientation":d.orientation,...f,ref:a})})});Dg.displayName=Tg;var Rg="TabsTrigger",Fg=R.forwardRef((r,a)=>{const{__scopeTabs:s,value:l,disabled:f=!1,...d}=r,m=m0(Rg,s),h=Bg(s),x=Mg(m.baseId,l),p=Ig(m.baseId,l),y=l===m.value;return F.jsx(Mw,{asChild:!0,...h,focusable:!f,active:y,children:F.jsx(cn.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":p,"data-state":y?"active":"inactive","data-disabled":f?"":void 0,disabled:f,id:x,...d,ref:a,onMouseDown:sn(r.onMouseDown,v=>{!f&&v.button===0&&v.ctrlKey===!1?m.onValueChange(l):v.preventDefault()}),onKeyDown:sn(r.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&m.onValueChange(l)}),onFocus:sn(r.onFocus,()=>{const v=m.activationMode!=="manual";!y&&!f&&v&&m.onValueChange(l)})})})});Fg.displayName=Rg;var Ng="TabsContent",Lg=R.forwardRef((r,a)=>{const{__scopeTabs:s,value:l,forceMount:f,children:d,...m}=r,h=m0(Ng,s),x=Mg(h.baseId,l),p=Ig(h.baseId,l),y=l===h.value,v=R.useRef(y);return R.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),F.jsx(qs,{present:f||y,children:({present:w})=>F.jsx(cn.div,{"data-state":y?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":x,hidden:!w,id:p,tabIndex:0,...m,ref:a,style:{...r.style,animationDuration:v.current?"0s":void 0},children:w&&d})})});Lg.displayName=Ng;function Mg(r,a){return`${r}-trigger-${a}`}function Ig(r,a){return`${r}-content-${a}`}var zw=Pg,Og=Dg,zg=Fg,jg=Lg;const jw=zw,Hg=R.forwardRef(({className:r,...a},s)=>F.jsx(Og,{ref:s,className:lt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...a}));Hg.displayName=Og.displayName;const Ya=R.forwardRef(({className:r,...a},s)=>F.jsx(zg,{ref:s,className:lt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...a}));Ya.displayName=zg.displayName;const Xa=R.forwardRef(({className:r,...a},s)=>F.jsx(jg,{ref:s,className:lt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...a}));Xa.displayName=jg.displayName;var Hw=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vw=Hw.reduce((r,a)=>{const s=u0(`Primitive.${a}`),l=R.forwardRef((f,d)=>{const{asChild:m,...h}=f,x=m?s:a;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),F.jsx(x,{...h,ref:d})});return l.displayName=`Primitive.${a}`,{...r,[a]:l}},{}),Uw="Label",Vg=R.forwardRef((r,a)=>F.jsx(Vw.label,{...r,ref:a,onMouseDown:s=>{var f;s.target.closest("button, input, select, textarea")||((f=r.onMouseDown)==null||f.call(r,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Vg.displayName=Uw;var Ug=Vg;const Zw=Dc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Vt=R.forwardRef(({className:r,...a},s)=>F.jsx(Ug,{ref:s,className:lt(Zw(),r),...a}));Vt.displayName=Ug.displayName;function Ww(r){const a=R.useRef({value:r,previous:r});return R.useMemo(()=>(a.current.value!==r&&(a.current.previous=a.current.value,a.current.value=r),a.current.previous),[r])}function qw(r){const[a,s]=R.useState(void 0);return Hs(()=>{if(r){s({width:r.offsetWidth,height:r.offsetHeight});const l=new ResizeObserver(f=>{if(!Array.isArray(f)||!f.length)return;const d=f[0];let m,h;if("borderBoxSize"in d){const x=d.borderBoxSize,p=Array.isArray(x)?x[0]:x;m=p.inlineSize,h=p.blockSize}else m=r.offsetWidth,h=r.offsetHeight;s({width:m,height:h})});return l.observe(r,{box:"border-box"}),()=>l.unobserve(r)}else s(void 0)},[r]),a}var Uc="Checkbox",[Gw]=sl(Uc),[Qw,A0]=Gw(Uc);function Kw(r){const{__scopeCheckbox:a,checked:s,children:l,defaultChecked:f,disabled:d,form:m,name:h,onCheckedChange:x,required:p,value:y="on",internal_do_not_use_render:v}=r,[w,S]=Rc({prop:s,defaultProp:f??!1,onChange:x,caller:Uc}),[T,C]=R.useState(null),[E,P]=R.useState(null),B=R.useRef(!1),k=T?!!m||!!T.closest("form"):!0,I={checked:w,disabled:d,setChecked:S,control:T,setControl:C,name:h,form:m,value:y,hasConsumerStoppedPropagationRef:B,required:p,defaultChecked:io(f)?!1:f,isFormControl:k,bubbleInput:E,setBubbleInput:P};return F.jsx(Qw,{scope:a,...I,children:$w(v)?v(I):l})}var Zg="CheckboxTrigger",Wg=R.forwardRef(({__scopeCheckbox:r,onKeyDown:a,onClick:s,...l},f)=>{const{control:d,value:m,disabled:h,checked:x,required:p,setControl:y,setChecked:v,hasConsumerStoppedPropagationRef:w,isFormControl:S,bubbleInput:T}=A0(Zg,r),C=xr(f,y),E=R.useRef(x);return R.useEffect(()=>{const P=d==null?void 0:d.form;if(P){const B=()=>v(E.current);return P.addEventListener("reset",B),()=>P.removeEventListener("reset",B)}},[d,v]),F.jsx(cn.button,{type:"button",role:"checkbox","aria-checked":io(x)?"mixed":x,"aria-required":p,"data-state":$g(x),"data-disabled":h?"":void 0,disabled:h,value:m,...l,ref:C,onKeyDown:sn(a,P=>{P.key==="Enter"&&P.preventDefault()}),onClick:sn(s,P=>{v(B=>io(B)?!0:!B),T&&S&&(w.current=P.isPropagationStopped(),w.current||P.stopPropagation())})})});Wg.displayName=Zg;var g0=R.forwardRef((r,a)=>{const{__scopeCheckbox:s,name:l,checked:f,defaultChecked:d,required:m,disabled:h,value:x,onCheckedChange:p,form:y,...v}=r;return F.jsx(Kw,{__scopeCheckbox:s,checked:f,defaultChecked:d,disabled:h,required:m,onCheckedChange:p,name:l,form:y,value:x,internal_do_not_use_render:({isFormControl:w})=>F.jsxs(F.Fragment,{children:[F.jsx(Wg,{...v,ref:a,__scopeCheckbox:s}),w&&F.jsx(Kg,{__scopeCheckbox:s})]})})});g0.displayName=Uc;var qg="CheckboxIndicator",Gg=R.forwardRef((r,a)=>{const{__scopeCheckbox:s,forceMount:l,...f}=r,d=A0(qg,s);return F.jsx(qs,{present:l||io(d.checked)||d.checked===!0,children:F.jsx(cn.span,{"data-state":$g(d.checked),"data-disabled":d.disabled?"":void 0,...f,ref:a,style:{pointerEvents:"none",...r.style}})})});Gg.displayName=qg;var Qg="CheckboxBubbleInput",Kg=R.forwardRef(({__scopeCheckbox:r,...a},s)=>{const{control:l,hasConsumerStoppedPropagationRef:f,checked:d,defaultChecked:m,required:h,disabled:x,name:p,value:y,form:v,bubbleInput:w,setBubbleInput:S}=A0(Qg,r),T=xr(s,S),C=Ww(d),E=qw(l);R.useEffect(()=>{const B=w;if(!B)return;const k=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(k,"checked").set,z=!f.current;if(C!==d&&N){const j=new Event("click",{bubbles:z});B.indeterminate=io(d),N.call(B,io(d)?!1:d),B.dispatchEvent(j)}},[w,C,d,f]);const P=R.useRef(io(d)?!1:d);return F.jsx(cn.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??P.current,required:h,disabled:x,name:p,value:y,form:v,...a,tabIndex:-1,ref:T,style:{...a.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Kg.displayName=Qg;function $w(r){return typeof r=="function"}function io(r){return r==="indeterminate"}function $g(r){return io(r)?"indeterminate":r?"checked":"unchecked"}const Yg=R.forwardRef(({className:r,...a},s)=>F.jsx(g0,{ref:s,className:lt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...a,children:F.jsx(Gg,{className:lt("flex items-center justify-center text-current"),children:F.jsx(my,{className:"h-4 w-4"})})}));Yg.displayName=g0.displayName;function Yw({open:r,contacts:a,undecryptedCount:s,onClose:l,onSelectConversation:f,onCreateContact:d,onCreateChannel:m,onCreateHashtagChannel:h}){const[x,p]=R.useState("existing"),[y,v]=R.useState(""),[w,S]=R.useState(""),[T,C]=R.useState(!1),[E,P]=R.useState(""),[B,k]=R.useState(!1),I=R.useRef(null),N=async()=>{P(""),k(!0);try{if(x==="new-contact"){if(!y.trim()||!w.trim()){P("Name and public key are required");return}await d(y.trim(),w.trim(),T),f({type:"contact",id:w.trim(),name:y.trim()})}else if(x==="new-room"){if(!y.trim()||!w.trim()){P("Room name and key are required");return}await m(y.trim(),w.trim(),T)}else if(x==="hashtag"){const K=y.trim(),U=z(K);if(U){P(U);return}await h(`#${K}`,T)}l()}catch(K){P(K instanceof Error?K.message:"Failed to create")}finally{k(!1)}},z=K=>K?/^[a-zA-Z0-9]+(-[a-zA-Z0-9]+)*$/.test(K)?null:"Use letters, numbers, and single dashes (no leading/trailing dashes)":"Channel name is required",j=async()=>{var G;P("");const K=y.trim(),U=z(K);if(U){P(U);return}k(!0);try{await h(`#${K}`,T),v(""),(G=I.current)==null||G.focus()}catch(re){P(re instanceof Error?re.message:"Failed to create")}finally{k(!1)}},H=x!=="existing"&&s>0;return F.jsx(h0,{open:r,onOpenChange:K=>!K&&l(),children:F.jsxs(zc,{className:"sm:max-w-[500px]",children:[F.jsx(jc,{children:F.jsx(Hc,{children:"New Conversation"})}),F.jsxs(jw,{value:x,onValueChange:K=>p(K),className:"w-full",children:[F.jsxs(Hg,{className:"grid w-full grid-cols-4",children:[F.jsx(Ya,{value:"existing",children:"Existing"}),F.jsx(Ya,{value:"new-contact",children:"Contact"}),F.jsx(Ya,{value:"new-room",children:"Room"}),F.jsx(Ya,{value:"hashtag",children:"Hashtag"})]}),F.jsx(Xa,{value:"existing",className:"mt-4",children:F.jsx("div",{className:"max-h-[300px] overflow-y-auto rounded-md border",children:a.length===0?F.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No contacts available"}):a.map(K=>F.jsx("div",{className:"cursor-pointer px-4 py-2 hover:bg-accent",onClick:()=>{f({type:"contact",id:K.public_key,name:Vo(K.name,K.public_key)}),l()},children:Vo(K.name,K.public_key)},K.public_key))})}),F.jsxs(Xa,{value:"new-contact",className:"mt-4 space-y-4",children:[F.jsxs("div",{className:"space-y-2",children:[F.jsx(Vt,{htmlFor:"contact-name",children:"Name"}),F.jsx(Kt,{id:"contact-name",value:y,onChange:K=>v(K.target.value),placeholder:"Contact name"})]}),F.jsxs("div",{className:"space-y-2",children:[F.jsx(Vt,{htmlFor:"contact-key",children:"Public Key"}),F.jsx(Kt,{id:"contact-key",value:w,onChange:K=>S(K.target.value),placeholder:"64-character hex public key"})]})]}),F.jsxs(Xa,{value:"new-room",className:"mt-4 space-y-4",children:[F.jsxs("div",{className:"space-y-2",children:[F.jsx(Vt,{htmlFor:"room-name",children:"Room Name"}),F.jsx(Kt,{id:"room-name",value:y,onChange:K=>v(K.target.value),placeholder:"Room name"})]}),F.jsxs("div",{className:"space-y-2",children:[F.jsx(Vt,{htmlFor:"room-key",children:"Room Key"}),F.jsx(Kt,{id:"room-key",value:w,onChange:K=>S(K.target.value),placeholder:"Pre-shared key (hex)"})]})]}),F.jsx(Xa,{value:"hashtag",className:"mt-4",children:F.jsxs("div",{className:"space-y-2",children:[F.jsx(Vt,{htmlFor:"hashtag-name",children:"Hashtag Channel"}),F.jsxs("div",{className:"flex items-center gap-1",children:[F.jsx("span",{className:"text-sm text-muted-foreground",children:"#"}),F.jsx(Kt,{ref:I,id:"hashtag-name",value:y,onChange:K=>v(K.target.value),placeholder:"channel-name",className:"flex-1"})]})]})})]}),H&&F.jsxs("div",{className:"space-y-1",children:[F.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[F.jsxs(Vt,{htmlFor:"try-historical",className:"text-sm text-muted-foreground cursor-pointer",children:["Try decrypting ",s.toLocaleString()," stored packet",s!==1?"s":""]}),F.jsx(Yg,{id:"try-historical",checked:T,onCheckedChange:K=>C(K===!0)})]}),T&&F.jsx("p",{className:"text-xs text-muted-foreground text-right",children:"Messages will stream in as they decrypt in the background"})]}),E&&F.jsx("div",{className:"text-sm text-destructive",children:E}),F.jsxs(p0,{children:[F.jsx(gr,{variant:"outline",onClick:l,children:"Cancel"}),x==="hashtag"&&F.jsx(gr,{variant:"secondary",onClick:j,disabled:B,children:B?"Creating...":"Create & Add Another"}),x!=="existing"&&F.jsx(gr,{onClick:N,disabled:B,children:B?"Creating...":"Create"})]})]})})}var Xw=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Jw=Xw.reduce((r,a)=>{const s=u0(`Primitive.${a}`),l=R.forwardRef((f,d)=>{const{asChild:m,...h}=f,x=m?s:a;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),F.jsx(x,{...h,ref:d})});return l.displayName=`Primitive.${a}`,{...r,[a]:l}},{}),e2="Separator",Qp="horizontal",t2=["horizontal","vertical"],Xg=R.forwardRef((r,a)=>{const{decorative:s,orientation:l=Qp,...f}=r,d=n2(l)?l:Qp,h=s?{role:"none"}:{"aria-orientation":d==="vertical"?d:void 0,role:"separator"};return F.jsx(Jw.div,{"data-orientation":d,...h,...f,ref:a})});Xg.displayName=e2;function n2(r){return t2.includes(r)}var Jg=Xg;const Mu=R.forwardRef(({className:r,orientation:a="horizontal",decorative:s=!0,...l},f)=>F.jsx(Jg,{ref:f,decorative:s,orientation:a,className:lt("shrink-0 bg-border",a==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r),...l}));Mu.displayName=Jg.displayName;const r2=Dc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",warning:"border-yellow-500/50 bg-yellow-500/10 text-yellow-200 [&>svg]:text-yellow-500"}},defaultVariants:{variant:"default"}}),ex=R.forwardRef(({className:r,variant:a,...s},l)=>F.jsx("div",{ref:l,role:"alert",className:lt(r2({variant:a}),r),...s}));ex.displayName="Alert";const i2=R.forwardRef(({className:r,...a},s)=>F.jsx("h5",{ref:s,className:lt("mb-1 font-medium leading-none tracking-tight",r),...a}));i2.displayName="AlertTitle";const tx=R.forwardRef(({className:r,...a},s)=>F.jsx("div",{ref:s,className:lt("text-sm [&_p]:leading-relaxed",r),...a}));tx.displayName="AlertDescription";function o2({open:r,config:a,appSettings:s,onClose:l,onSave:f,onSaveAppSettings:d,onSetPrivateKey:m,onReboot:h}){const[x,p]=R.useState(""),[y,v]=R.useState(""),[w,S]=R.useState(""),[T,C]=R.useState(""),[E,P]=R.useState(""),[B,k]=R.useState(""),[I,N]=R.useState(""),[z,j]=R.useState(""),[H,K]=R.useState(""),[U,G]=R.useState(""),[re,V]=R.useState(!1),[J,le]=R.useState(!1),[oe,de]=R.useState("");R.useEffect(()=>{a&&(p(a.name),v(String(a.lat)),S(String(a.lon)),C(String(a.tx_power)),P(String(a.radio.freq)),k(String(a.radio.bw)),N(String(a.radio.sf)),j(String(a.radio.cr)))},[a]),R.useEffect(()=>{s&&G(String(s.max_radio_contacts))},[s]);const q=async()=>{de(""),V(!0);try{const D={name:x,lat:parseFloat(y),lon:parseFloat(w),tx_power:parseInt(T,10),radio:{freq:parseFloat(E),bw:parseFloat(B),sf:parseInt(I,10),cr:parseInt(z,10)}};await f(D);const Z=parseInt(U,10);!isNaN(Z)&&Z!==(s==null?void 0:s.max_radio_contacts)&&await d({max_radio_contacts:Z}),l()}catch(D){de(D instanceof Error?D.message:"Failed to save")}finally{V(!1)}},me=async()=>{if(!H.trim()){de("Private key is required");return}de(""),V(!0);try{await m(H.trim()),K(""),l()}catch(D){de(D instanceof Error?D.message:"Failed to set private key")}finally{V(!1)}},ne=async()=>{if(confirm("Are you sure you want to reboot the radio? The connection will drop temporarily.")){de(""),le(!0);try{await h(),l()}catch(D){de(D instanceof Error?D.message:"Failed to reboot radio")}finally{le(!1)}}};return F.jsx(h0,{open:r,onOpenChange:D=>!D&&l(),children:F.jsxs(zc,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[F.jsx(jc,{children:F.jsx(Hc,{children:"Radio Configuration"})}),a?F.jsxs("div",{className:"space-y-4",children:[F.jsxs("div",{className:"space-y-2",children:[F.jsx(Vt,{htmlFor:"public-key",children:"Public Key"}),F.jsx(Kt,{id:"public-key",value:a.public_key,disabled:!0})]}),F.jsxs("div",{className:"space-y-2",children:[F.jsx(Vt,{htmlFor:"name",children:"Name"}),F.jsx(Kt,{id:"name",value:x,onChange:D=>p(D.target.value)})]}),F.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[F.jsxs("div",{className:"space-y-2",children:[F.jsx(Vt,{htmlFor:"lat",children:"Latitude"}),F.jsx(Kt,{id:"lat",type:"number",step:"any",value:y,onChange:D=>v(D.target.value)})]}),F.jsxs("div",{className:"space-y-2",children:[F.jsx(Vt,{htmlFor:"lon",children:"Longitude"}),F.jsx(Kt,{id:"lon",type:"number",step:"any",value:w,onChange:D=>S(D.target.value)})]})]}),F.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[F.jsxs("div",{className:"space-y-2",children:[F.jsx(Vt,{htmlFor:"freq",children:"Frequency (MHz)"}),F.jsx(Kt,{id:"freq",type:"number",step:"any",value:E,onChange:D=>P(D.target.value)})]}),F.jsxs("div",{className:"space-y-2",children:[F.jsx(Vt,{htmlFor:"bw",children:"Bandwidth (kHz)"}),F.jsx(Kt,{id:"bw",type:"number",step:"any",value:B,onChange:D=>k(D.target.value)})]})]}),F.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[F.jsxs("div",{className:"space-y-2",children:[F.jsx(Vt,{htmlFor:"sf",children:"Spreading Factor"}),F.jsx(Kt,{id:"sf",type:"number",min:"7",max:"12",value:I,onChange:D=>N(D.target.value)})]}),F.jsxs("div",{className:"space-y-2",children:[F.jsx(Vt,{htmlFor:"cr",children:"Coding Rate"}),F.jsx(Kt,{id:"cr",type:"number",min:"1",max:"4",value:z,onChange:D=>j(D.target.value)})]})]}),F.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[F.jsxs("div",{className:"space-y-2",children:[F.jsx(Vt,{htmlFor:"tx-power",children:"TX Power (dBm)"}),F.jsx(Kt,{id:"tx-power",type:"number",value:T,onChange:D=>C(D.target.value)})]}),F.jsxs("div",{className:"space-y-2",children:[F.jsx(Vt,{htmlFor:"max-tx",children:"Max TX Power"}),F.jsx(Kt,{id:"max-tx",type:"number",value:a.max_tx_power,disabled:!0})]})]}),F.jsx(Mu,{className:"my-4"}),F.jsxs("div",{className:"space-y-2",children:[F.jsx(Vt,{htmlFor:"max-contacts",children:"Max Contacts on Radio"}),F.jsx(Kt,{id:"max-contacts",type:"number",min:"1",max:"1000",value:U,onChange:D=>G(D.target.value)}),F.jsx("p",{className:"text-xs text-muted-foreground",children:"Recent non-repeater contacts loaded to radio for DM auto-ACK (1-1000)"})]}),F.jsx(Mu,{className:"my-4"}),F.jsxs("div",{className:"space-y-2",children:[F.jsx(Vt,{htmlFor:"private-key",children:"Set Private Key (write-only)"}),F.jsxs("div",{className:"flex gap-2",children:[F.jsx(Kt,{id:"private-key",type:"password",value:H,onChange:D=>K(D.target.value),placeholder:"64-character hex private key",className:"flex-1"}),F.jsx(gr,{onClick:me,disabled:re||!H.trim(),children:"Set"})]})]}),F.jsx(Mu,{className:"my-4"}),F.jsxs("div",{className:"space-y-3",children:[F.jsx(Vt,{children:"Reboot Radio"}),F.jsx(ex,{variant:"warning",children:F.jsx(tx,{children:"Some configuration changes (like name) require a radio reboot to take effect. The connection will temporarily drop and automatically reconnect."})}),F.jsx(gr,{variant:"outline",onClick:ne,disabled:J||re,className:"border-yellow-500/50 text-yellow-200 hover:bg-yellow-500/10",children:J?"Rebooting...":"Reboot Radio"})]}),oe&&F.jsx("div",{className:"text-sm text-destructive",children:oe})]}):F.jsx("div",{className:"py-8 text-center text-muted-foreground",children:"Loading configuration..."}),F.jsxs(p0,{children:[F.jsx(gr,{variant:"outline",onClick:l,children:"Cancel"}),F.jsx(gr,{onClick:q,disabled:re||!a,children:re?"Saving...":"Save Config"})]})]})})}function s2({open:r,health:a,onClose:s,onHealthRefresh:l}){const[f,d]=R.useState("14"),[m,h]=R.useState(!1),[x,p]=R.useState(!1),y=async()=>{const w=parseInt(f,10);if(isNaN(w)||w<1){Lt.error("Invalid retention days",{description:"Retention days must be at least 1"});return}h(!0);try{const S=await at.runMaintenance(w);Lt.success("Database cleanup complete",{description:`Deleted ${S.packets_deleted} old packet${S.packets_deleted===1?"":"s"}`}),await l()}catch(S){console.error("Failed to run maintenance:",S),Lt.error("Database cleanup failed",{description:S instanceof Error?S.message:"Unknown error"})}finally{h(!1)}},v=async()=>{p(!0);try{const w=await at.deduplicatePackets();w.started?Lt.success("Deduplication started",{description:w.message}):Lt.info("Deduplication",{description:w.message})}catch(w){console.error("Failed to start deduplication:",w),Lt.error("Deduplication failed",{description:w instanceof Error?w.message:"Unknown error"})}finally{p(!1)}};return F.jsx(h0,{open:r,onOpenChange:w=>!w&&s(),children:F.jsxs(zc,{className:"sm:max-w-[400px]",children:[F.jsx(jc,{children:F.jsx(Hc,{children:"Database Maintenance"})}),F.jsxs("div",{className:"space-y-4",children:[F.jsxs("p",{className:"text-sm text-muted-foreground",children:["Current database size: ",F.jsxs("span",{className:"font-medium",children:[(a==null?void 0:a.database_size_mb)??"?"," MB"]})]}),F.jsxs("div",{className:"space-y-3",children:[F.jsx(Vt,{children:"Cleanup Old Packets"}),F.jsx("p",{className:"text-xs text-muted-foreground",children:"Delete undecrypted packets older than the specified days. This helps manage storage for packets that couldn't be decrypted (unknown channel keys)."}),F.jsxs("div",{className:"flex gap-2 items-end",children:[F.jsxs("div",{className:"space-y-1",children:[F.jsx(Vt,{htmlFor:"retention-days",className:"text-xs",children:"Days to retain"}),F.jsx(Kt,{id:"retention-days",type:"number",min:"1",max:"365",value:f,onChange:w=>d(w.target.value),className:"w-20"})]}),F.jsx(gr,{variant:"outline",onClick:y,disabled:m,children:m?"Cleaning...":"Cleanup"})]})]}),F.jsxs("div",{className:"space-y-3",children:[F.jsx(Vt,{children:"Remove Duplicate Packets"}),F.jsx("p",{className:"text-xs text-muted-foreground",children:"Remove packets with duplicate payloads (same message received via different paths). Runs in background and may take a long time."}),F.jsx(gr,{variant:"outline",onClick:v,disabled:x,children:x?"Starting...":"Remove Duplicates"})]})]})]})})}function a2(r){return new Date(r*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})}function Kp(r){return r.split("_").map(a=>a.charAt(0)+a.slice(1).toLowerCase()).join(" ")}function l2(r){if(!r.decrypted||!r.decrypted_info)return Kp(r.payload_type);const a=r.decrypted_info;return r.payload_type==="GROUP_TEXT"&&a.channel_name?`GroupText to ${a.channel_name}`:r.payload_type==="TEXT_MESSAGE"&&a.sender?`TextMessage from ${a.sender}`:Kp(r.payload_type)}function u2(r){const a=[];return r.snr!==null&&r.snr!==void 0&&a.push(`SNR: ${r.snr.toFixed(1)} dB`),r.rssi!==null&&r.rssi!==void 0&&a.push(`RSSI: ${r.rssi} dBm`),a.join(" | ")}function c2({packets:r}){const a=R.useRef(null);if(R.useEffect(()=>{a.current&&(a.current.scrollTop=a.current.scrollHeight)},[r]),r.length===0)return F.jsx("div",{className:"h-full overflow-y-auto p-5 text-center text-muted-foreground",children:"No packets received yet. Packets will appear here in real-time."});const s=[...r].sort((l,f)=>l.timestamp-f.timestamp);return F.jsx("div",{className:"h-full overflow-y-auto p-4 flex flex-col gap-3",ref:a,children:s.map(l=>F.jsxs("div",{className:"py-2 px-3 bg-muted rounded",children:[F.jsxs("div",{className:l.decrypted?"text-primary":"text-destructive",children:[!l.decrypted&&F.jsx("span",{className:"mr-1",children:""}),l2(l),"  ",a2(l.timestamp)]}),(l.snr!==null||l.rssi!==null)&&F.jsx("div",{className:"text-[11px] text-muted-foreground mt-0.5",children:u2(l)}),F.jsx("div",{className:"font-mono text-[11px] break-all text-muted-foreground/70 mt-1",children:l.data.toUpperCase()})]},l.id))})}function nx(r,a){const s=R.useRef(a);R.useEffect(function(){a!==s.current&&r.attributionControl!=null&&(s.current!=null&&r.attributionControl.removeAttribution(s.current),a!=null&&r.attributionControl.addAttribution(a)),s.current=a},[r,a])}function d2(r,a,s){a.center!==s.center&&r.setLatLng(a.center),a.radius!=null&&a.radius!==s.radius&&r.setRadius(a.radius)}const f2=1;function h2(r){return Object.freeze({__version:f2,map:r})}function p2(r,a){return Object.freeze({...r,...a})}const rx=R.createContext(null),ix=rx.Provider;function Zc(){const r=R.useContext(rx);if(r==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return r}function m2(r){function a(s,l){const{instance:f,context:d}=r(s).current;return R.useImperativeHandle(l,()=>f),s.children==null?null:be.createElement(ix,{value:d},s.children)}return R.forwardRef(a)}function A2(r){function a(s,l){const[f,d]=R.useState(!1),{instance:m}=r(s,d).current;R.useImperativeHandle(l,()=>m),R.useEffect(function(){f&&m.update()},[m,f,s.children]);const h=m._contentNode;return h?s0.createPortal(s.children,h):null}return R.forwardRef(a)}function g2(r){function a(s,l){const{instance:f}=r(s).current;return R.useImperativeHandle(l,()=>f),null}return R.forwardRef(a)}function x0(r,a){const s=R.useRef();R.useEffect(function(){return a!=null&&r.instance.on(a),s.current=a,function(){s.current!=null&&r.instance.off(s.current),s.current=null}},[r,a])}function Wc(r,a){const s=r.pane??a.pane;return s?{...r,pane:s}:r}function x2(r,a){return function(l,f){const d=Zc(),m=r(Wc(l,d),d);return nx(d.map,l.attribution),x0(m.current,l.eventHandlers),a(m.current,d,l,f),m}}var Ja={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var v2=Ja.exports,$p;function y2(){return $p||($p=1,(function(r,a){(function(s,l){l(a)})(v2,(function(s){var l="1.9.4";function f(t){var i,u,A,b;for(u=1,A=arguments.length;u<A;u++){b=arguments[u];for(i in b)t[i]=b[i]}return t}var d=Object.create||(function(){function t(){}return function(i){return t.prototype=i,new t}})();function m(t,i){var u=Array.prototype.slice;if(t.bind)return t.bind.apply(t,u.call(arguments,1));var A=u.call(arguments,2);return function(){return t.apply(i,A.length?A.concat(u.call(arguments)):arguments)}}var h=0;function x(t){return"_leaflet_id"in t||(t._leaflet_id=++h),t._leaflet_id}function p(t,i,u){var A,b,O,Q;return Q=function(){A=!1,b&&(O.apply(u,b),b=!1)},O=function(){A?b=arguments:(t.apply(u,arguments),setTimeout(Q,i),A=!0)},O}function y(t,i,u){var A=i[1],b=i[0],O=A-b;return t===A&&u?t:((t-b)%O+O)%O+b}function v(){return!1}function w(t,i){if(i===!1)return t;var u=Math.pow(10,i===void 0?6:i);return Math.round(t*u)/u}function S(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function T(t){return S(t).split(/\s+/)}function C(t,i){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?d(t.options):{});for(var u in i)t.options[u]=i[u];return t.options}function E(t,i,u){var A=[];for(var b in t)A.push(encodeURIComponent(u?b.toUpperCase():b)+"="+encodeURIComponent(t[b]));return(!i||i.indexOf("?")===-1?"?":"&")+A.join("&")}var P=/\{ *([\w_ -]+) *\}/g;function B(t,i){return t.replace(P,function(u,A){var b=i[A];if(b===void 0)throw new Error("No value provided for variable "+u);return typeof b=="function"&&(b=b(i)),b})}var k=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function I(t,i){for(var u=0;u<t.length;u++)if(t[u]===i)return u;return-1}var N="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function z(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var j=0;function H(t){var i=+new Date,u=Math.max(0,16-(i-j));return j=i+u,window.setTimeout(t,u)}var K=window.requestAnimationFrame||z("RequestAnimationFrame")||H,U=window.cancelAnimationFrame||z("CancelAnimationFrame")||z("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function G(t,i,u){if(u&&K===H)t.call(i);else return K.call(window,m(t,i))}function re(t){t&&U.call(window,t)}var V={__proto__:null,extend:f,create:d,bind:m,get lastId(){return h},stamp:x,throttle:p,wrapNum:y,falseFn:v,formatNum:w,trim:S,splitWords:T,setOptions:C,getParamString:E,template:B,isArray:k,indexOf:I,emptyImageUrl:N,requestFn:K,cancelFn:U,requestAnimFrame:G,cancelAnimFrame:re};function J(){}J.extend=function(t){var i=function(){C(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=i.__super__=this.prototype,A=d(u);A.constructor=i,i.prototype=A;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(i[b]=this[b]);return t.statics&&f(i,t.statics),t.includes&&(le(t.includes),f.apply(null,[A].concat(t.includes))),f(A,t),delete A.statics,delete A.includes,A.options&&(A.options=u.options?d(u.options):{},f(A.options,t.options)),A._initHooks=[],A.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var O=0,Q=A._initHooks.length;O<Q;O++)A._initHooks[O].call(this)}},i},J.include=function(t){var i=this.prototype.options;return f(this.prototype,t),t.options&&(this.prototype.options=i,this.mergeOptions(t.options)),this},J.mergeOptions=function(t){return f(this.prototype.options,t),this},J.addInitHook=function(t){var i=Array.prototype.slice.call(arguments,1),u=typeof t=="function"?t:function(){this[t].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function le(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=k(t)?t:[t];for(var i=0;i<t.length;i++)t[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var oe={on:function(t,i,u){if(typeof t=="object")for(var A in t)this._on(A,t[A],i);else{t=T(t);for(var b=0,O=t.length;b<O;b++)this._on(t[b],i,u)}return this},off:function(t,i,u){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var A in t)this._off(A,t[A],i);else{t=T(t);for(var b=arguments.length===1,O=0,Q=t.length;O<Q;O++)b?this._off(t[O]):this._off(t[O],i,u)}return this},_on:function(t,i,u,A){if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}if(this._listens(t,i,u)===!1){u===this&&(u=void 0);var b={fn:i,ctx:u};A&&(b.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(b)}},_off:function(t,i,u){var A,b,O;if(this._events&&(A=this._events[t],!!A)){if(arguments.length===1){if(this._firingCount)for(b=0,O=A.length;b<O;b++)A[b].fn=v;delete this._events[t];return}if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}var Q=this._listens(t,i,u);if(Q!==!1){var ie=A[Q];this._firingCount&&(ie.fn=v,this._events[t]=A=A.slice()),A.splice(Q,1)}}},fire:function(t,i,u){if(!this.listens(t,u))return this;var A=f({},i,{type:t,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var b=this._events[t];if(b){this._firingCount=this._firingCount+1||1;for(var O=0,Q=b.length;O<Q;O++){var ie=b[O],ue=ie.fn;ie.once&&this.off(t,ue,ie.ctx),ue.call(ie.ctx||this,A)}this._firingCount--}}return u&&this._propagateEvent(A),this},listens:function(t,i,u,A){typeof t!="string"&&console.warn('"string" type argument expected');var b=i;typeof i!="function"&&(A=!!i,b=void 0,u=void 0);var O=this._events&&this._events[t];if(O&&O.length&&this._listens(t,b,u)!==!1)return!0;if(A){for(var Q in this._eventParents)if(this._eventParents[Q].listens(t,i,u,A))return!0}return!1},_listens:function(t,i,u){if(!this._events)return!1;var A=this._events[t]||[];if(!i)return!!A.length;u===this&&(u=void 0);for(var b=0,O=A.length;b<O;b++)if(A[b].fn===i&&A[b].ctx===u)return b;return!1},once:function(t,i,u){if(typeof t=="object")for(var A in t)this._on(A,t[A],i,!0);else{t=T(t);for(var b=0,O=t.length;b<O;b++)this._on(t[b],i,u,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[x(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[x(t)],this},_propagateEvent:function(t){for(var i in this._eventParents)this._eventParents[i].fire(t.type,f({layer:t.target,propagatedFrom:t.target},t),!0)}};oe.addEventListener=oe.on,oe.removeEventListener=oe.clearAllEventListeners=oe.off,oe.addOneTimeEventListener=oe.once,oe.fireEvent=oe.fire,oe.hasEventListeners=oe.listens;var de=J.extend(oe);function q(t,i,u){this.x=u?Math.round(t):t,this.y=u?Math.round(i):i}var me=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};q.prototype={clone:function(){return new q(this.x,this.y)},add:function(t){return this.clone()._add(ne(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(ne(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new q(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new q(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=me(this.x),this.y=me(this.y),this},distanceTo:function(t){t=ne(t);var i=t.x-this.x,u=t.y-this.y;return Math.sqrt(i*i+u*u)},equals:function(t){return t=ne(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=ne(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function ne(t,i,u){return t instanceof q?t:k(t)?new q(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new q(t.x,t.y):new q(t,i,u)}function D(t,i){if(t)for(var u=i?[t,i]:t,A=0,b=u.length;A<b;A++)this.extend(u[A])}D.prototype={extend:function(t){var i,u;if(!t)return this;if(t instanceof q||typeof t[0]=="number"||"x"in t)i=u=ne(t);else if(t=Z(t),i=t.min,u=t.max,!i||!u)return this;return!this.min&&!this.max?(this.min=i.clone(),this.max=u.clone()):(this.min.x=Math.min(i.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(i.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(t){return ne((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return ne(this.min.x,this.max.y)},getTopRight:function(){return ne(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var i,u;return typeof t[0]=="number"||t instanceof q?t=ne(t):t=Z(t),t instanceof D?(i=t.min,u=t.max):i=u=t,i.x>=this.min.x&&u.x<=this.max.x&&i.y>=this.min.y&&u.y<=this.max.y},intersects:function(t){t=Z(t);var i=this.min,u=this.max,A=t.min,b=t.max,O=b.x>=i.x&&A.x<=u.x,Q=b.y>=i.y&&A.y<=u.y;return O&&Q},overlaps:function(t){t=Z(t);var i=this.min,u=this.max,A=t.min,b=t.max,O=b.x>i.x&&A.x<u.x,Q=b.y>i.y&&A.y<u.y;return O&&Q},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var i=this.min,u=this.max,A=Math.abs(i.x-u.x)*t,b=Math.abs(i.y-u.y)*t;return Z(ne(i.x-A,i.y-b),ne(u.x+A,u.y+b))},equals:function(t){return t?(t=Z(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function Z(t,i){return!t||t instanceof D?t:new D(t,i)}function $(t,i){if(t)for(var u=i?[t,i]:t,A=0,b=u.length;A<b;A++)this.extend(u[A])}$.prototype={extend:function(t){var i=this._southWest,u=this._northEast,A,b;if(t instanceof fe)A=t,b=t;else if(t instanceof $){if(A=t._southWest,b=t._northEast,!A||!b)return this}else return t?this.extend(he(t)||X(t)):this;return!i&&!u?(this._southWest=new fe(A.lat,A.lng),this._northEast=new fe(b.lat,b.lng)):(i.lat=Math.min(A.lat,i.lat),i.lng=Math.min(A.lng,i.lng),u.lat=Math.max(b.lat,u.lat),u.lng=Math.max(b.lng,u.lng)),this},pad:function(t){var i=this._southWest,u=this._northEast,A=Math.abs(i.lat-u.lat)*t,b=Math.abs(i.lng-u.lng)*t;return new $(new fe(i.lat-A,i.lng-b),new fe(u.lat+A,u.lng+b))},getCenter:function(){return new fe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new fe(this.getNorth(),this.getWest())},getSouthEast:function(){return new fe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof fe||"lat"in t?t=he(t):t=X(t);var i=this._southWest,u=this._northEast,A,b;return t instanceof $?(A=t.getSouthWest(),b=t.getNorthEast()):A=b=t,A.lat>=i.lat&&b.lat<=u.lat&&A.lng>=i.lng&&b.lng<=u.lng},intersects:function(t){t=X(t);var i=this._southWest,u=this._northEast,A=t.getSouthWest(),b=t.getNorthEast(),O=b.lat>=i.lat&&A.lat<=u.lat,Q=b.lng>=i.lng&&A.lng<=u.lng;return O&&Q},overlaps:function(t){t=X(t);var i=this._southWest,u=this._northEast,A=t.getSouthWest(),b=t.getNorthEast(),O=b.lat>i.lat&&A.lat<u.lat,Q=b.lng>i.lng&&A.lng<u.lng;return O&&Q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,i){return t?(t=X(t),this._southWest.equals(t.getSouthWest(),i)&&this._northEast.equals(t.getNorthEast(),i)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function X(t,i){return t instanceof $?t:new $(t,i)}function fe(t,i,u){if(isNaN(t)||isNaN(i))throw new Error("Invalid LatLng object: ("+t+", "+i+")");this.lat=+t,this.lng=+i,u!==void 0&&(this.alt=+u)}fe.prototype={equals:function(t,i){if(!t)return!1;t=he(t);var u=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return u<=(i===void 0?1e-9:i)},toString:function(t){return"LatLng("+w(this.lat,t)+", "+w(this.lng,t)+")"},distanceTo:function(t){return Ae.distance(this,he(t))},wrap:function(){return Ae.wrapLatLng(this)},toBounds:function(t){var i=180*t/40075017,u=i/Math.cos(Math.PI/180*this.lat);return X([this.lat-i,this.lng-u],[this.lat+i,this.lng+u])},clone:function(){return new fe(this.lat,this.lng,this.alt)}};function he(t,i,u){return t instanceof fe?t:k(t)&&typeof t[0]!="object"?t.length===3?new fe(t[0],t[1],t[2]):t.length===2?new fe(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new fe(t.lat,"lng"in t?t.lng:t.lon,t.alt):i===void 0?null:new fe(t,i,u)}var ke={latLngToPoint:function(t,i){var u=this.projection.project(t),A=this.scale(i);return this.transformation._transform(u,A)},pointToLatLng:function(t,i){var u=this.scale(i),A=this.transformation.untransform(t,u);return this.projection.unproject(A)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var i=this.projection.bounds,u=this.scale(t),A=this.transformation.transform(i.min,u),b=this.transformation.transform(i.max,u);return new D(A,b)},infinite:!1,wrapLatLng:function(t){var i=this.wrapLng?y(t.lng,this.wrapLng,!0):t.lng,u=this.wrapLat?y(t.lat,this.wrapLat,!0):t.lat,A=t.alt;return new fe(u,i,A)},wrapLatLngBounds:function(t){var i=t.getCenter(),u=this.wrapLatLng(i),A=i.lat-u.lat,b=i.lng-u.lng;if(A===0&&b===0)return t;var O=t.getSouthWest(),Q=t.getNorthEast(),ie=new fe(O.lat-A,O.lng-b),ue=new fe(Q.lat-A,Q.lng-b);return new $(ie,ue)}},Ae=f({},ke,{wrapLng:[-180,180],R:6371e3,distance:function(t,i){var u=Math.PI/180,A=t.lat*u,b=i.lat*u,O=Math.sin((i.lat-t.lat)*u/2),Q=Math.sin((i.lng-t.lng)*u/2),ie=O*O+Math.cos(A)*Math.cos(b)*Q*Q,ue=2*Math.atan2(Math.sqrt(ie),Math.sqrt(1-ie));return this.R*ue}}),qe=6378137,Ye={R:qe,MAX_LATITUDE:85.0511287798,project:function(t){var i=Math.PI/180,u=this.MAX_LATITUDE,A=Math.max(Math.min(u,t.lat),-u),b=Math.sin(A*i);return new q(this.R*t.lng*i,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(t){var i=180/Math.PI;return new fe((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*i,t.x*i/this.R)},bounds:(function(){var t=qe*Math.PI;return new D([-t,-t],[t,t])})()};function Et(t,i,u,A){if(k(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=i,this._c=u,this._d=A}Et.prototype={transform:function(t,i){return this._transform(t.clone(),i)},_transform:function(t,i){return i=i||1,t.x=i*(this._a*t.x+this._b),t.y=i*(this._c*t.y+this._d),t},untransform:function(t,i){return i=i||1,new q((t.x/i-this._b)/this._a,(t.y/i-this._d)/this._c)}};function ht(t,i,u,A){return new Et(t,i,u,A)}var Se=f({},Ae,{code:"EPSG:3857",projection:Ye,transformation:(function(){var t=.5/(Math.PI*Ye.R);return ht(t,.5,-t,.5)})()}),Ve=f({},Se,{code:"EPSG:900913"});function dt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Mt(t,i){var u="",A,b,O,Q,ie,ue;for(A=0,O=t.length;A<O;A++){for(ie=t[A],b=0,Q=ie.length;b<Q;b++)ue=ie[b],u+=(b?"L":"M")+ue.x+" "+ue.y;u+=i?Pe.svg?"z":"x":""}return u||"M0 0"}var vt=document.documentElement.style,ot="ActiveXObject"in window,Qe=ot&&!document.addEventListener,Xe="msLaunchUri"in navigator&&!("documentMode"in document),et=Wt("webkit"),Oe=Wt("android"),_t=Wt("android 2")||Wt("android 3"),$t=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Un=Oe&&Wt("Google")&&$t<537&&!("AudioNode"in window),It=!!window.opera,Jt=!Xe&&Wt("chrome"),fn=Wt("gecko")&&!et&&!It&&!ot,Sn=!Jt&&Wt("safari"),Ut=Wt("phantom"),St="OTransition"in vt,Zt=navigator.platform.indexOf("Win")===0,Zn=ot&&"transition"in vt,xn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!_t,pe="MozPerspective"in vt,we=!window.L_DISABLE_3D&&(Zn||xn||pe)&&!St&&!Ut,te=typeof orientation<"u"||Wt("mobile"),xe=te&&et,Ee=te&&xn,He=!window.PointerEvent&&window.MSPointerEvent,ze=!!(window.PointerEvent||He),nt="ontouchstart"in window||!!window.TouchEvent,hn=!window.L_NO_TOUCH&&(nt||ze),je=te&&It,pt=te&&fn,kt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Rt=(function(){var t=!1;try{var i=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",v,i),window.removeEventListener("testPassiveEventSupport",v,i)}catch{}return t})(),Fn=(function(){return!!document.createElement("canvas").getContext})(),rt=!!(document.createElementNS&&dt("svg").createSVGRect),wt=!!rt&&(function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Wn=!rt&&(function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&typeof i.adj=="object"}catch{return!1}})(),mt=navigator.platform.indexOf("Mac")===0,Ft=navigator.platform.indexOf("Linux")===0;function Wt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Pe={ie:ot,ielt9:Qe,edge:Xe,webkit:et,android:Oe,android23:_t,androidStock:Un,opera:It,chrome:Jt,gecko:fn,safari:Sn,phantom:Ut,opera12:St,win:Zt,ie3d:Zn,webkit3d:xn,gecko3d:pe,any3d:we,mobile:te,mobileWebkit:xe,mobileWebkit3d:Ee,msPointer:He,pointer:ze,touch:hn,touchNative:nt,mobileOpera:je,mobileGecko:pt,retina:kt,passiveEvents:Rt,canvas:Fn,svg:rt,vml:Wn,inlineSvg:wt,mac:mt,linux:Ft},wi=Pe.msPointer?"MSPointerDown":"pointerdown",Go=Pe.msPointer?"MSPointerMove":"pointermove",ul=Pe.msPointer?"MSPointerUp":"pointerup",cl=Pe.msPointer?"MSPointerCancel":"pointercancel",Gs={touchstart:wi,touchmove:Go,touchend:ul,touchcancel:cl},Nr={touchstart:Ot,touchmove:Qo,touchend:Qo,touchcancel:Qo},Yr={},Qs=!1;function Yc(t,i,u){return i==="touchstart"&&Xc(),Nr[i]?(u=Nr[i].bind(this,u),t.addEventListener(Gs[i],u,!1),u):(console.warn("wrong event specified:",i),v)}function dl(t,i,u){if(!Gs[i]){console.warn("wrong event specified:",i);return}t.removeEventListener(Gs[i],u,!1)}function fl(t){Yr[t.pointerId]=t}function hl(t){Yr[t.pointerId]&&(Yr[t.pointerId]=t)}function Ks(t){delete Yr[t.pointerId]}function Xc(){Qs||(document.addEventListener(wi,fl,!0),document.addEventListener(Go,hl,!0),document.addEventListener(ul,Ks,!0),document.addEventListener(cl,Ks,!0),Qs=!0)}function Qo(t,i){if(i.pointerType!==(i.MSPOINTER_TYPE_MOUSE||"mouse")){i.touches=[];for(var u in Yr)i.touches.push(Yr[u]);i.changedTouches=[i],t(i)}}function Ot(t,i){i.MSPOINTER_TYPE_TOUCH&&i.pointerType===i.MSPOINTER_TYPE_TOUCH&&zt(i),Qo(t,i)}function Jc(t){var i={},u,A;for(A in t)u=t[A],i[A]=u&&u.bind?u.bind(t):u;return t=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var $s=200;function pl(t,i){t.addEventListener("dblclick",i);var u=0,A;function b(O){if(O.detail!==1){A=O.detail;return}if(!(O.pointerType==="mouse"||O.sourceCapabilities&&!O.sourceCapabilities.firesTouchEvents)){var Q=ei(O);if(!(Q.some(function(ue){return ue instanceof HTMLLabelElement&&ue.attributes.for})&&!Q.some(function(ue){return ue instanceof HTMLInputElement||ue instanceof HTMLSelectElement}))){var ie=Date.now();ie-u<=$s?(A++,A===2&&i(Jc(O))):A=1,u=ie}}}return t.addEventListener("click",b),{dblclick:i,simDblclick:b}}function Ko(t,i){t.removeEventListener("dblclick",i.dblclick),t.removeEventListener("click",i.simDblclick)}var Ys=ki(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),bi=ki(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ao=bi==="webkitTransition"||bi==="OTransition"?bi+"End":"transitionend";function qn(t){return typeof t=="string"?document.getElementById(t):t}function lo(t,i){var u=t.style[i]||t.currentStyle&&t.currentStyle[i];if((!u||u==="auto")&&document.defaultView){var A=document.defaultView.getComputedStyle(t,null);u=A?A[i]:null}return u==="auto"?null:u}function Je(t,i,u){var A=document.createElement(t);return A.className=i||"",u&&u.appendChild(A),A}function Tt(t){var i=t.parentNode;i&&i.removeChild(t)}function $o(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Ci(t){var i=t.parentNode;i&&i.lastChild!==t&&i.appendChild(t)}function vr(t){var i=t.parentNode;i&&i.firstChild!==t&&i.insertBefore(t,i.firstChild)}function Ei(t,i){if(t.classList!==void 0)return t.classList.contains(i);var u=Yo(t);return u.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(u)}function $e(t,i){if(t.classList!==void 0)for(var u=T(i),A=0,b=u.length;A<b;A++)t.classList.add(u[A]);else if(!Ei(t,i)){var O=Yo(t);Xs(t,(O?O+" ":"")+i)}}function Bt(t,i){t.classList!==void 0?t.classList.remove(i):Xs(t,S((" "+Yo(t)+" ").replace(" "+i+" "," ")))}function Xs(t,i){t.className.baseVal===void 0?t.className=i:t.className.baseVal=i}function Yo(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function vn(t,i){"opacity"in t.style?t.style.opacity=i:"filter"in t.style&&ml(t,i)}function ml(t,i){var u=!1,A="DXImageTransform.Microsoft.Alpha";try{u=t.filters.item(A)}catch{if(i===1)return}i=Math.round(i*100),u?(u.Enabled=i!==100,u.Opacity=i):t.style.filter+=" progid:"+A+"(opacity="+i+")"}function ki(t){for(var i=document.documentElement.style,u=0;u<t.length;u++)if(t[u]in i)return t[u];return!1}function Gn(t,i,u){var A=i||new q(0,0);t.style[Ys]=(Pe.ie3d?"translate("+A.x+"px,"+A.y+"px)":"translate3d("+A.x+"px,"+A.y+"px,0)")+(u?" scale("+u+")":"")}function qt(t,i){t._leaflet_pos=i,Pe.any3d?Gn(t,i):(t.style.left=i.x+"px",t.style.top=i.y+"px")}function yr(t){return t._leaflet_pos||new q(0,0)}var ft,Si,Xo;if("onselectstart"in document)ft=function(){Ge(window,"selectstart",zt)},Si=function(){bt(window,"selectstart",zt)};else{var Xr=ki(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ft=function(){if(Xr){var t=document.documentElement.style;Xo=t[Xr],t[Xr]="none"}},Si=function(){Xr&&(document.documentElement.style[Xr]=Xo,Xo=void 0)}}function Jo(){Ge(window,"dragstart",zt)}function es(){bt(window,"dragstart",zt)}var uo,co;function Bi(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(Qn(),uo=t,co=t.style.outlineStyle,t.style.outlineStyle="none",Ge(window,"keydown",Qn))}function Qn(){uo&&(uo.style.outlineStyle=co,uo=void 0,co=void 0,bt(window,"keydown",Qn))}function _r(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function or(t){var i=t.getBoundingClientRect();return{x:i.width/t.offsetWidth||1,y:i.height/t.offsetHeight||1,boundingClientRect:i}}var fo={__proto__:null,TRANSFORM:Ys,TRANSITION:bi,TRANSITION_END:ao,get:qn,getStyle:lo,create:Je,remove:Tt,empty:$o,toFront:Ci,toBack:vr,hasClass:Ei,addClass:$e,removeClass:Bt,setClass:Xs,getClass:Yo,setOpacity:vn,testProp:ki,setTransform:Gn,setPosition:qt,getPosition:yr,get disableTextSelection(){return ft},get enableTextSelection(){return Si},disableImageDrag:Jo,enableImageDrag:es,preventOutline:Bi,restoreOutline:Qn,getSizedParentNode:_r,getScale:or};function Ge(t,i,u,A){if(i&&typeof i=="object")for(var b in i)ea(t,b,i[b],u);else{i=T(i);for(var O=0,Q=i.length;O<Q;O++)ea(t,i[O],u,A)}return this}var en="_leaflet_events";function bt(t,i,u,A){if(arguments.length===1)Js(t),delete t[en];else if(i&&typeof i=="object")for(var b in i)ts(t,b,i[b],u);else if(i=T(i),arguments.length===2)Js(t,function(ie){return I(i,ie)!==-1});else for(var O=0,Q=i.length;O<Q;O++)ts(t,i[O],u,A);return this}function Js(t,i){for(var u in t[en]){var A=u.split(/\d/)[0];(!i||i(A))&&ts(t,A,null,null,u)}}var Jr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ea(t,i,u,A){var b=i+x(u)+(A?"_"+x(A):"");if(t[en]&&t[en][b])return this;var O=function(ie){return u.call(A||t,ie||window.event)},Q=O;!Pe.touchNative&&Pe.pointer&&i.indexOf("touch")===0?O=Yc(t,i,O):Pe.touch&&i==="dblclick"?O=pl(t,O):"addEventListener"in t?i==="touchstart"||i==="touchmove"||i==="wheel"||i==="mousewheel"?t.addEventListener(Jr[i]||i,O,Pe.passiveEvents?{passive:!1}:!1):i==="mouseenter"||i==="mouseleave"?(O=function(ie){ie=ie||window.event,mo(t,ie)&&Q(ie)},t.addEventListener(Jr[i],O,!1)):t.addEventListener(i,Q,!1):t.attachEvent("on"+i,O),t[en]=t[en]||{},t[en][b]=O}function ts(t,i,u,A,b){b=b||i+x(u)+(A?"_"+x(A):"");var O=t[en]&&t[en][b];if(!O)return this;!Pe.touchNative&&Pe.pointer&&i.indexOf("touch")===0?dl(t,i,O):Pe.touch&&i==="dblclick"?Ko(t,O):"removeEventListener"in t?t.removeEventListener(Jr[i]||i,O,!1):t.detachEvent("on"+i,O),t[en][b]=null}function sr(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function ns(t){return ea(t,"wheel",sr),this}function ho(t){return Ge(t,"mousedown touchstart dblclick contextmenu",sr),t._leaflet_disable_click=!0,this}function zt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Kn(t){return zt(t),sr(t),this}function ei(t){if(t.composedPath)return t.composedPath();for(var i=[],u=t.target;u;)i.push(u),u=u.parentNode;return i}function po(t,i){if(!i)return new q(t.clientX,t.clientY);var u=or(i),A=u.boundingClientRect;return new q((t.clientX-A.left)/u.x-i.clientLeft,(t.clientY-A.top)/u.y-i.clientTop)}var ed=Pe.linux&&Pe.chrome?window.devicePixelRatio:Pe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Al(t){return Pe.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/ed:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function mo(t,i){var u=i.relatedTarget;if(!u)return!0;try{for(;u&&u!==t;)u=u.parentNode}catch{return!1}return u!==t}var rs={__proto__:null,on:Ge,off:bt,stopPropagation:sr,disableScrollPropagation:ns,disableClickPropagation:ho,preventDefault:zt,stop:Kn,getPropagationPath:ei,getMousePosition:po,getWheelDelta:Al,isExternalTarget:mo,addListener:Ge,removeListener:bt},is=de.extend({run:function(t,i,u,A){this.stop(),this._el=t,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(A||.5,.2),this._startPos=yr(t),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=G(this._animate,this),this._step()},_step:function(t){var i=+new Date-this._startTime,u=this._duration*1e3;i<u?this._runFrame(this._easeOut(i/u),t):(this._runFrame(1),this._complete())},_runFrame:function(t,i){var u=this._startPos.add(this._offset.multiplyBy(t));i&&u._round(),qt(this._el,u),this.fire("step")},_complete:function(){re(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),ut=de.extend({options:{crs:Se,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,i){i=C(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),i.zoom!==void 0&&(this._zoom=this._limitZoom(i.zoom)),i.center&&i.zoom!==void 0&&this.setView(he(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=bi&&Pe.any3d&&!Pe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ge(this._proxy,ao,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,i,u){if(i=i===void 0?this._zoom:this._limitZoom(i),t=this._limitCenter(he(t),i,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=f({animate:u.animate},u.zoom),u.pan=f({animate:u.animate,duration:u.duration},u.pan));var A=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,u.zoom):this._tryAnimatedPan(t,u.pan);if(A)return clearTimeout(this._sizeTimer),this}return this._resetView(t,i,u.pan&&u.pan.noMoveStart),this},setZoom:function(t,i){return this._loaded?this.setView(this.getCenter(),t,{zoom:i}):(this._zoom=t,this)},zoomIn:function(t,i){return t=t||(Pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,i)},zoomOut:function(t,i){return t=t||(Pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,i)},setZoomAround:function(t,i,u){var A=this.getZoomScale(i),b=this.getSize().divideBy(2),O=t instanceof q?t:this.latLngToContainerPoint(t),Q=O.subtract(b).multiplyBy(1-1/A),ie=this.containerPointToLatLng(b.add(Q));return this.setView(ie,i,{zoom:u})},_getBoundsCenterZoom:function(t,i){i=i||{},t=t.getBounds?t.getBounds():X(t);var u=ne(i.paddingTopLeft||i.padding||[0,0]),A=ne(i.paddingBottomRight||i.padding||[0,0]),b=this.getBoundsZoom(t,!1,u.add(A));if(b=typeof i.maxZoom=="number"?Math.min(i.maxZoom,b):b,b===1/0)return{center:t.getCenter(),zoom:b};var O=A.subtract(u).divideBy(2),Q=this.project(t.getSouthWest(),b),ie=this.project(t.getNorthEast(),b),ue=this.unproject(Q.add(ie).divideBy(2).add(O),b);return{center:ue,zoom:b}},fitBounds:function(t,i){if(t=X(t),!t.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(t,i);return this.setView(u.center,u.zoom,i)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,i){return this.setView(t,this._zoom,{pan:i})},panBy:function(t,i){if(t=ne(t).round(),i=i||{},!t.x&&!t.y)return this.fire("moveend");if(i.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new is,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),i.animate!==!1){$e(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,u,i.duration||.25,i.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,i,u){if(u=u||{},u.animate===!1||!Pe.any3d)return this.setView(t,i,u);this._stop();var A=this.project(this.getCenter()),b=this.project(t),O=this.getSize(),Q=this._zoom;t=he(t),i=i===void 0?Q:i;var ie=Math.max(O.x,O.y),ue=ie*this.getZoomScale(Q,i),ge=b.distanceTo(A)||1,Be=1.42,Ue=Be*Be;function tt(yt){var Ui=yt?-1:1,pd=yt?ue:ie,md=ue*ue-ie*ie+Ui*Ue*Ue*ge*ge,ai=2*pd*Ue*ge,li=md/ai,ui=Math.sqrt(li*li+1)-li,xs=ui<1e-9?-18:Math.log(ui);return xs}function tn(yt){return(Math.exp(yt)-Math.exp(-yt))/2}function Yt(yt){return(Math.exp(yt)+Math.exp(-yt))/2}function Tn(yt){return tn(yt)/Yt(yt)}var _n=tt(0);function Hi(yt){return ie*(Yt(_n)/Yt(_n+Be*yt))}function _a(yt){return ie*(Yt(_n)*Tn(_n+Be*yt)-tn(_n))/Ue}function Vr(yt){return 1-Math.pow(1-yt,1.5)}var Il=Date.now(),si=(tt(1)-_n)/Be,cr=u.duration?1e3*u.duration:1e3*si*.8;function Vi(){var yt=(Date.now()-Il)/cr,Ui=Vr(yt)*si;yt<=1?(this._flyToFrame=G(Vi,this),this._move(this.unproject(A.add(b.subtract(A).multiplyBy(_a(Ui)/ge)),Q),this.getScaleZoom(ie/Hi(Ui),Q),{flyTo:!0})):this._move(t,i)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),Vi.call(this),this},flyToBounds:function(t,i){var u=this._getBoundsCenterZoom(t,i);return this.flyTo(u.center,u.zoom,i)},setMaxBounds:function(t){return t=X(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var i=this.options.minZoom;return this.options.minZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var i=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,i){this._enforcingBounds=!0;var u=this.getCenter(),A=this._limitCenter(u,this._zoom,X(t));return u.equals(A)||this.panTo(A,i),this._enforcingBounds=!1,this},panInside:function(t,i){i=i||{};var u=ne(i.paddingTopLeft||i.padding||[0,0]),A=ne(i.paddingBottomRight||i.padding||[0,0]),b=this.project(this.getCenter()),O=this.project(t),Q=this.getPixelBounds(),ie=Z([Q.min.add(u),Q.max.subtract(A)]),ue=ie.getSize();if(!ie.contains(O)){this._enforcingBounds=!0;var ge=O.subtract(ie.getCenter()),Be=ie.extend(O).getSize().subtract(ue);b.x+=ge.x<0?-Be.x:Be.x,b.y+=ge.y<0?-Be.y:Be.y,this.panTo(this.unproject(b),i),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=f({animate:!1,pan:!0},t===!0?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),A=i.divideBy(2).round(),b=u.divideBy(2).round(),O=A.subtract(b);return!O.x&&!O.y?this:(t.animate&&t.pan?this.panBy(O):(t.pan&&this._rawPanBy(O),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=f({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=m(this._handleGeolocationResponse,this),u=m(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,u,t):navigator.geolocation.getCurrentPosition(i,u,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var i=t.code,u=t.message||(i===1?"permission denied":i===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var i=t.coords.latitude,u=t.coords.longitude,A=new fe(i,u),b=A.toBounds(t.coords.accuracy*2),O=this._locateOptions;if(O.setView){var Q=this.getBoundsZoom(b);this.setView(A,O.maxZoom?Math.min(Q,O.maxZoom):Q)}var ie={latlng:A,bounds:b,timestamp:t.timestamp};for(var ue in t.coords)typeof t.coords[ue]=="number"&&(ie[ue]=t.coords[ue]);this.fire("locationfound",ie)}},addHandler:function(t,i){if(!i)return this;var u=this[t]=new i(this);return this._handlers.push(u),this.options[t]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Tt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(re(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)Tt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,i){var u="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),A=Je("div",u,i||this._mapPane);return t&&(this._panes[t]=A),A},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),i=this.unproject(t.getBottomLeft()),u=this.unproject(t.getTopRight());return new $(i,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,i,u){t=X(t),u=ne(u||[0,0]);var A=this.getZoom()||0,b=this.getMinZoom(),O=this.getMaxZoom(),Q=t.getNorthWest(),ie=t.getSouthEast(),ue=this.getSize().subtract(u),ge=Z(this.project(ie,A),this.project(Q,A)).getSize(),Be=Pe.any3d?this.options.zoomSnap:1,Ue=ue.x/ge.x,tt=ue.y/ge.y,tn=i?Math.max(Ue,tt):Math.min(Ue,tt);return A=this.getScaleZoom(tn,A),Be&&(A=Math.round(A/(Be/100))*(Be/100),A=i?Math.ceil(A/Be)*Be:Math.floor(A/Be)*Be),Math.max(b,Math.min(O,A))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new q(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,i){var u=this._getTopLeftPoint(t,i);return new D(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,i){var u=this.options.crs;return i=i===void 0?this._zoom:i,u.scale(t)/u.scale(i)},getScaleZoom:function(t,i){var u=this.options.crs;i=i===void 0?this._zoom:i;var A=u.zoom(t*u.scale(i));return isNaN(A)?1/0:A},project:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.latLngToPoint(he(t),i)},unproject:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.pointToLatLng(ne(t),i)},layerPointToLatLng:function(t){var i=ne(t).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(t){var i=this.project(he(t))._round();return i._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(he(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(X(t))},distance:function(t,i){return this.options.crs.distance(he(t),he(i))},containerPointToLayerPoint:function(t){return ne(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return ne(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var i=this.containerPointToLayerPoint(ne(t));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(he(t)))},mouseEventToContainerPoint:function(t){return po(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var i=this._container=qn(t);if(i){if(i._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ge(i,"scroll",this._onScroll,this),this._containerId=x(i)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Pe.any3d,$e(t,"leaflet-container"+(Pe.touch?" leaflet-touch":"")+(Pe.retina?" leaflet-retina":"")+(Pe.ielt9?" leaflet-oldie":"")+(Pe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=lo(t,"position");i!=="absolute"&&i!=="relative"&&i!=="fixed"&&i!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),qt(this._mapPane,new q(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||($e(t.markerPane,"leaflet-zoom-hide"),$e(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,i,u){qt(this._mapPane,new q(0,0));var A=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var b=this._zoom!==i;this._moveStart(b,u)._move(t,i)._moveEnd(b),this.fire("viewreset"),A&&this.fire("load")},_moveStart:function(t,i){return t&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(t,i,u,A){i===void 0&&(i=this._zoom);var b=this._zoom!==i;return this._zoom=i,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),A?u&&u.pinch&&this.fire("zoom",u):((b||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return re(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){qt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[x(this._container)]=this;var i=t?bt:Ge;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),Pe.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){re(this._resizeRequest),this._resizeRequest=G(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,i){for(var u=[],A,b=i==="mouseout"||i==="mouseover",O=t.target||t.srcElement,Q=!1;O;){if(A=this._targets[x(O)],A&&(i==="click"||i==="preclick")&&this._draggableMoved(A)){Q=!0;break}if(A&&A.listens(i,!0)&&(b&&!mo(O,t)||(u.push(A),b))||O===this._container)break;O=O.parentNode}return!u.length&&!Q&&!b&&this.listens(i,!0)&&(u=[this]),u},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var i=t.target||t.srcElement;if(!(!this._loaded||i._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(i))){var u=t.type;u==="mousedown"&&Bi(i),this._fireDOMEvent(t,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,i,u){if(t.type==="click"){var A=f({},t);A.type="preclick",this._fireDOMEvent(A,A.type,u)}var b=this._findEventTargets(t,i);if(u){for(var O=[],Q=0;Q<u.length;Q++)u[Q].listens(i,!0)&&O.push(u[Q]);b=O.concat(b)}if(b.length){i==="contextmenu"&&zt(t);var ie=b[0],ue={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var ge=ie.getLatLng&&(!ie._radius||ie._radius<=10);ue.containerPoint=ge?this.latLngToContainerPoint(ie.getLatLng()):this.mouseEventToContainerPoint(t),ue.layerPoint=this.containerPointToLayerPoint(ue.containerPoint),ue.latlng=ge?ie.getLatLng():this.layerPointToLatLng(ue.layerPoint)}for(Q=0;Q<b.length;Q++)if(b[Q].fire(i,ue,!0),ue.originalEvent._stopped||b[Q].options.bubblingMouseEvents===!1&&I(this._mouseEvents,i)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,i=this._handlers.length;t<i;t++)this._handlers[t].disable()},whenReady:function(t,i){return this._loaded?t.call(i||this,{target:this}):this.on("load",t,i),this},_getMapPanePos:function(){return yr(this._mapPane)||new q(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,i){var u=t&&i!==void 0?this._getNewPixelOrigin(t,i):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,i){var u=this.getSize()._divideBy(2);return this.project(t,i)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,i,u){var A=this._getNewPixelOrigin(u,i);return this.project(t,i)._subtract(A)},_latLngBoundsToNewLayerBounds:function(t,i,u){var A=this._getNewPixelOrigin(u,i);return Z([this.project(t.getSouthWest(),i)._subtract(A),this.project(t.getNorthWest(),i)._subtract(A),this.project(t.getSouthEast(),i)._subtract(A),this.project(t.getNorthEast(),i)._subtract(A)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,i,u){if(!u)return t;var A=this.project(t,i),b=this.getSize().divideBy(2),O=new D(A.subtract(b),A.add(b)),Q=this._getBoundsOffset(O,u,i);return Math.abs(Q.x)<=1&&Math.abs(Q.y)<=1?t:this.unproject(A.add(Q),i)},_limitOffset:function(t,i){if(!i)return t;var u=this.getPixelBounds(),A=new D(u.min.add(t),u.max.add(t));return t.add(this._getBoundsOffset(A,i))},_getBoundsOffset:function(t,i,u){var A=Z(this.project(i.getNorthEast(),u),this.project(i.getSouthWest(),u)),b=A.min.subtract(t.min),O=A.max.subtract(t.max),Q=this._rebound(b.x,-O.x),ie=this._rebound(b.y,-O.y);return new q(Q,ie)},_rebound:function(t,i){return t+i>0?Math.round(t-i)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(i))},_limitZoom:function(t){var i=this.getMinZoom(),u=this.getMaxZoom(),A=Pe.any3d?this.options.zoomSnap:1;return A&&(t=Math.round(t/A)*A),Math.max(i,Math.min(u,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Bt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,i){var u=this._getCenterOffset(t)._trunc();return(i&&i.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,i),!0)},_createAnimProxy:function(){var t=this._proxy=Je("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(i){var u=Ys,A=this._proxy.style[u];Gn(this._proxy,this.project(i.center,i.zoom),this.getZoomScale(i.zoom,1)),A===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Tt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),i=this.getZoom();Gn(this._proxy,this.project(t,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,i,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var A=this.getZoomScale(i),b=this._getCenterOffset(t)._divideBy(1-1/A);return u.animate!==!0&&!this.getSize().contains(b)?!1:(G(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(t,i,!0)},this),!0)},_animateZoom:function(t,i,u,A){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=i,$e(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:i,noUpdate:A}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Bt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Lr(t,i){return new ut(t,i)}var Bn=J.extend({options:{position:"topright"},initialize:function(t){C(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var i=this._map;return i&&i.removeControl(this),this.options.position=t,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var i=this._container=this.onAdd(t),u=this.getPosition(),A=t._controlCorners[u];return $e(i,"leaflet-control"),u.indexOf("bottom")!==-1?A.insertBefore(i,A.firstChild):A.appendChild(i),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Tt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Mr=function(t){return new Bn(t)};ut.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},i="leaflet-",u=this._controlContainer=Je("div",i+"control-container",this._container);function A(b,O){var Q=i+b+" "+i+O;t[b+O]=Je("div",Q,u)}A("top","left"),A("top","right"),A("bottom","left"),A("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)Tt(this._controlCorners[t]);Tt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ta=Bn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,i,u,A){return u<A?-1:A<u?1:0}},initialize:function(t,i,u){C(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var A in t)this._addLayer(t[A],A);for(A in i)this._addLayer(i[A],A,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Bn.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,i){return this._addLayer(t,i),this._map?this._update():this},addOverlay:function(t,i){return this._addLayer(t,i,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var i=this._getLayer(x(t));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){$e(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?($e(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Bt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Bt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",i=this._container=Je("div",t),u=this.options.collapsed;i.setAttribute("aria-haspopup",!0),ho(i),ns(i);var A=this._section=Je("section",t+"-list");u&&(this._map.on("click",this.collapse,this),Ge(i,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=Je("a",t+"-toggle",i);b.href="#",b.title="Layers",b.setAttribute("role","button"),Ge(b,{keydown:function(O){O.keyCode===13&&this._expandSafely()},click:function(O){zt(O),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=Je("div",t+"-base",A),this._separator=Je("div",t+"-separator",A),this._overlaysList=Je("div",t+"-overlays",A),i.appendChild(A)},_getLayer:function(t){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&x(this._layers[i].layer)===t)return this._layers[i]},_addLayer:function(t,i,u){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:i,overlay:u}),this.options.sortLayers&&this._layers.sort(m(function(A,b){return this.options.sortFunction(A.layer,b.layer,A.name,b.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;$o(this._baseLayersList),$o(this._overlaysList),this._layerControlInputs=[];var t,i,u,A,b=0;for(u=0;u<this._layers.length;u++)A=this._layers[u],this._addItem(A),i=i||A.overlay,t=t||!A.overlay,b+=A.overlay?0:1;return this.options.hideSingleBase&&(t=t&&b>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=i&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var i=this._getLayer(x(t.target)),u=i.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;u&&this._map.fire(u,i)},_createRadioElement:function(t,i){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(i?' checked="checked"':"")+"/>",A=document.createElement("div");return A.innerHTML=u,A.firstChild},_addItem:function(t){var i=document.createElement("label"),u=this._map.hasLayer(t.layer),A;t.overlay?(A=document.createElement("input"),A.type="checkbox",A.className="leaflet-control-layers-selector",A.defaultChecked=u):A=this._createRadioElement("leaflet-base-layers_"+x(this),u),this._layerControlInputs.push(A),A.layerId=x(t.layer),Ge(A,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+t.name;var O=document.createElement("span");i.appendChild(O),O.appendChild(A),O.appendChild(b);var Q=t.overlay?this._overlaysList:this._baseLayersList;return Q.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,i,u,A=[],b=[];this._handlingClick=!0;for(var O=t.length-1;O>=0;O--)i=t[O],u=this._getLayer(i.layerId).layer,i.checked?A.push(u):i.checked||b.push(u);for(O=0;O<b.length;O++)this._map.hasLayer(b[O])&&this._map.removeLayer(b[O]);for(O=0;O<A.length;O++)this._map.hasLayer(A[O])||this._map.addLayer(A[O]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,i,u,A=this._map.getZoom(),b=t.length-1;b>=0;b--)i=t[b],u=this._getLayer(i.layerId).layer,i.disabled=u.options.minZoom!==void 0&&A<u.options.minZoom||u.options.maxZoom!==void 0&&A>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,Ge(t,"click",zt),this.expand();var i=this;setTimeout(function(){bt(t,"click",zt),i._preventClick=!1})}}),os=function(t,i,u){return new ta(t,i,u)},Pi=Bn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var i="leaflet-control-zoom",u=Je("div",i+" leaflet-bar"),A=this.options;return this._zoomInButton=this._createButton(A.zoomInText,A.zoomInTitle,i+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(A.zoomOutText,A.zoomOutTitle,i+"-out",u,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,i,u,A,b){var O=Je("a",u,A);return O.innerHTML=t,O.href="#",O.title=i,O.setAttribute("role","button"),O.setAttribute("aria-label",i),ho(O),Ge(O,"click",Kn),Ge(O,"click",b,this),Ge(O,"click",this._refocusOnMap,this),O},_updateDisabled:function(){var t=this._map,i="leaflet-disabled";Bt(this._zoomInButton,i),Bt(this._zoomOutButton,i),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&($e(this._zoomOutButton,i),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&($e(this._zoomInButton,i),this._zoomInButton.setAttribute("aria-disabled","true"))}});ut.mergeOptions({zoomControl:!0}),ut.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Pi,this.addControl(this.zoomControl))});var gl=function(t){return new Pi(t)},yn=Bn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var i="leaflet-control-scale",u=Je("div",i),A=this.options;return this._addScales(A,i+"-line",u),t.on(A.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),u},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,i,u){t.metric&&(this._mScale=Je("div",i,u)),t.imperial&&(this._iScale=Je("div",i,u))},_update:function(){var t=this._map,i=t.getSize().y/2,u=t.distance(t.containerPointToLatLng([0,i]),t.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(u)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var i=this._getRoundNum(t),u=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,u,i/t)},_updateImperial:function(t){var i=t*3.2808399,u,A,b;i>5280?(u=i/5280,A=this._getRoundNum(u),this._updateScale(this._iScale,A+" mi",A/u)):(b=this._getRoundNum(i),this._updateScale(this._iScale,b+" ft",b/i))},_updateScale:function(t,i,u){t.style.width=Math.round(this.options.maxWidth*u)+"px",t.innerHTML=i},_getRoundNum:function(t){var i=Math.pow(10,(Math.floor(t)+"").length-1),u=t/i;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,i*u}}),Ti=function(t){return new yn(t)},na='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ti=Bn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Pe.inlineSvg?na+" ":"")+"Leaflet</a>"},initialize:function(t){C(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=Je("div","leaflet-control-attribution"),ho(this._container);for(var i in t._layers)t._layers[i].getAttribution&&this.addAttribution(t._layers[i].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var i in this._attributions)this._attributions[i]&&t.push(i);var u=[];this.options.prefix&&u.push(this.options.prefix),t.length&&u.push(t.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});ut.mergeOptions({attributionControl:!0}),ut.addInitHook(function(){this.options.attributionControl&&new ti().addTo(this)});var td=function(t){return new ti(t)};Bn.Layers=ta,Bn.Zoom=Pi,Bn.Scale=yn,Bn.Attribution=ti,Mr.layers=os,Mr.zoom=gl,Mr.scale=Ti,Mr.attribution=td;var Nn=J.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Nn.addTo=function(t,i){return t.addHandler(i,this),this};var ra={Events:oe},Di=Pe.touch?"touchstart mousedown":"mousedown",$n=de.extend({options:{clickTolerance:3},initialize:function(t,i,u,A){C(this,A),this._element=t,this._dragStartTarget=i||t,this._preventOutline=u},enable:function(){this._enabled||(Ge(this._dragStartTarget,Di,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&($n._dragging===this&&this.finishDrag(!0),bt(this._dragStartTarget,Di,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Ei(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){$n._dragging===this&&this.finishDrag();return}if(!($n._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&($n._dragging=this,this._preventOutline&&Bi(this._element),Jo(),ft(),!this._moving)){this.fire("down");var i=t.touches?t.touches[0]:t,u=_r(this._element);this._startPoint=new q(i.clientX,i.clientY),this._startPos=yr(this._element),this._parentScale=or(u);var A=t.type==="mousedown";Ge(document,A?"mousemove":"touchmove",this._onMove,this),Ge(document,A?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var i=t.touches&&t.touches.length===1?t.touches[0]:t,u=new q(i.clientX,i.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,zt(t),this._moved||(this.fire("dragstart"),this._moved=!0,$e(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),$e(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),qt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Bt(document.body,"leaflet-dragging"),this._lastTarget&&(Bt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),bt(document,"mousemove touchmove",this._onMove,this),bt(document,"mouseup touchend touchcancel",this._onUp,this),es(),Si();var i=this._moved&&this._moving;this._moving=!1,$n._dragging=!1,i&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function ia(t,i,u){var A,b=[1,4,2,8],O,Q,ie,ue,ge,Be,Ue,tt;for(O=0,Be=t.length;O<Be;O++)t[O]._code=ni(t[O],i);for(ie=0;ie<4;ie++){for(Ue=b[ie],A=[],O=0,Be=t.length,Q=Be-1;O<Be;Q=O++)ue=t[O],ge=t[Q],ue._code&Ue?ge._code&Ue||(tt=as(ge,ue,Ue,i,u),tt._code=ni(tt,i),A.push(tt)):(ge._code&Ue&&(tt=as(ge,ue,Ue,i,u),tt._code=ni(tt,i),A.push(tt)),A.push(ue));t=A}return t}function xl(t,i){var u,A,b,O,Q,ie,ue,ge,Be;if(!t||t.length===0)throw new Error("latlngs not passed");Ln(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Ue=he([0,0]),tt=X(t),tn=tt.getNorthWest().distanceTo(tt.getSouthWest())*tt.getNorthEast().distanceTo(tt.getNorthWest());tn<1700&&(Ue=oa(t));var Yt=t.length,Tn=[];for(u=0;u<Yt;u++){var _n=he(t[u]);Tn.push(i.project(he([_n.lat-Ue.lat,_n.lng-Ue.lng])))}for(ie=ue=ge=0,u=0,A=Yt-1;u<Yt;A=u++)b=Tn[u],O=Tn[A],Q=b.y*O.x-O.y*b.x,ue+=(b.x+O.x)*Q,ge+=(b.y+O.y)*Q,ie+=Q*3;ie===0?Be=Tn[0]:Be=[ue/ie,ge/ie];var Hi=i.unproject(ne(Be));return he([Hi.lat+Ue.lat,Hi.lng+Ue.lng])}function oa(t){for(var i=0,u=0,A=0,b=0;b<t.length;b++){var O=he(t[b]);i+=O.lat,u+=O.lng,A++}return he([i/A,u/A])}var nd={__proto__:null,clipPolygon:ia,polygonCenter:xl,centroid:oa};function ss(t,i){if(!i||!t.length)return t.slice();var u=i*i;return t=od(t,u),t=id(t,u),t}function vl(t,i,u){return Math.sqrt(ri(t,i,u,!0))}function rd(t,i,u){return ri(t,i,u)}function id(t,i){var u=t.length,A=typeof Uint8Array<"u"?Uint8Array:Array,b=new A(u);b[0]=b[u-1]=1,sa(t,b,i,0,u-1);var O,Q=[];for(O=0;O<u;O++)b[O]&&Q.push(t[O]);return Q}function sa(t,i,u,A,b){var O=0,Q,ie,ue;for(ie=A+1;ie<=b-1;ie++)ue=ri(t[ie],t[A],t[b],!0),ue>O&&(Q=ie,O=ue);O>u&&(i[Q]=1,sa(t,i,u,A,Q),sa(t,i,u,Q,b))}function od(t,i){for(var u=[t[0]],A=1,b=0,O=t.length;A<O;A++)sd(t[A],t[b])>i&&(u.push(t[A]),b=A);return b<O-1&&u.push(t[O-1]),u}var aa;function yl(t,i,u,A,b){var O=A?aa:ni(t,u),Q=ni(i,u),ie,ue,ge;for(aa=Q;;){if(!(O|Q))return[t,i];if(O&Q)return!1;ie=O||Q,ue=as(t,i,ie,u,b),ge=ni(ue,u),ie===O?(t=ue,O=ge):(i=ue,Q=ge)}}function as(t,i,u,A,b){var O=i.x-t.x,Q=i.y-t.y,ie=A.min,ue=A.max,ge,Be;return u&8?(ge=t.x+O*(ue.y-t.y)/Q,Be=ue.y):u&4?(ge=t.x+O*(ie.y-t.y)/Q,Be=ie.y):u&2?(ge=ue.x,Be=t.y+Q*(ue.x-t.x)/O):u&1&&(ge=ie.x,Be=t.y+Q*(ie.x-t.x)/O),new q(ge,Be,b)}function ni(t,i){var u=0;return t.x<i.min.x?u|=1:t.x>i.max.x&&(u|=2),t.y<i.min.y?u|=4:t.y>i.max.y&&(u|=8),u}function sd(t,i){var u=i.x-t.x,A=i.y-t.y;return u*u+A*A}function ri(t,i,u,A){var b=i.x,O=i.y,Q=u.x-b,ie=u.y-O,ue=Q*Q+ie*ie,ge;return ue>0&&(ge=((t.x-b)*Q+(t.y-O)*ie)/ue,ge>1?(b=u.x,O=u.y):ge>0&&(b+=Q*ge,O+=ie*ge)),Q=t.x-b,ie=t.y-O,A?Q*Q+ie*ie:new q(b,O)}function Ln(t){return!k(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function _l(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ln(t)}function wl(t,i){var u,A,b,O,Q,ie,ue,ge;if(!t||t.length===0)throw new Error("latlngs not passed");Ln(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Be=he([0,0]),Ue=X(t),tt=Ue.getNorthWest().distanceTo(Ue.getSouthWest())*Ue.getNorthEast().distanceTo(Ue.getNorthWest());tt<1700&&(Be=oa(t));var tn=t.length,Yt=[];for(u=0;u<tn;u++){var Tn=he(t[u]);Yt.push(i.project(he([Tn.lat-Be.lat,Tn.lng-Be.lng])))}for(u=0,A=0;u<tn-1;u++)A+=Yt[u].distanceTo(Yt[u+1])/2;if(A===0)ge=Yt[0];else for(u=0,O=0;u<tn-1;u++)if(Q=Yt[u],ie=Yt[u+1],b=Q.distanceTo(ie),O+=b,O>A){ue=(O-A)/b,ge=[ie.x-ue*(ie.x-Q.x),ie.y-ue*(ie.y-Q.y)];break}var _n=i.unproject(ne(ge));return he([_n.lat+Be.lat,_n.lng+Be.lng])}var bl={__proto__:null,simplify:ss,pointToSegmentDistance:vl,closestPointOnSegment:rd,clipSegment:yl,_getEdgeIntersection:as,_getBitCode:ni,_sqClosestPointOnSegment:ri,isFlat:Ln,_flat:_l,polylineCenter:wl},la={project:function(t){return new q(t.lng,t.lat)},unproject:function(t){return new fe(t.y,t.x)},bounds:new D([-180,-90],[180,90])},ua={R:6378137,R_MINOR:6356752314245179e-9,bounds:new D([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var i=Math.PI/180,u=this.R,A=t.lat*i,b=this.R_MINOR/u,O=Math.sqrt(1-b*b),Q=O*Math.sin(A),ie=Math.tan(Math.PI/4-A/2)/Math.pow((1-Q)/(1+Q),O/2);return A=-u*Math.log(Math.max(ie,1e-10)),new q(t.lng*i*u,A)},unproject:function(t){for(var i=180/Math.PI,u=this.R,A=this.R_MINOR/u,b=Math.sqrt(1-A*A),O=Math.exp(-t.y/u),Q=Math.PI/2-2*Math.atan(O),ie=0,ue=.1,ge;ie<15&&Math.abs(ue)>1e-7;ie++)ge=b*Math.sin(Q),ge=Math.pow((1-ge)/(1+ge),b/2),ue=Math.PI/2-2*Math.atan(O*ge)-Q,Q+=ue;return new fe(Q*i,t.x*i/u)}},ad={__proto__:null,LonLat:la,Mercator:ua,SphericalMercator:Ye},ld=f({},Ae,{code:"EPSG:3395",projection:ua,transformation:(function(){var t=.5/(Math.PI*ua.R);return ht(t,.5,-t,.5)})()}),Cl=f({},Ae,{code:"EPSG:4326",projection:la,transformation:ht(1/180,1,-1/180,.5)}),ud=f({},ke,{projection:la,transformation:ht(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,i){var u=i.lng-t.lng,A=i.lat-t.lat;return Math.sqrt(u*u+A*A)},infinite:!0});ke.Earth=Ae,ke.EPSG3395=ld,ke.EPSG3857=Se,ke.EPSG900913=Ve,ke.EPSG4326=Cl,ke.Simple=ud;var Yn=de.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[x(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[x(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var i=t.target;if(i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var u=this.getEvents();i.on(u,this),this.once("remove",function(){i.off(u,this)},this)}this.onAdd(i),this.fire("add"),i.fire("layeradd",{layer:this})}}});ut.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var i=x(t);return this._layers[i]?this:(this._layers[i]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var i=x(t);return this._layers[i]?(this._loaded&&t.onRemove(this),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return x(t)in this._layers},eachLayer:function(t,i){for(var u in this._layers)t.call(i,this._layers[u]);return this},_addLayers:function(t){t=t?k(t)?t:[t]:[];for(var i=0,u=t.length;i<u;i++)this.addLayer(t[i])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[x(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var i=x(t);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,i=-1/0,u=this._getZoomSpan();for(var A in this._zoomBoundLayers){var b=this._zoomBoundLayers[A].options;t=b.minZoom===void 0?t:Math.min(t,b.minZoom),i=b.maxZoom===void 0?i:Math.max(i,b.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=t===1/0?void 0:t,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ir=Yn.extend({initialize:function(t,i){C(this,i),this._layers={};var u,A;if(t)for(u=0,A=t.length;u<A;u++)this.addLayer(t[u])},addLayer:function(t){var i=this.getLayerId(t);return this._layers[i]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var i=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(t){var i=typeof t=="number"?t:this.getLayerId(t);return i in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var i=Array.prototype.slice.call(arguments,1),u,A;for(u in this._layers)A=this._layers[u],A[t]&&A[t].apply(A,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,i){for(var u in this._layers)t.call(i,this._layers[u]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return x(t)}}),Ao=function(t,i){return new Ir(t,i)},wr=Ir.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Ir.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Ir.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new $;for(var i in this._layers){var u=this._layers[i];t.extend(u.getBounds?u.getBounds():u.getLatLng())}return t}}),El=function(t,i){return new wr(t,i)},ii=J.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){C(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,i){var u=this._getIconUrl(t);if(!u){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var A=this._createImg(u,i&&i.tagName==="IMG"?i:null);return this._setIconStyles(A,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(A.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),A},_setIconStyles:function(t,i){var u=this.options,A=u[i+"Size"];typeof A=="number"&&(A=[A,A]);var b=ne(A),O=ne(i==="shadow"&&u.shadowAnchor||u.iconAnchor||b&&b.divideBy(2,!0));t.className="leaflet-marker-"+i+" "+(u.className||""),O&&(t.style.marginLeft=-O.x+"px",t.style.marginTop=-O.y+"px"),b&&(t.style.width=b.x+"px",t.style.height=b.y+"px")},_createImg:function(t,i){return i=i||document.createElement("img"),i.src=t,i},_getIconUrl:function(t){return Pe.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function kl(t){return new ii(t)}var Ri=ii.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof Ri.imagePath!="string"&&(Ri.imagePath=this._detectIconPath()),(this.options.imagePath||Ri.imagePath)+ii.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var i=function(u,A,b){var O=A.exec(u);return O&&O[b]};return t=i(t,/^url\((['"])?(.+)\1\)$/,2),t&&i(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=Je("div","leaflet-default-icon-path",document.body),i=lo(t,"background-image")||lo(t,"backgroundImage");if(document.body.removeChild(t),i=this._stripUrl(i),i)return i;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),ca=Nn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new $n(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),$e(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Bt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var i=this._marker,u=i._map,A=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,O=yr(i._icon),Q=u.getPixelBounds(),ie=u.getPixelOrigin(),ue=Z(Q.min._subtract(ie).add(b),Q.max._subtract(ie).subtract(b));if(!ue.contains(O)){var ge=ne((Math.max(ue.max.x,O.x)-ue.max.x)/(Q.max.x-ue.max.x)-(Math.min(ue.min.x,O.x)-ue.min.x)/(Q.min.x-ue.min.x),(Math.max(ue.max.y,O.y)-ue.max.y)/(Q.max.y-ue.max.y)-(Math.min(ue.min.y,O.y)-ue.min.y)/(Q.min.y-ue.min.y)).multiplyBy(A);u.panBy(ge,{animate:!1}),this._draggable._newPos._add(ge),this._draggable._startPos._add(ge),qt(i._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=G(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(re(this._panRequest),this._panRequest=G(this._adjustPan.bind(this,t)))},_onDrag:function(t){var i=this._marker,u=i._shadow,A=yr(i._icon),b=i._map.layerPointToLatLng(A);u&&qt(u,A),i._latlng=b,t.latlng=b,t.oldLatLng=this._oldLatLng,i.fire("move",t).fire("drag",t)},_onDragEnd:function(t){re(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),br=Yn.extend({options:{icon:new Ri,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,i){C(this,i),this._latlng=he(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var i=this._latlng;return this._latlng=he(t),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=t.icon.createIcon(this._icon),A=!1;u!==this._icon&&(this._icon&&this._removeIcon(),A=!0,t.title&&(u.title=t.title),u.tagName==="IMG"&&(u.alt=t.alt||"")),$e(u,i),t.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ge(u,"focus",this._panOnFocus,this);var b=t.icon.createShadow(this._shadow),O=!1;b!==this._shadow&&(this._removeShadow(),O=!0),b&&($e(b,i),b.alt=""),this._shadow=b,t.opacity<1&&this._updateOpacity(),A&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&O&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&bt(this._icon,"focus",this._panOnFocus,this),Tt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Tt(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&qt(this._icon,t),this._shadow&&qt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(i)},_initInteraction:function(){if(this.options.interactive&&($e(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ca)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ca(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&vn(this._icon,t),this._shadow&&vn(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var i=this.options.icon.options,u=i.iconSize?ne(i.iconSize):ne(0,0),A=i.iconAnchor?ne(i.iconAnchor):ne(0,0);t.panInside(this._latlng,{paddingTopLeft:A,paddingBottomRight:u.subtract(A)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function cd(t,i){return new br(t,i)}var Or=Yn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return C(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ls=Or.extend({options:{fill:!0,radius:10},initialize:function(t,i){C(this,i),this._latlng=he(t),this._radius=this.options.radius},setLatLng:function(t){var i=this._latlng;return this._latlng=he(t),this.redraw(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var i=t&&t.radius||this._radius;return Or.prototype.setStyle.call(this,t),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,i=this._radiusY||t,u=this._clickTolerance(),A=[t+u,i+u];this._pxBounds=new D(this._point.subtract(A),this._point.add(A))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Sl(t,i){return new ls(t,i)}var us=ls.extend({initialize:function(t,i,u){if(typeof i=="number"&&(i=f({},u,{radius:i})),C(this,i),this._latlng=he(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new $(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Or.prototype.setStyle,_project:function(){var t=this._latlng.lng,i=this._latlng.lat,u=this._map,A=u.options.crs;if(A.distance===Ae.distance){var b=Math.PI/180,O=this._mRadius/Ae.R/b,Q=u.project([i+O,t]),ie=u.project([i-O,t]),ue=Q.add(ie).divideBy(2),ge=u.unproject(ue).lat,Be=Math.acos((Math.cos(O*b)-Math.sin(i*b)*Math.sin(ge*b))/(Math.cos(i*b)*Math.cos(ge*b)))/b;(isNaN(Be)||Be===0)&&(Be=O/Math.cos(Math.PI/180*i)),this._point=ue.subtract(u.getPixelOrigin()),this._radius=isNaN(Be)?0:ue.x-u.project([ge,t-Be]).x,this._radiusY=ue.y-Q.y}else{var Ue=A.unproject(A.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(Ue).x}this._updateBounds()}});function go(t,i,u){return new us(t,i,u)}var Pn=Or.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,i){C(this,i),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var i=1/0,u=null,A=ri,b,O,Q=0,ie=this._parts.length;Q<ie;Q++)for(var ue=this._parts[Q],ge=1,Be=ue.length;ge<Be;ge++){b=ue[ge-1],O=ue[ge];var Ue=A(t,b,O,!0);Ue<i&&(i=Ue,u=A(t,b,O))}return u&&(u.distance=Math.sqrt(i)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return wl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,i){return i=i||this._defaultShape(),t=he(t),i.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new $,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Ln(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var i=[],u=Ln(t),A=0,b=t.length;A<b;A++)u?(i[A]=he(t[A]),this._bounds.extend(i[A])):i[A]=this._convertLatLngs(t[A]);return i},_project:function(){var t=new D;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),i=new q(t,t);this._rawPxBounds&&(this._pxBounds=new D([this._rawPxBounds.min.subtract(i),this._rawPxBounds.max.add(i)]))},_projectLatlngs:function(t,i,u){var A=t[0]instanceof fe,b=t.length,O,Q;if(A){for(Q=[],O=0;O<b;O++)Q[O]=this._map.latLngToLayerPoint(t[O]),u.extend(Q[O]);i.push(Q)}else for(O=0;O<b;O++)this._projectLatlngs(t[O],i,u)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var i=this._parts,u,A,b,O,Q,ie,ue;for(u=0,b=0,O=this._rings.length;u<O;u++)for(ue=this._rings[u],A=0,Q=ue.length;A<Q-1;A++)ie=yl(ue[A],ue[A+1],t,A,!0),ie&&(i[b]=i[b]||[],i[b].push(ie[0]),(ie[1]!==ue[A+1]||A===Q-2)&&(i[b].push(ie[1]),b++))}},_simplifyPoints:function(){for(var t=this._parts,i=this.options.smoothFactor,u=0,A=t.length;u<A;u++)t[u]=ss(t[u],i)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,i){var u,A,b,O,Q,ie,ue=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(u=0,O=this._parts.length;u<O;u++)for(ie=this._parts[u],A=0,Q=ie.length,b=Q-1;A<Q;b=A++)if(!(!i&&A===0)&&vl(t,ie[b],ie[A])<=ue)return!0;return!1}});function dd(t,i){return new Pn(t,i)}Pn._flat=_l;var Cr=Pn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var i=Pn.prototype._convertLatLngs.call(this,t),u=i.length;return u>=2&&i[0]instanceof fe&&i[0].equals(i[u-1])&&i.pop(),i},_setLatLngs:function(t){Pn.prototype._setLatLngs.call(this,t),Ln(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ln(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,i=this.options.weight,u=new q(i,i);if(t=new D(t.min.subtract(u),t.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var A=0,b=this._rings.length,O;A<b;A++)O=ia(this._rings[A],t,!0),O.length&&this._parts.push(O)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var i=!1,u,A,b,O,Q,ie,ue,ge;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(O=0,ue=this._parts.length;O<ue;O++)for(u=this._parts[O],Q=0,ge=u.length,ie=ge-1;Q<ge;ie=Q++)A=u[Q],b=u[ie],A.y>t.y!=b.y>t.y&&t.x<(b.x-A.x)*(t.y-A.y)/(b.y-A.y)+A.x&&(i=!i);return i||Pn.prototype._containsPoint.call(this,t,!0)}});function fd(t,i){return new Cr(t,i)}var ar=wr.extend({initialize:function(t,i){C(this,i),this._layers={},t&&this.addData(t)},addData:function(t){var i=k(t)?t:t.features,u,A,b;if(i){for(u=0,A=i.length;u<A;u++)b=i[u],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var O=this.options;if(O.filter&&!O.filter(t))return this;var Q=Fi(t,O);return Q?(Q.feature=ps(t),Q.defaultOptions=Q.options,this.resetStyle(Q),O.onEachFeature&&O.onEachFeature(t,Q),this.addLayer(Q)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=f({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(i){this._setLayerStyle(i,t)},this)},_setLayerStyle:function(t,i){t.setStyle&&(typeof i=="function"&&(i=i(t.feature)),t.setStyle(i))}});function Fi(t,i){var u=t.type==="Feature"?t.geometry:t,A=u?u.coordinates:null,b=[],O=i&&i.pointToLayer,Q=i&&i.coordsToLatLng||ds,ie,ue,ge,Be;if(!A&&!u)return null;switch(u.type){case"Point":return ie=Q(A),cs(O,t,ie,i);case"MultiPoint":for(ge=0,Be=A.length;ge<Be;ge++)ie=Q(A[ge]),b.push(cs(O,t,ie,i));return new wr(b);case"LineString":case"MultiLineString":return ue=xo(A,u.type==="LineString"?0:1,Q),new Pn(ue,i);case"Polygon":case"MultiPolygon":return ue=xo(A,u.type==="Polygon"?1:2,Q),new Cr(ue,i);case"GeometryCollection":for(ge=0,Be=u.geometries.length;ge<Be;ge++){var Ue=Fi({geometry:u.geometries[ge],type:"Feature",properties:t.properties},i);Ue&&b.push(Ue)}return new wr(b);case"FeatureCollection":for(ge=0,Be=u.features.length;ge<Be;ge++){var tt=Fi(u.features[ge],i);tt&&b.push(tt)}return new wr(b);default:throw new Error("Invalid GeoJSON object.")}}function cs(t,i,u,A){return t?t(i,u):new br(u,A&&A.markersInheritOptions&&A)}function ds(t){return new fe(t[1],t[0],t[2])}function xo(t,i,u){for(var A=[],b=0,O=t.length,Q;b<O;b++)Q=i?xo(t[b],i-1,u):(u||ds)(t[b]),A.push(Q);return A}function fs(t,i){return t=he(t),t.alt!==void 0?[w(t.lng,i),w(t.lat,i),w(t.alt,i)]:[w(t.lng,i),w(t.lat,i)]}function hs(t,i,u,A){for(var b=[],O=0,Q=t.length;O<Q;O++)b.push(i?hs(t[O],Ln(t[O])?0:i-1,u,A):fs(t[O],A));return!i&&u&&b.length>0&&b.push(b[0].slice()),b}function Ni(t,i){return t.feature?f({},t.feature,{geometry:i}):ps(i)}function ps(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var da={toGeoJSON:function(t){return Ni(this,{type:"Point",coordinates:fs(this.getLatLng(),t)})}};br.include(da),us.include(da),ls.include(da),Pn.include({toGeoJSON:function(t){var i=!Ln(this._latlngs),u=hs(this._latlngs,i?1:0,!1,t);return Ni(this,{type:(i?"Multi":"")+"LineString",coordinates:u})}}),Cr.include({toGeoJSON:function(t){var i=!Ln(this._latlngs),u=i&&!Ln(this._latlngs[0]),A=hs(this._latlngs,u?2:i?1:0,!0,t);return i||(A=[A]),Ni(this,{type:(u?"Multi":"")+"Polygon",coordinates:A})}}),Ir.include({toMultiPoint:function(t){var i=[];return this.eachLayer(function(u){i.push(u.toGeoJSON(t).geometry.coordinates)}),Ni(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(t){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(i==="MultiPoint")return this.toMultiPoint(t);var u=i==="GeometryCollection",A=[];return this.eachLayer(function(b){if(b.toGeoJSON){var O=b.toGeoJSON(t);if(u)A.push(O.geometry);else{var Q=ps(O);Q.type==="FeatureCollection"?A.push.apply(A,Q.features):A.push(Q)}}}),u?Ni(this,{geometries:A,type:"GeometryCollection"}):{type:"FeatureCollection",features:A}}});function Bl(t,i){return new ar(t,i)}var Xn=Bl,zr=Yn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,i,u){this._url=t,this._bounds=X(i),C(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&($e(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Tt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Ci(this._image),this},bringToBack:function(){return this._map&&vr(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=X(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",i=this._image=t?this._url:Je("img");if($e(i,"leaflet-image-layer"),this._zoomAnimated&&$e(i,"leaflet-zoom-animated"),this.options.className&&$e(i,this.options.className),i.onselectstart=v,i.onmousemove=v,i.onload=m(this.fire,this,"load"),i.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=i.src;return}i.src=this._url,i.alt=this.options.alt},_animateZoom:function(t){var i=this._map.getZoomScale(t.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Gn(this._image,u,i)},_reset:function(){var t=this._image,i=new D(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=i.getSize();qt(t,i.min),t.style.width=u.x+"px",t.style.height=u.y+"px"},_updateOpacity:function(){vn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Pl=function(t,i,u){return new zr(t,i,u)},fa=zr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",i=this._image=t?this._url:Je("video");if($e(i,"leaflet-image-layer"),this._zoomAnimated&&$e(i,"leaflet-zoom-animated"),this.options.className&&$e(i,this.options.className),i.onselectstart=v,i.onmousemove=v,i.onloadeddata=m(this.fire,this,"load"),t){for(var u=i.getElementsByTagName("source"),A=[],b=0;b<u.length;b++)A.push(u[b].src);this._url=u.length>0?A:[i.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(i.style,"objectFit")&&(i.style.objectFit="fill"),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop,i.muted=!!this.options.muted,i.playsInline=!!this.options.playsInline;for(var O=0;O<this._url.length;O++){var Q=Je("source");Q.src=this._url[O],i.appendChild(Q)}}});function Tl(t,i,u){return new fa(t,i,u)}var ha=zr.extend({_initImage:function(){var t=this._image=this._url;$e(t,"leaflet-image-layer"),this._zoomAnimated&&$e(t,"leaflet-zoom-animated"),this.options.className&&$e(t,this.options.className),t.onselectstart=v,t.onmousemove=v}});function pa(t,i,u){return new ha(t,i,u)}var lr=Yn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,i){t&&(t instanceof fe||k(t))?(this._latlng=he(t),C(this,i)):(C(this,t),this._source=i),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&vn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&vn(this._container,1),this.bringToFront(),this.options.interactive&&($e(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(vn(this._container,0),this._removeTimeout=setTimeout(m(Tt,void 0,this._container),200)):Tt(this._container),this.options.interactive&&(Bt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=he(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ci(this._container),this},bringToBack:function(){return this._map&&vr(this._container),this},_prepareOpen:function(t){var i=this._source;if(!i._map)return!1;if(i instanceof wr){i=null;var u=this._source._layers;for(var A in u)if(u[A]._map){i=u[A];break}if(!i)return!1;this._source=i}if(!t)if(i.getCenter)t=i.getCenter();else if(i.getLatLng)t=i.getLatLng();else if(i.getBounds)t=i.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,i=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof i=="string")t.innerHTML=i;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),i=ne(this.options.offset),u=this._getAnchor();this._zoomAnimated?qt(this._container,t.add(u)):i=i.add(t).add(u);var A=this._containerBottom=-i.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=A+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});ut.include({_initOverlay:function(t,i,u,A){var b=i;return b instanceof t||(b=new t(A).setContent(i)),u&&b.setLatLng(u),b}}),Yn.include({_initOverlay:function(t,i,u,A){var b=u;return b instanceof t?(C(b,A),b._source=this):(b=i&&!A?i:new t(A,this),b.setContent(u)),b}});var ms=lr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,lr.prototype.openOn.call(this,t)},onAdd:function(t){lr.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Or||this._source.on("preclick",sr))},onRemove:function(t){lr.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Or||this._source.off("preclick",sr))},getEvents:function(){var t=lr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",i=this._container=Je("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=Je("div",t+"-content-wrapper",i);if(this._contentNode=Je("div",t+"-content",u),ho(i),ns(this._contentNode),Ge(i,"contextmenu",sr),this._tipContainer=Je("div",t+"-tip-container",i),this._tip=Je("div",t+"-tip",this._tipContainer),this.options.closeButton){var A=this._closeButton=Je("a",t+"-close-button",i);A.setAttribute("role","button"),A.setAttribute("aria-label","Close popup"),A.href="#close",A.innerHTML='<span aria-hidden="true">&#215;</span>',Ge(A,"click",function(b){zt(b),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,i=t.style;i.width="",i.whiteSpace="nowrap";var u=t.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),i.width=u+1+"px",i.whiteSpace="",i.height="";var A=t.offsetHeight,b=this.options.maxHeight,O="leaflet-popup-scrolled";b&&A>b?(i.height=b+"px",$e(t,O)):Bt(t,O),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),u=this._getAnchor();qt(this._container,i.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,i=parseInt(lo(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+i,A=this._containerWidth,b=new q(this._containerLeft,-u-this._containerBottom);b._add(yr(this._container));var O=t.layerPointToContainerPoint(b),Q=ne(this.options.autoPanPadding),ie=ne(this.options.autoPanPaddingTopLeft||Q),ue=ne(this.options.autoPanPaddingBottomRight||Q),ge=t.getSize(),Be=0,Ue=0;O.x+A+ue.x>ge.x&&(Be=O.x+A-ge.x+ue.x),O.x-Be-ie.x<0&&(Be=O.x-ie.x),O.y+u+ue.y>ge.y&&(Ue=O.y+u-ge.y+ue.y),O.y-Ue-ie.y<0&&(Ue=O.y-ie.y),(Be||Ue)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([Be,Ue]))}},_getAnchor:function(){return ne(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Li=function(t,i){return new ms(t,i)};ut.mergeOptions({closePopupOnClick:!0}),ut.include({openPopup:function(t,i,u){return this._initOverlay(ms,t,i,u).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Yn.include({bindPopup:function(t,i){return this._popup=this._initOverlay(ms,this._popup,t,i),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof wr||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Kn(t);var i=t.layer||t.target;if(this._popup._source===i&&!(i instanceof Or)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=i,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var Mi=lr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){lr.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){lr.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=lr.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",i=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Je("div",i),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+x(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var i,u,A=this._map,b=this._container,O=A.latLngToContainerPoint(A.getCenter()),Q=A.layerPointToContainerPoint(t),ie=this.options.direction,ue=b.offsetWidth,ge=b.offsetHeight,Be=ne(this.options.offset),Ue=this._getAnchor();ie==="top"?(i=ue/2,u=ge):ie==="bottom"?(i=ue/2,u=0):ie==="center"?(i=ue/2,u=ge/2):ie==="right"?(i=0,u=ge/2):ie==="left"?(i=ue,u=ge/2):Q.x<O.x?(ie="right",i=0,u=ge/2):(ie="left",i=ue+(Be.x+Ue.x)*2,u=ge/2),t=t.subtract(ne(i,u,!0)).add(Be).add(Ue),Bt(b,"leaflet-tooltip-right"),Bt(b,"leaflet-tooltip-left"),Bt(b,"leaflet-tooltip-top"),Bt(b,"leaflet-tooltip-bottom"),$e(b,"leaflet-tooltip-"+ie),qt(b,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&vn(this._container,t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(i)},_getAnchor:function(){return ne(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),vo=function(t,i){return new Mi(t,i)};ut.include({openTooltip:function(t,i,u){return this._initOverlay(Mi,t,i,u).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Yn.include({bindTooltip:function(t,i){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Mi,this._tooltip,t,i),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var i=t?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[i](u),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof wr||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&(Ge(i,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),Ge(i,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&i.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var i=this;this._map.once("moveend",function(){i._openOnceFlag=!1,i._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var i=t.latlng,u,A;this._tooltip.options.sticky&&t.originalEvent&&(u=this._map.mouseEventToContainerPoint(t.originalEvent),A=this._map.containerPointToLayerPoint(u),i=this._map.layerPointToLatLng(A)),this._tooltip.setLatLng(i)}});var As=ii.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var i=t&&t.tagName==="DIV"?t:document.createElement("div"),u=this.options;if(u.html instanceof Element?($o(i),i.appendChild(u.html)):i.innerHTML=u.html!==!1?u.html:"",u.bgPos){var A=ne(u.bgPos);i.style.backgroundPosition=-A.x+"px "+-A.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});function Dl(t){return new As(t)}ii.Default=Ri;var jr=Yn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Pe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){C(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),Tt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ci(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(vr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof q?t:new q(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var i=this.getPane().children,u=-t(-1/0,1/0),A=0,b=i.length,O;A<b;A++)O=i[A].style.zIndex,i[A]!==this._container&&O&&(u=t(u,+O));isFinite(u)&&(this.options.zIndex=u+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Pe.ielt9){vn(this._container,this.options.opacity);var t=+new Date,i=!1,u=!1;for(var A in this._tiles){var b=this._tiles[A];if(!(!b.current||!b.loaded)){var O=Math.min(1,(t-b.loaded)/200);vn(b.el,O),O<1?i=!0:(b.active?u=!0:this._onOpaqueTile(b),b.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),i&&(re(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=Je("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,i=this.options.maxZoom;if(t!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===t?(this._levels[u].el.style.zIndex=i-Math.abs(t-u),this._onUpdateLevel(u)):(Tt(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var A=this._levels[t],b=this._map;return A||(A=this._levels[t]={},A.el=Je("div","leaflet-tile-container leaflet-zoom-animated",this._container),A.el.style.zIndex=i,A.origin=b.project(b.unproject(b.getPixelOrigin()),t).round(),A.zoom=t,this._setZoomTransform(A,b.getCenter(),b.getZoom()),v(A.el.offsetWidth),this._onCreateLevel(A)),this._level=A,A}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var t,i,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)i=this._tiles[t],i.retain=i.current;for(t in this._tiles)if(i=this._tiles[t],i.current&&!i.active){var A=i.coords;this._retainParent(A.x,A.y,A.z,A.z-5)||this._retainChildren(A.x,A.y,A.z,A.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var i in this._tiles)this._tiles[i].coords.z===t&&this._removeTile(i)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)Tt(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,i,u,A){var b=Math.floor(t/2),O=Math.floor(i/2),Q=u-1,ie=new q(+b,+O);ie.z=+Q;var ue=this._tileCoordsToKey(ie),ge=this._tiles[ue];return ge&&ge.active?(ge.retain=!0,!0):(ge&&ge.loaded&&(ge.retain=!0),Q>A?this._retainParent(b,O,Q,A):!1)},_retainChildren:function(t,i,u,A){for(var b=2*t;b<2*t+2;b++)for(var O=2*i;O<2*i+2;O++){var Q=new q(b,O);Q.z=u+1;var ie=this._tileCoordsToKey(Q),ue=this._tiles[ie];if(ue&&ue.active){ue.retain=!0;continue}else ue&&ue.loaded&&(ue.retain=!0);u+1<A&&this._retainChildren(b,O,u+1,A)}},_resetView:function(t){var i=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var i=this.options;return i.minNativeZoom!==void 0&&t<i.minNativeZoom?i.minNativeZoom:i.maxNativeZoom!==void 0&&i.maxNativeZoom<t?i.maxNativeZoom:t},_setView:function(t,i,u,A){var b=Math.round(i);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var O=this.options.updateWhenZooming&&b!==this._tileZoom;(!A||O)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(t),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(t,i)},_setZoomTransforms:function(t,i){for(var u in this._levels)this._setZoomTransform(this._levels[u],t,i)},_setZoomTransform:function(t,i,u){var A=this._map.getZoomScale(u,t.zoom),b=t.origin.multiplyBy(A).subtract(this._map._getNewPixelOrigin(i,u)).round();Pe.any3d?Gn(t.el,b,A):qt(t.el,b)},_resetGrid:function(){var t=this._map,i=t.options.crs,u=this._tileSize=this.getTileSize(),A=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,i.wrapLng[0]],A).x/u.x),Math.ceil(t.project([0,i.wrapLng[1]],A).x/u.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([i.wrapLat[0],0],A).y/u.x),Math.ceil(t.project([i.wrapLat[1],0],A).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var i=this._map,u=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),A=i.getZoomScale(u,this._tileZoom),b=i.project(t,this._tileZoom).floor(),O=i.getSize().divideBy(A*2);return new D(b.subtract(O),b.add(O))},_update:function(t){var i=this._map;if(i){var u=this._clampZoom(i.getZoom());if(t===void 0&&(t=i.getCenter()),this._tileZoom!==void 0){var A=this._getTiledPixelBounds(t),b=this._pxBoundsToTileRange(A),O=b.getCenter(),Q=[],ie=this.options.keepBuffer,ue=new D(b.getBottomLeft().subtract([ie,-ie]),b.getTopRight().add([ie,-ie]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ge in this._tiles){var Be=this._tiles[ge].coords;(Be.z!==this._tileZoom||!ue.contains(new q(Be.x,Be.y)))&&(this._tiles[ge].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(t,u);return}for(var Ue=b.min.y;Ue<=b.max.y;Ue++)for(var tt=b.min.x;tt<=b.max.x;tt++){var tn=new q(tt,Ue);if(tn.z=this._tileZoom,!!this._isValidTile(tn)){var Yt=this._tiles[this._tileCoordsToKey(tn)];Yt?Yt.current=!0:Q.push(tn)}}if(Q.sort(function(_n,Hi){return _n.distanceTo(O)-Hi.distanceTo(O)}),Q.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Tn=document.createDocumentFragment();for(tt=0;tt<Q.length;tt++)this._addTile(Q[tt],Tn);this._level.el.appendChild(Tn)}}}},_isValidTile:function(t){var i=this._map.options.crs;if(!i.infinite){var u=this._globalTileRange;if(!i.wrapLng&&(t.x<u.min.x||t.x>u.max.x)||!i.wrapLat&&(t.y<u.min.y||t.y>u.max.y))return!1}if(!this.options.bounds)return!0;var A=this._tileCoordsToBounds(t);return X(this.options.bounds).overlaps(A)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var i=this._map,u=this.getTileSize(),A=t.scaleBy(u),b=A.add(u),O=i.unproject(A,t.z),Q=i.unproject(b,t.z);return[O,Q]},_tileCoordsToBounds:function(t){var i=this._tileCoordsToNwSe(t),u=new $(i[0],i[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var i=t.split(":"),u=new q(+i[0],+i[1]);return u.z=+i[2],u},_removeTile:function(t){var i=this._tiles[t];i&&(Tt(i.el),delete this._tiles[t],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){$e(t,"leaflet-tile");var i=this.getTileSize();t.style.width=i.x+"px",t.style.height=i.y+"px",t.onselectstart=v,t.onmousemove=v,Pe.ielt9&&this.options.opacity<1&&vn(t,this.options.opacity)},_addTile:function(t,i){var u=this._getTilePos(t),A=this._tileCoordsToKey(t),b=this.createTile(this._wrapCoords(t),m(this._tileReady,this,t));this._initTile(b),this.createTile.length<2&&G(m(this._tileReady,this,t,null,b)),qt(b,u),this._tiles[A]={el:b,coords:t,current:!0},i.appendChild(b),this.fire("tileloadstart",{tile:b,coords:t})},_tileReady:function(t,i,u){i&&this.fire("tileerror",{error:i,tile:u,coords:t});var A=this._tileCoordsToKey(t);u=this._tiles[A],u&&(u.loaded=+new Date,this._map._fadeAnimated?(vn(u.el,0),re(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),i||($e(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Pe.ielt9||!this._map._fadeAnimated?G(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var i=new q(this._wrapX?y(t.x,this._wrapX):t.x,this._wrapY?y(t.y,this._wrapY):t.y);return i.z=t.z,i},_pxBoundsToTileRange:function(t){var i=this.getTileSize();return new D(t.min.unscaleBy(i).floor(),t.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Ii(t){return new jr(t)}var Hr=jr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,i){this._url=t,i=C(this,i),i.detectRetina&&Pe.retina&&i.maxZoom>0?(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom=Math.min(i.maxZoom,i.minZoom+1)):(i.zoomOffset++,i.maxZoom=Math.max(i.minZoom,i.maxZoom-1)),i.minZoom=Math.max(0,i.minZoom)):i.zoomReverse?i.minZoom=Math.min(i.maxZoom,i.minZoom):i.maxZoom=Math.max(i.minZoom,i.maxZoom),typeof i.subdomains=="string"&&(i.subdomains=i.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,i){return this._url===t&&i===void 0&&(i=!0),this._url=t,i||this.redraw(),this},createTile:function(t,i){var u=document.createElement("img");return Ge(u,"load",m(this._tileOnLoad,this,i,u)),Ge(u,"error",m(this._tileOnError,this,i,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(t),u},getTileUrl:function(t){var i={r:Pe.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-t.y;this.options.tms&&(i.y=u),i["-y"]=u}return B(this._url,f(i,this.options))},_tileOnLoad:function(t,i){Pe.ielt9?setTimeout(m(t,this,null,i),0):t(null,i)},_tileOnError:function(t,i,u){var A=this.options.errorTileUrl;A&&i.getAttribute("src")!==A&&(i.src=A),t(u,i)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,i=this.options.maxZoom,u=this.options.zoomReverse,A=this.options.zoomOffset;return u&&(t=i-t),t+A},_getSubdomain:function(t){var i=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var t,i;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(i=this._tiles[t].el,i.onload=v,i.onerror=v,!i.complete)){i.src=N;var u=this._tiles[t].coords;Tt(i),delete this._tiles[t],this.fire("tileabort",{tile:i,coords:u})}},_removeTile:function(t){var i=this._tiles[t];if(i)return i.el.setAttribute("src",N),jr.prototype._removeTile.call(this,t)},_tileReady:function(t,i,u){if(!(!this._map||u&&u.getAttribute("src")===N))return jr.prototype._tileReady.call(this,t,i,u)}});function ma(t,i){return new Hr(t,i)}var yo=Hr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,i){this._url=t;var u=f({},this.defaultWmsParams);for(var A in i)A in this.options||(u[A]=i[A]);i=C(this,i);var b=i.detectRetina&&Pe.retina?2:1,O=this.getTileSize();u.width=O.x*b,u.height=O.y*b,this.wmsParams=u},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,Hr.prototype.onAdd.call(this,t)},getTileUrl:function(t){var i=this._tileCoordsToNwSe(t),u=this._crs,A=Z(u.project(i[0]),u.project(i[1])),b=A.min,O=A.max,Q=(this._wmsVersion>=1.3&&this._crs===Cl?[b.y,b.x,O.y,O.x]:[b.x,b.y,O.x,O.y]).join(","),ie=Hr.prototype.getTileUrl.call(this,t);return ie+E(this.wmsParams,ie,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Q},setParams:function(t,i){return f(this.wmsParams,t),i||this.redraw(),this}});function Rl(t,i){return new yo(t,i)}Hr.WMS=yo,ma.wms=Rl;var ur=Yn.extend({options:{padding:.1},initialize:function(t){C(this,t),x(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),$e(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,i){var u=this._map.getZoomScale(i,this._zoom),A=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,i),O=A.multiplyBy(-u).add(b).subtract(this._map._getNewPixelOrigin(t,i));Pe.any3d?Gn(this._container,O,u):qt(this._container,O)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,i=this._map.getSize(),u=this._map.containerPointToLayerPoint(i.multiplyBy(-t)).round();this._bounds=new D(u,u.add(i.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Aa=ur.extend({options:{tolerance:0},getEvents:function(){var t=ur.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ur.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Ge(t,"mousemove",this._onMouseMove,this),Ge(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ge(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){re(this._redrawRequest),delete this._ctx,Tt(this._container),bt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var i in this._layers)t=this._layers[i],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ur.prototype._update.call(this);var t=this._bounds,i=this._container,u=t.getSize(),A=Pe.retina?2:1;qt(i,t.min),i.width=A*u.x,i.height=A*u.y,i.style.width=u.x+"px",i.style.height=u.y+"px",Pe.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){ur.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[x(t)]=t;var i=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var i=t._order,u=i.next,A=i.prev;u?u.prev=A:this._drawLast=A,A?A.next=u:this._drawFirst=u,delete t._order,delete this._layers[x(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var i=t.options.dashArray.split(/[, ]+/),u=[],A,b;for(b=0;b<i.length;b++){if(A=Number(i[b]),isNaN(A))return;u.push(A)}t.options._dashArray=u}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||G(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var i=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new D,this._redrawBounds.extend(t._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(t._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var i=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,i.x,i.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,i=this._redrawBounds;if(this._ctx.save(),i){var u=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var A=this._drawFirst;A;A=A.next)t=A.layer,(!i||t._pxBounds&&t._pxBounds.intersects(i))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,i){if(this._drawing){var u,A,b,O,Q=t._parts,ie=Q.length,ue=this._ctx;if(ie){for(ue.beginPath(),u=0;u<ie;u++){for(A=0,b=Q[u].length;A<b;A++)O=Q[u][A],ue[A?"lineTo":"moveTo"](O.x,O.y);i&&ue.closePath()}this._fillStroke(ue,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var i=t._point,u=this._ctx,A=Math.max(Math.round(t._radius),1),b=(Math.max(Math.round(t._radiusY),1)||A)/A;b!==1&&(u.save(),u.scale(1,b)),u.beginPath(),u.arc(i.x,i.y/b,A,0,Math.PI*2,!1),b!==1&&u.restore(),this._fillStroke(u,t)}},_fillStroke:function(t,i){var u=i.options;u.fill&&(t.globalAlpha=u.fillOpacity,t.fillStyle=u.fillColor||u.color,t.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(t.setLineDash&&t.setLineDash(i.options&&i.options._dashArray||[]),t.globalAlpha=u.opacity,t.lineWidth=u.weight,t.strokeStyle=u.color,t.lineCap=u.lineCap,t.lineJoin=u.lineJoin,t.stroke())},_onClick:function(t){for(var i=this._map.mouseEventToLayerPoint(t),u,A,b=this._drawFirst;b;b=b.next)u=b.layer,u.options.interactive&&u._containsPoint(i)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(u))&&(A=u);this._fireEvent(A?[A]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var i=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,i)}},_handleMouseOut:function(t){var i=this._hoveredLayer;i&&(Bt(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,i){if(!this._mouseHoverThrottled){for(var u,A,b=this._drawFirst;b;b=b.next)u=b.layer,u.options.interactive&&u._containsPoint(i)&&(A=u);A!==this._hoveredLayer&&(this._handleMouseOut(t),A&&($e(this._container,"leaflet-interactive"),this._fireEvent([A],t,"mouseover"),this._hoveredLayer=A)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,i,u){this._map._fireDOMEvent(i,u||i.type,t)},_bringToFront:function(t){var i=t._order;if(i){var u=i.next,A=i.prev;if(u)u.prev=A;else return;A?A.next=u:u&&(this._drawFirst=u),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(t)}},_bringToBack:function(t){var i=t._order;if(i){var u=i.next,A=i.prev;if(A)A.next=u;else return;u?u.prev=A:A&&(this._drawLast=A),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(t)}}});function ga(t){return Pe.canvas?new Aa(t):null}var Oi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Fl={_initContainer:function(){this._container=Je("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ur.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var i=t._container=Oi("shape");$e(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",t._path=Oi("path"),i.appendChild(t._path),this._updateStyle(t),this._layers[x(t)]=t},_addPath:function(t){var i=t._container;this._container.appendChild(i),t.options.interactive&&t.addInteractiveTarget(i)},_removePath:function(t){var i=t._container;Tt(i),t.removeInteractiveTarget(i),delete this._layers[x(t)]},_updateStyle:function(t){var i=t._stroke,u=t._fill,A=t.options,b=t._container;b.stroked=!!A.stroke,b.filled=!!A.fill,A.stroke?(i||(i=t._stroke=Oi("stroke")),b.appendChild(i),i.weight=A.weight+"px",i.color=A.color,i.opacity=A.opacity,A.dashArray?i.dashStyle=k(A.dashArray)?A.dashArray.join(" "):A.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=A.lineCap.replace("butt","flat"),i.joinstyle=A.lineJoin):i&&(b.removeChild(i),t._stroke=null),A.fill?(u||(u=t._fill=Oi("fill")),b.appendChild(u),u.color=A.fillColor||A.color,u.opacity=A.fillOpacity):u&&(b.removeChild(u),t._fill=null)},_updateCircle:function(t){var i=t._point.round(),u=Math.round(t._radius),A=Math.round(t._radiusY||u);this._setPath(t,t._empty()?"M0 0":"AL "+i.x+","+i.y+" "+u+","+A+" 0,"+65535*360)},_setPath:function(t,i){t._path.v=i},_bringToFront:function(t){Ci(t._container)},_bringToBack:function(t){vr(t._container)}},Jn=Pe.vml?Oi:dt,oi=ur.extend({_initContainer:function(){this._container=Jn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Jn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Tt(this._container),bt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ur.prototype._update.call(this);var t=this._bounds,i=t.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(i))&&(this._svgSize=i,u.setAttribute("width",i.x),u.setAttribute("height",i.y)),qt(u,t.min),u.setAttribute("viewBox",[t.min.x,t.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(t){var i=t._path=Jn("path");t.options.className&&$e(i,t.options.className),t.options.interactive&&$e(i,"leaflet-interactive"),this._updateStyle(t),this._layers[x(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){Tt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[x(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var i=t._path,u=t.options;i&&(u.stroke?(i.setAttribute("stroke",u.color),i.setAttribute("stroke-opacity",u.opacity),i.setAttribute("stroke-width",u.weight),i.setAttribute("stroke-linecap",u.lineCap),i.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?i.setAttribute("stroke-dasharray",u.dashArray):i.removeAttribute("stroke-dasharray"),u.dashOffset?i.setAttribute("stroke-dashoffset",u.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),u.fill?(i.setAttribute("fill",u.fillColor||u.color),i.setAttribute("fill-opacity",u.fillOpacity),i.setAttribute("fill-rule",u.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(t,i){this._setPath(t,Mt(t._parts,i))},_updateCircle:function(t){var i=t._point,u=Math.max(Math.round(t._radius),1),A=Math.max(Math.round(t._radiusY),1)||u,b="a"+u+","+A+" 0 1,0 ",O=t._empty()?"M0 0":"M"+(i.x-u)+","+i.y+b+u*2+",0 "+b+-u*2+",0 ";this._setPath(t,O)},_setPath:function(t,i){t._path.setAttribute("d",i)},_bringToFront:function(t){Ci(t._path)},_bringToBack:function(t){vr(t._path)}});Pe.vml&&oi.include(Fl);function gs(t){return Pe.svg||Pe.vml?new oi(t):null}ut.include({getRenderer:function(t){var i=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var i=this._paneRenderers[t];return i===void 0&&(i=this._createRenderer({pane:t}),this._paneRenderers[t]=i),i},_createRenderer:function(t){return this.options.preferCanvas&&ga(t)||gs(t)}});var Nl=Cr.extend({initialize:function(t,i){Cr.prototype.initialize.call(this,this._boundsToLatLngs(t),i)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=X(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function hd(t,i){return new Nl(t,i)}oi.create=Jn,oi.pointsToPath=Mt,ar.geometryToLayer=Fi,ar.coordsToLatLng=ds,ar.coordsToLatLngs=xo,ar.latLngToCoords=fs,ar.latLngsToCoords=hs,ar.getFeature=Ni,ar.asFeature=ps,ut.mergeOptions({boxZoom:!0});var zi=Nn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Ge(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){bt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Tt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ft(),Jo(),this._startPoint=this._map.mouseEventToContainerPoint(t),Ge(document,{contextmenu:Kn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=Je("div","leaflet-zoom-box",this._container),$e(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var i=new D(this._point,this._startPoint),u=i.getSize();qt(this._box,i.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(Tt(this._box),Bt(this._container,"leaflet-crosshair")),Si(),es(),bt(document,{contextmenu:Kn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var i=new $(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ut.addInitHook("addHandler","boxZoom",zi),ut.mergeOptions({doubleClickZoom:!0});var Ll=Nn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var i=this._map,u=i.getZoom(),A=i.options.zoomDelta,b=t.originalEvent.shiftKey?u-A:u+A;i.options.doubleClickZoom==="center"?i.setZoom(b):i.setZoomAround(t.containerPoint,b)}});ut.addInitHook("addHandler","doubleClickZoom",Ll),ut.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var xa=Nn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new $n(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}$e(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Bt(this._map._container,"leaflet-grab"),Bt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=X(this._map.options.maxBounds);this._offsetLimit=Z(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var i=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(i),this._prunePositions(i)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,i){return t-(t-i)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;t.x<i.min.x&&(t.x=this._viscousLimit(t.x,i.min.x)),t.y<i.min.y&&(t.y=this._viscousLimit(t.y,i.min.y)),t.x>i.max.x&&(t.x=this._viscousLimit(t.x,i.max.x)),t.y>i.max.y&&(t.y=this._viscousLimit(t.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,i=Math.round(t/2),u=this._initialWorldOffset,A=this._draggable._newPos.x,b=(A-i+u)%t+i-u,O=(A+i+u)%t-i-u,Q=Math.abs(b+u)<Math.abs(O+u)?b:O;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Q},_onDragEnd:function(t){var i=this._map,u=i.options,A=!u.inertia||t.noInertia||this._times.length<2;if(i.fire("dragend",t),A)i.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),O=(this._lastTime-this._times[0])/1e3,Q=u.easeLinearity,ie=b.multiplyBy(Q/O),ue=ie.distanceTo([0,0]),ge=Math.min(u.inertiaMaxSpeed,ue),Be=ie.multiplyBy(ge/ue),Ue=ge/(u.inertiaDeceleration*Q),tt=Be.multiplyBy(-Ue/2).round();!tt.x&&!tt.y?i.fire("moveend"):(tt=i._limitOffset(tt,i.options.maxBounds),G(function(){i.panBy(tt,{duration:Ue,easeLinearity:Q,noMoveStart:!0,animate:!0})}))}}});ut.addInitHook("addHandler","dragging",xa),ut.mergeOptions({keyboard:!0,keyboardPanDelta:80});var va=Nn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Ge(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),bt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,i=document.documentElement,u=t.scrollTop||i.scrollTop,A=t.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(A,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var i=this._panKeys={},u=this.keyCodes,A,b;for(A=0,b=u.left.length;A<b;A++)i[u.left[A]]=[-1*t,0];for(A=0,b=u.right.length;A<b;A++)i[u.right[A]]=[t,0];for(A=0,b=u.down.length;A<b;A++)i[u.down[A]]=[0,t];for(A=0,b=u.up.length;A<b;A++)i[u.up[A]]=[0,-1*t]},_setZoomDelta:function(t){var i=this._zoomKeys={},u=this.keyCodes,A,b;for(A=0,b=u.zoomIn.length;A<b;A++)i[u.zoomIn[A]]=t;for(A=0,b=u.zoomOut.length;A<b;A++)i[u.zoomOut[A]]=-t},_addHooks:function(){Ge(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){bt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var i=t.keyCode,u=this._map,A;if(i in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(A=this._panKeys[i],t.shiftKey&&(A=ne(A).multiplyBy(3)),u.options.maxBounds&&(A=u._limitOffset(ne(A),u.options.maxBounds)),u.options.worldCopyJump){var b=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(A)));u.panTo(b)}else u.panBy(A)}else if(i in this._zoomKeys)u.setZoom(u.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else if(i===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;Kn(t)}}});ut.addInitHook("addHandler","keyboard",va),ut.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ct=Nn.extend({addHooks:function(){Ge(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){bt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var i=Al(t),u=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var A=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),A),Kn(t)},_performZoom:function(){var t=this._map,i=t.getZoom(),u=this._map.options.zoomSnap||0;t._stop();var A=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(A))))/Math.LN2,O=u?Math.ceil(b/u)*u:b,Q=t._limitZoom(i+(this._delta>0?O:-O))-i;this._delta=0,this._startTime=null,Q&&(t.options.scrollWheelZoom==="center"?t.setZoom(i+Q):t.setZoomAround(this._lastMousePos,i+Q))}});ut.addInitHook("addHandler","scrollWheelZoom",Ct);var ya=600;ut.mergeOptions({tapHold:Pe.touchNative&&Pe.safari&&Pe.mobile,tapTolerance:15});var _o=Nn.extend({addHooks:function(){Ge(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){bt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var i=t.touches[0];this._startPos=this._newPos=new q(i.clientX,i.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(Ge(document,"touchend",zt),Ge(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",i))},this),ya),Ge(document,"touchend touchcancel contextmenu",this._cancel,this),Ge(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){bt(document,"touchend",zt),bt(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),bt(document,"touchend touchcancel contextmenu",this._cancel,this),bt(document,"touchmove",this._onMove,this)},_onMove:function(t){var i=t.touches[0];this._newPos=new q(i.clientX,i.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,i){var u=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY});u._simulated=!0,i.target.dispatchEvent(u)}});ut.addInitHook("addHandler","tapHold",_o),ut.mergeOptions({touchZoom:Pe.touch,bounceAtZoomLimits:!0});var ji=Nn.extend({addHooks:function(){$e(this._map._container,"leaflet-touch-zoom"),Ge(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Bt(this._map._container,"leaflet-touch-zoom"),bt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(!(!t.touches||t.touches.length!==2||i._animatingZoom||this._zooming)){var u=i.mouseEventToContainerPoint(t.touches[0]),A=i.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),i.options.touchZoom!=="center"&&(this._pinchStartLatLng=i.containerPointToLatLng(u.add(A)._divideBy(2))),this._startDist=u.distanceTo(A),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),Ge(document,"touchmove",this._onTouchMove,this),Ge(document,"touchend touchcancel",this._onTouchEnd,this),zt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var i=this._map,u=i.mouseEventToContainerPoint(t.touches[0]),A=i.mouseEventToContainerPoint(t.touches[1]),b=u.distanceTo(A)/this._startDist;if(this._zoom=i.getScaleZoom(b,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&b<1||this._zoom>i.getMaxZoom()&&b>1)&&(this._zoom=i._limitZoom(this._zoom)),i.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var O=u._add(A)._divideBy(2)._subtract(this._centerPoint);if(b===1&&O.x===0&&O.y===0)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(O),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),re(this._animRequest);var Q=m(i._move,i,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=G(Q,this,!0),zt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,re(this._animRequest),bt(document,"touchmove",this._onTouchMove,this),bt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ut.addInitHook("addHandler","touchZoom",ji),ut.BoxZoom=zi,ut.DoubleClickZoom=Ll,ut.Drag=xa,ut.Keyboard=va,ut.ScrollWheelZoom=Ct,ut.TapHold=_o,ut.TouchZoom=ji,s.Bounds=D,s.Browser=Pe,s.CRS=ke,s.Canvas=Aa,s.Circle=us,s.CircleMarker=ls,s.Class=J,s.Control=Bn,s.DivIcon=As,s.DivOverlay=lr,s.DomEvent=rs,s.DomUtil=fo,s.Draggable=$n,s.Evented=de,s.FeatureGroup=wr,s.GeoJSON=ar,s.GridLayer=jr,s.Handler=Nn,s.Icon=ii,s.ImageOverlay=zr,s.LatLng=fe,s.LatLngBounds=$,s.Layer=Yn,s.LayerGroup=Ir,s.LineUtil=bl,s.Map=ut,s.Marker=br,s.Mixin=ra,s.Path=Or,s.Point=q,s.PolyUtil=nd,s.Polygon=Cr,s.Polyline=Pn,s.Popup=ms,s.PosAnimation=is,s.Projection=ad,s.Rectangle=Nl,s.Renderer=ur,s.SVG=oi,s.SVGOverlay=ha,s.TileLayer=Hr,s.Tooltip=Mi,s.Transformation=Et,s.Util=V,s.VideoOverlay=fa,s.bind=m,s.bounds=Z,s.canvas=ga,s.circle=go,s.circleMarker=Sl,s.control=Mr,s.divIcon=Dl,s.extend=f,s.featureGroup=El,s.geoJSON=Bl,s.geoJson=Xn,s.gridLayer=Ii,s.icon=kl,s.imageOverlay=Pl,s.latLng=he,s.latLngBounds=X,s.layerGroup=Ao,s.map=Lr,s.marker=cd,s.point=ne,s.polygon=fd,s.polyline=dd,s.popup=Li,s.rectangle=hd,s.setOptions=C,s.stamp=x,s.svg=gs,s.svgOverlay=pa,s.tileLayer=ma,s.tooltip=vo,s.transformation=ht,s.version=l,s.videoOverlay=Tl;var Ml=window.L;s.noConflict=function(){return window.L=Ml,this},window.L=s}))})(Ja,Ja.exports)),Ja.exports}var qc=y2();function v0(r,a,s){return Object.freeze({instance:r,context:a,container:s})}function y0(r,a){return a==null?function(l,f){const d=R.useRef();return d.current||(d.current=r(l,f)),d}:function(l,f){const d=R.useRef();d.current||(d.current=r(l,f));const m=R.useRef(l),{instance:h}=d.current;return R.useEffect(function(){m.current!==l&&(a(h,l,m.current),m.current=l)},[h,l,f]),d}}function ox(r,a){R.useEffect(function(){return(a.layerContainer??a.map).addLayer(r.instance),function(){var d;(d=a.layerContainer)==null||d.removeLayer(r.instance),a.map.removeLayer(r.instance)}},[a,r])}function _2(r){return function(s){const l=Zc(),f=r(Wc(s,l),l);return nx(l.map,s.attribution),x0(f.current,s.eventHandlers),ox(f.current,l),f}}function w2(r,a){const s=R.useRef();R.useEffect(function(){if(a.pathOptions!==s.current){const f=a.pathOptions??{};r.instance.setStyle(f),s.current=f}},[r,a])}function b2(r){return function(s){const l=Zc(),f=r(Wc(s,l),l);return x0(f.current,s.eventHandlers),ox(f.current,l),w2(f.current,s),f}}function C2(r,a){const s=y0(r),l=x2(s,a);return A2(l)}function E2(r,a){const s=y0(r,a),l=b2(s);return m2(l)}function k2(r,a){const s=y0(r,a),l=_2(s);return g2(l)}function S2(r,a,s){const{opacity:l,zIndex:f}=a;l!=null&&l!==s.opacity&&r.setOpacity(l),f!=null&&f!==s.zIndex&&r.setZIndex(f)}function B2(){return Zc().map}const P2=E2(function({center:a,children:s,...l},f){const d=new qc.CircleMarker(a,l);return v0(d,p2(f,{overlayContainer:d}))},d2);function Kf(){return Kf=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(r[l]=s[l])}return r},Kf.apply(this,arguments)}function T2({bounds:r,boundsOptions:a,center:s,children:l,className:f,id:d,placeholder:m,style:h,whenReady:x,zoom:p,...y},v){const[w]=R.useState({className:f,id:d,style:h}),[S,T]=R.useState(null);R.useImperativeHandle(v,()=>(S==null?void 0:S.map)??null,[S]);const C=R.useCallback(P=>{if(P!==null&&S===null){const B=new qc.Map(P,y);s!=null&&p!=null?B.setView(s,p):r!=null&&B.fitBounds(r,a),x!=null&&B.whenReady(x),T(h2(B))}},[]);R.useEffect(()=>()=>{S==null||S.map.remove()},[S]);const E=S?be.createElement(ix,{value:S},l):m??null;return be.createElement("div",Kf({},w,{ref:C}),E)}const D2=R.forwardRef(T2),R2=C2(function(a,s){const l=new qc.Popup(a,s.overlayContainer);return v0(l,s)},function(a,s,{position:l},f){R.useEffect(function(){const{instance:m}=a;function h(p){p.popup===m&&(m.update(),f(!0))}function x(p){p.popup===m&&f(!1)}return s.map.on({popupopen:h,popupclose:x}),s.overlayContainer==null?(l!=null&&m.setLatLng(l),m.openOn(s.map)):s.overlayContainer.bindPopup(m),function(){var y;s.map.off({popupopen:h,popupclose:x}),(y=s.overlayContainer)==null||y.unbindPopup(),s.map.removeLayer(m)}},[a,s,f,l])}),F2=k2(function({url:a,...s},l){const f=new qc.TileLayer(a,Wc(s,l));return v0(f,l)},function(a,s,l){S2(a,s,l);const{url:f}=s;f!=null&&f!==l.url&&a.setUrl(f)});function N2(r){const s=Date.now()/1e3-r,l=3600,f=86400;return s<l?"#22c55e":s<f?"#4ade80":s<3*f?"#a3e635":"#9ca3af"}function L2({contacts:r}){const a=B2(),[s,l]=R.useState(!1);return R.useEffect(()=>{if(s)return;const f=()=>{if(r.length===0){a.setView([20,0],2),l(!0);return}if(r.length===1){a.setView([r[0].lat,r[0].lon],10),l(!0);return}const d=r.map(m=>[m.lat,m.lon]);a.fitBounds(d,{padding:[50,50],maxZoom:12}),l(!0)};"geolocation"in navigator?navigator.geolocation.getCurrentPosition(d=>{a.setView([d.coords.latitude,d.coords.longitude],8),l(!0)},()=>{f()},{timeout:5e3,maximumAge:3e5}):f()},[a,r,s]),null}function M2({contacts:r}){const a=R.useMemo(()=>{const s=Date.now()/1e3-604800;return r.filter(l=>l.lat!=null&&l.lon!=null&&l.last_seen!=null&&l.last_seen>s)},[r]);return F.jsxs("div",{className:"flex flex-col h-full",children:[F.jsxs("div",{className:"px-4 py-2 bg-muted/50 text-xs text-muted-foreground flex items-center justify-between",children:[F.jsxs("span",{children:["Showing ",a.length," contact",a.length!==1?"s":""," heard in the last 7 days"]}),F.jsxs("div",{className:"flex items-center gap-3",children:[F.jsxs("span",{className:"flex items-center gap-1",children:[F.jsx("span",{className:"w-3 h-3 rounded-full bg-[#22c55e]"})," <1h"]}),F.jsxs("span",{className:"flex items-center gap-1",children:[F.jsx("span",{className:"w-3 h-3 rounded-full bg-[#4ade80]"})," <1d"]}),F.jsxs("span",{className:"flex items-center gap-1",children:[F.jsx("span",{className:"w-3 h-3 rounded-full bg-[#a3e635]"})," <3d"]}),F.jsxs("span",{className:"flex items-center gap-1",children:[F.jsx("span",{className:"w-3 h-3 rounded-full bg-[#9ca3af]"})," older"]})]})]}),F.jsx("div",{className:"flex-1 relative",style:{zIndex:0},children:F.jsxs(D2,{center:[20,0],zoom:2,className:"h-full w-full",style:{background:"#1a1a2e"},children:[F.jsx(F2,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),F.jsx(L2,{contacts:a}),a.map(s=>{const l=s.type===o0,f=N2(s.last_seen),d=s.name||s.public_key.slice(0,12);return F.jsx(P2,{center:[s.lat,s.lon],radius:l?10:7,pathOptions:{color:l?f:"#000",fillColor:f,fillOpacity:.8,weight:l?0:1},children:F.jsx(R2,{children:F.jsxs("div",{className:"text-sm",children:[F.jsxs("div",{className:"font-medium flex items-center gap-1",children:[l&&F.jsx("span",{title:"Repeater",children:""}),d]}),F.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Last heard: ",Ec(s.last_seen)]}),F.jsxs("div",{className:"text-xs text-gray-400 mt-1 font-mono",children:[s.lat.toFixed(5),", ",s.lon.toFixed(5)]})]})})},s.public_key)})]})})]})}const I2="modulepreload",O2=function(r){return"/"+r},Yp={},z2=function(a,s,l){let f=Promise.resolve();if(s&&s.length>0){let m=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),x=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));f=m(s.map(p=>{if(p=O2(p),p in Yp)return;Yp[p]=!0;const y=p.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":I2,y||(w.as="script"),w.crossOrigin="",w.href=p,x&&w.setAttribute("nonce",x),document.head.appendChild(w),y)return new Promise((S,T)=>{w.addEventListener("load",S),w.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${p}`)))})}))}function d(m){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=m,window.dispatchEvent(h),!h.defaultPrevented)throw m}return f.then(m=>{for(const h of m||[])h.status==="rejected"&&d(h.reason);return a().catch(d)})};var xi={},Oa={},An={},Xp;function ir(){if(Xp)return An;Xp=1,Object.defineProperty(An,"__esModule",{value:!0}),An.RequestType=An.AdvertFlags=An.DeviceRole=An.PayloadVersion=An.ControlSubType=An.PayloadType=An.RouteType=void 0;var r;(function(h){h[h.TransportFlood=0]="TransportFlood",h[h.Flood=1]="Flood",h[h.Direct=2]="Direct",h[h.TransportDirect=3]="TransportDirect"})(r||(An.RouteType=r={}));var a;(function(h){h[h.Request=0]="Request",h[h.Response=1]="Response",h[h.TextMessage=2]="TextMessage",h[h.Ack=3]="Ack",h[h.Advert=4]="Advert",h[h.GroupText=5]="GroupText",h[h.GroupData=6]="GroupData",h[h.AnonRequest=7]="AnonRequest",h[h.Path=8]="Path",h[h.Trace=9]="Trace",h[h.Multipart=10]="Multipart",h[h.Control=11]="Control",h[h.RawCustom=15]="RawCustom"})(a||(An.PayloadType=a={}));var s;(function(h){h[h.NodeDiscoverReq=128]="NodeDiscoverReq",h[h.NodeDiscoverResp=144]="NodeDiscoverResp"})(s||(An.ControlSubType=s={}));var l;(function(h){h[h.Version1=0]="Version1",h[h.Version2=1]="Version2",h[h.Version3=2]="Version3",h[h.Version4=3]="Version4"})(l||(An.PayloadVersion=l={}));var f;(function(h){h[h.Unknown=0]="Unknown",h[h.ChatNode=1]="ChatNode",h[h.Repeater=2]="Repeater",h[h.RoomServer=3]="RoomServer",h[h.Sensor=4]="Sensor"})(f||(An.DeviceRole=f={}));var d;(function(h){h[h.HasLocation=16]="HasLocation",h[h.HasFeature1=32]="HasFeature1",h[h.HasFeature2=64]="HasFeature2",h[h.HasName=128]="HasName"})(d||(An.AdvertFlags=d={}));var m;return(function(h){h[h.GetStats=1]="GetStats",h[h.Keepalive=2]="Keepalive",h[h.GetTelemetryData=3]="GetTelemetryData",h[h.GetMinMaxAvgData=4]="GetMinMaxAvgData",h[h.GetAccessList=5]="GetAccessList"})(m||(An.RequestType=m={})),An}var Mo={},Jp;function gn(){if(Jp)return Mo;Jp=1,Object.defineProperty(Mo,"__esModule",{value:!0}),Mo.byteToHex=r,Mo.bytesToHex=a,Mo.numberToHex=s,Mo.hexToBytes=l;function r(f){return f.toString(16).padStart(2,"0").toUpperCase()}function a(f){return Array.from(f).map(r).join("")}function s(f,d=8){return(f>>>0).toString(16).padStart(d,"0").toUpperCase()}function l(f){const d=f.replace(/\s/g,"").toUpperCase();if(!/^[0-9A-F]*$/.test(d))throw new Error("Invalid hex string: invalid characters at position 0");if(d.length%2!==0)throw new Error("Invalid hex string: odd length");const m=new Uint8Array(d.length/2);for(let h=0;h<d.length;h+=2)m[h/2]=parseInt(d.substr(h,2),16);return m}return Mo}var vi={},em;function nl(){if(em)return vi;em=1,Object.defineProperty(vi,"__esModule",{value:!0}),vi.getRouteTypeName=a,vi.getPayloadTypeName=s,vi.getPayloadVersionName=l,vi.getDeviceRoleName=f,vi.getRequestTypeName=d,vi.getControlSubTypeName=m;const r=ir();function a(h){switch(h){case r.RouteType.Flood:return"Flood";case r.RouteType.Direct:return"Direct";case r.RouteType.TransportFlood:return"TransportFlood";case r.RouteType.TransportDirect:return"TransportDirect";default:return`Unknown (${h})`}}function s(h){switch(h){case r.PayloadType.RawCustom:return"RawCustom";case r.PayloadType.Trace:return"Trace";case r.PayloadType.Advert:return"Advert";case r.PayloadType.GroupText:return"GroupText";case r.PayloadType.GroupData:return"GroupData";case r.PayloadType.Request:return"Request";case r.PayloadType.Response:return"Response";case r.PayloadType.TextMessage:return"TextMessage";case r.PayloadType.AnonRequest:return"AnonRequest";case r.PayloadType.Ack:return"Ack";case r.PayloadType.Path:return"Path";case r.PayloadType.Multipart:return"Multipart";case r.PayloadType.Control:return"Control";default:return`Unknown (0x${h.toString(16)})`}}function l(h){switch(h){case r.PayloadVersion.Version1:return"Version 1";case r.PayloadVersion.Version2:return"Version 2";case r.PayloadVersion.Version3:return"Version 3";case r.PayloadVersion.Version4:return"Version 4";default:return`Unknown (${h})`}}function f(h){switch(h){case r.DeviceRole.Unknown:return"Unknown";case r.DeviceRole.ChatNode:return"Chat Node";case r.DeviceRole.Repeater:return"Repeater";case r.DeviceRole.RoomServer:return"Room Server";case r.DeviceRole.Sensor:return"Sensor";default:return`Unknown (${h})`}}function d(h){switch(h){case r.RequestType.GetStats:return"Get Stats";case r.RequestType.Keepalive:return"Keepalive (deprecated)";case r.RequestType.GetTelemetryData:return"Get Telemetry Data";case r.RequestType.GetMinMaxAvgData:return"Get Min/Max/Avg Data";case r.RequestType.GetAccessList:return"Get Access List";default:return`Unknown (${h})`}}function m(h){switch(h){case r.ControlSubType.NodeDiscoverReq:return"Node Discover Request";case r.ControlSubType.NodeDiscoverResp:return"Node Discover Response";default:return`Unknown (0x${h.toString(16)})`}}return vi}var za={},ja={},Iu={exports:{}};function $f(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ou={exports:{}};const j2={},H2=Object.freeze(Object.defineProperty({__proto__:null,default:j2},Symbol.toStringTag,{value:"Module"})),Sc=xA(H2);var V2=Ou.exports,tm;function ct(){return tm||(tm=1,(function(r,a){(function(s,l){r.exports=l()})(V2,function(){var s=s||(function(l,f){var d;if(typeof window<"u"&&window.crypto&&(d=window.crypto),typeof self<"u"&&self.crypto&&(d=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(d=globalThis.crypto),!d&&typeof window<"u"&&window.msCrypto&&(d=window.msCrypto),!d&&typeof yf<"u"&&yf.crypto&&(d=yf.crypto),!d&&typeof $f=="function")try{d=Sc}catch{}var m=function(){if(d){if(typeof d.getRandomValues=="function")try{return d.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof d.randomBytes=="function")try{return d.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},h=Object.create||(function(){function B(){}return function(k){var I;return B.prototype=k,I=new B,B.prototype=null,I}})(),x={},p=x.lib={},y=p.Base=(function(){return{extend:function(B){var k=h(this);return B&&k.mixIn(B),(!k.hasOwnProperty("init")||this.init===k.init)&&(k.init=function(){k.$super.init.apply(this,arguments)}),k.init.prototype=k,k.$super=this,k},create:function(){var B=this.extend();return B.init.apply(B,arguments),B},init:function(){},mixIn:function(B){for(var k in B)B.hasOwnProperty(k)&&(this[k]=B[k]);B.hasOwnProperty("toString")&&(this.toString=B.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),v=p.WordArray=y.extend({init:function(B,k){B=this.words=B||[],k!=f?this.sigBytes=k:this.sigBytes=B.length*4},toString:function(B){return(B||S).stringify(this)},concat:function(B){var k=this.words,I=B.words,N=this.sigBytes,z=B.sigBytes;if(this.clamp(),N%4)for(var j=0;j<z;j++){var H=I[j>>>2]>>>24-j%4*8&255;k[N+j>>>2]|=H<<24-(N+j)%4*8}else for(var K=0;K<z;K+=4)k[N+K>>>2]=I[K>>>2];return this.sigBytes+=z,this},clamp:function(){var B=this.words,k=this.sigBytes;B[k>>>2]&=4294967295<<32-k%4*8,B.length=l.ceil(k/4)},clone:function(){var B=y.clone.call(this);return B.words=this.words.slice(0),B},random:function(B){for(var k=[],I=0;I<B;I+=4)k.push(m());return new v.init(k,B)}}),w=x.enc={},S=w.Hex={stringify:function(B){for(var k=B.words,I=B.sigBytes,N=[],z=0;z<I;z++){var j=k[z>>>2]>>>24-z%4*8&255;N.push((j>>>4).toString(16)),N.push((j&15).toString(16))}return N.join("")},parse:function(B){for(var k=B.length,I=[],N=0;N<k;N+=2)I[N>>>3]|=parseInt(B.substr(N,2),16)<<24-N%8*4;return new v.init(I,k/2)}},T=w.Latin1={stringify:function(B){for(var k=B.words,I=B.sigBytes,N=[],z=0;z<I;z++){var j=k[z>>>2]>>>24-z%4*8&255;N.push(String.fromCharCode(j))}return N.join("")},parse:function(B){for(var k=B.length,I=[],N=0;N<k;N++)I[N>>>2]|=(B.charCodeAt(N)&255)<<24-N%4*8;return new v.init(I,k)}},C=w.Utf8={stringify:function(B){try{return decodeURIComponent(escape(T.stringify(B)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(B){return T.parse(unescape(encodeURIComponent(B)))}},E=p.BufferedBlockAlgorithm=y.extend({reset:function(){this._data=new v.init,this._nDataBytes=0},_append:function(B){typeof B=="string"&&(B=C.parse(B)),this._data.concat(B),this._nDataBytes+=B.sigBytes},_process:function(B){var k,I=this._data,N=I.words,z=I.sigBytes,j=this.blockSize,H=j*4,K=z/H;B?K=l.ceil(K):K=l.max((K|0)-this._minBufferSize,0);var U=K*j,G=l.min(U*4,z);if(U){for(var re=0;re<U;re+=j)this._doProcessBlock(N,re);k=N.splice(0,U),I.sigBytes-=G}return new v.init(k,G)},clone:function(){var B=y.clone.call(this);return B._data=this._data.clone(),B},_minBufferSize:0});p.Hasher=E.extend({cfg:y.extend(),init:function(B){this.cfg=this.cfg.extend(B),this.reset()},reset:function(){E.reset.call(this),this._doReset()},update:function(B){return this._append(B),this._process(),this},finalize:function(B){B&&this._append(B);var k=this._doFinalize();return k},blockSize:16,_createHelper:function(B){return function(k,I){return new B.init(I).finalize(k)}},_createHmacHelper:function(B){return function(k,I){return new P.HMAC.init(B,I).finalize(k)}}});var P=x.algo={};return x})(Math);return s})})(Ou)),Ou.exports}var zu={exports:{}},U2=zu.exports,nm;function Gc(){return nm||(nm=1,(function(r,a){(function(s,l){r.exports=l(ct())})(U2,function(s){return(function(l){var f=s,d=f.lib,m=d.Base,h=d.WordArray,x=f.x64={};x.Word=m.extend({init:function(p,y){this.high=p,this.low=y}}),x.WordArray=m.extend({init:function(p,y){p=this.words=p||[],y!=l?this.sigBytes=y:this.sigBytes=p.length*8},toX32:function(){for(var p=this.words,y=p.length,v=[],w=0;w<y;w++){var S=p[w];v.push(S.high),v.push(S.low)}return h.create(v,this.sigBytes)},clone:function(){for(var p=m.clone.call(this),y=p.words=this.words.slice(0),v=y.length,w=0;w<v;w++)y[w]=y[w].clone();return p}})})(),s})})(zu)),zu.exports}var ju={exports:{}},Z2=ju.exports,rm;function W2(){return rm||(rm=1,(function(r,a){(function(s,l){r.exports=l(ct())})(Z2,function(s){return(function(){if(typeof ArrayBuffer=="function"){var l=s,f=l.lib,d=f.WordArray,m=d.init,h=d.init=function(x){if(x instanceof ArrayBuffer&&(x=new Uint8Array(x)),(x instanceof Int8Array||typeof Uint8ClampedArray<"u"&&x instanceof Uint8ClampedArray||x instanceof Int16Array||x instanceof Uint16Array||x instanceof Int32Array||x instanceof Uint32Array||x instanceof Float32Array||x instanceof Float64Array)&&(x=new Uint8Array(x.buffer,x.byteOffset,x.byteLength)),x instanceof Uint8Array){for(var p=x.byteLength,y=[],v=0;v<p;v++)y[v>>>2]|=x[v]<<24-v%4*8;m.call(this,y,p)}else m.apply(this,arguments)};h.prototype=d}})(),s.lib.WordArray})})(ju)),ju.exports}var Hu={exports:{}},q2=Hu.exports,im;function G2(){return im||(im=1,(function(r,a){(function(s,l){r.exports=l(ct())})(q2,function(s){return(function(){var l=s,f=l.lib,d=f.WordArray,m=l.enc;m.Utf16=m.Utf16BE={stringify:function(x){for(var p=x.words,y=x.sigBytes,v=[],w=0;w<y;w+=2){var S=p[w>>>2]>>>16-w%4*8&65535;v.push(String.fromCharCode(S))}return v.join("")},parse:function(x){for(var p=x.length,y=[],v=0;v<p;v++)y[v>>>1]|=x.charCodeAt(v)<<16-v%2*16;return d.create(y,p*2)}},m.Utf16LE={stringify:function(x){for(var p=x.words,y=x.sigBytes,v=[],w=0;w<y;w+=2){var S=h(p[w>>>2]>>>16-w%4*8&65535);v.push(String.fromCharCode(S))}return v.join("")},parse:function(x){for(var p=x.length,y=[],v=0;v<p;v++)y[v>>>1]|=h(x.charCodeAt(v)<<16-v%2*16);return d.create(y,p*2)}};function h(x){return x<<8&4278255360|x>>>8&16711935}})(),s.enc.Utf16})})(Hu)),Hu.exports}var Vu={exports:{}},Q2=Vu.exports,om;function Wo(){return om||(om=1,(function(r,a){(function(s,l){r.exports=l(ct())})(Q2,function(s){return(function(){var l=s,f=l.lib,d=f.WordArray,m=l.enc;m.Base64={stringify:function(x){var p=x.words,y=x.sigBytes,v=this._map;x.clamp();for(var w=[],S=0;S<y;S+=3)for(var T=p[S>>>2]>>>24-S%4*8&255,C=p[S+1>>>2]>>>24-(S+1)%4*8&255,E=p[S+2>>>2]>>>24-(S+2)%4*8&255,P=T<<16|C<<8|E,B=0;B<4&&S+B*.75<y;B++)w.push(v.charAt(P>>>6*(3-B)&63));var k=v.charAt(64);if(k)for(;w.length%4;)w.push(k);return w.join("")},parse:function(x){var p=x.length,y=this._map,v=this._reverseMap;if(!v){v=this._reverseMap=[];for(var w=0;w<y.length;w++)v[y.charCodeAt(w)]=w}var S=y.charAt(64);if(S){var T=x.indexOf(S);T!==-1&&(p=T)}return h(x,p,v)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function h(x,p,y){for(var v=[],w=0,S=0;S<p;S++)if(S%4){var T=y[x.charCodeAt(S-1)]<<S%4*2,C=y[x.charCodeAt(S)]>>>6-S%4*2,E=T|C;v[w>>>2]|=E<<24-w%4*8,w++}return d.create(v,w)}})(),s.enc.Base64})})(Vu)),Vu.exports}var Uu={exports:{}},K2=Uu.exports,sm;function $2(){return sm||(sm=1,(function(r,a){(function(s,l){r.exports=l(ct())})(K2,function(s){return(function(){var l=s,f=l.lib,d=f.WordArray,m=l.enc;m.Base64url={stringify:function(x,p){p===void 0&&(p=!0);var y=x.words,v=x.sigBytes,w=p?this._safe_map:this._map;x.clamp();for(var S=[],T=0;T<v;T+=3)for(var C=y[T>>>2]>>>24-T%4*8&255,E=y[T+1>>>2]>>>24-(T+1)%4*8&255,P=y[T+2>>>2]>>>24-(T+2)%4*8&255,B=C<<16|E<<8|P,k=0;k<4&&T+k*.75<v;k++)S.push(w.charAt(B>>>6*(3-k)&63));var I=w.charAt(64);if(I)for(;S.length%4;)S.push(I);return S.join("")},parse:function(x,p){p===void 0&&(p=!0);var y=x.length,v=p?this._safe_map:this._map,w=this._reverseMap;if(!w){w=this._reverseMap=[];for(var S=0;S<v.length;S++)w[v.charCodeAt(S)]=S}var T=v.charAt(64);if(T){var C=x.indexOf(T);C!==-1&&(y=C)}return h(x,y,w)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function h(x,p,y){for(var v=[],w=0,S=0;S<p;S++)if(S%4){var T=y[x.charCodeAt(S-1)]<<S%4*2,C=y[x.charCodeAt(S)]>>>6-S%4*2,E=T|C;v[w>>>2]|=E<<24-w%4*8,w++}return d.create(v,w)}})(),s.enc.Base64url})})(Uu)),Uu.exports}var Zu={exports:{}},Y2=Zu.exports,am;function qo(){return am||(am=1,(function(r,a){(function(s,l){r.exports=l(ct())})(Y2,function(s){return(function(l){var f=s,d=f.lib,m=d.WordArray,h=d.Hasher,x=f.algo,p=[];(function(){for(var C=0;C<64;C++)p[C]=l.abs(l.sin(C+1))*4294967296|0})();var y=x.MD5=h.extend({_doReset:function(){this._hash=new m.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(C,E){for(var P=0;P<16;P++){var B=E+P,k=C[B];C[B]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360}var I=this._hash.words,N=C[E+0],z=C[E+1],j=C[E+2],H=C[E+3],K=C[E+4],U=C[E+5],G=C[E+6],re=C[E+7],V=C[E+8],J=C[E+9],le=C[E+10],oe=C[E+11],de=C[E+12],q=C[E+13],me=C[E+14],ne=C[E+15],D=I[0],Z=I[1],$=I[2],X=I[3];D=v(D,Z,$,X,N,7,p[0]),X=v(X,D,Z,$,z,12,p[1]),$=v($,X,D,Z,j,17,p[2]),Z=v(Z,$,X,D,H,22,p[3]),D=v(D,Z,$,X,K,7,p[4]),X=v(X,D,Z,$,U,12,p[5]),$=v($,X,D,Z,G,17,p[6]),Z=v(Z,$,X,D,re,22,p[7]),D=v(D,Z,$,X,V,7,p[8]),X=v(X,D,Z,$,J,12,p[9]),$=v($,X,D,Z,le,17,p[10]),Z=v(Z,$,X,D,oe,22,p[11]),D=v(D,Z,$,X,de,7,p[12]),X=v(X,D,Z,$,q,12,p[13]),$=v($,X,D,Z,me,17,p[14]),Z=v(Z,$,X,D,ne,22,p[15]),D=w(D,Z,$,X,z,5,p[16]),X=w(X,D,Z,$,G,9,p[17]),$=w($,X,D,Z,oe,14,p[18]),Z=w(Z,$,X,D,N,20,p[19]),D=w(D,Z,$,X,U,5,p[20]),X=w(X,D,Z,$,le,9,p[21]),$=w($,X,D,Z,ne,14,p[22]),Z=w(Z,$,X,D,K,20,p[23]),D=w(D,Z,$,X,J,5,p[24]),X=w(X,D,Z,$,me,9,p[25]),$=w($,X,D,Z,H,14,p[26]),Z=w(Z,$,X,D,V,20,p[27]),D=w(D,Z,$,X,q,5,p[28]),X=w(X,D,Z,$,j,9,p[29]),$=w($,X,D,Z,re,14,p[30]),Z=w(Z,$,X,D,de,20,p[31]),D=S(D,Z,$,X,U,4,p[32]),X=S(X,D,Z,$,V,11,p[33]),$=S($,X,D,Z,oe,16,p[34]),Z=S(Z,$,X,D,me,23,p[35]),D=S(D,Z,$,X,z,4,p[36]),X=S(X,D,Z,$,K,11,p[37]),$=S($,X,D,Z,re,16,p[38]),Z=S(Z,$,X,D,le,23,p[39]),D=S(D,Z,$,X,q,4,p[40]),X=S(X,D,Z,$,N,11,p[41]),$=S($,X,D,Z,H,16,p[42]),Z=S(Z,$,X,D,G,23,p[43]),D=S(D,Z,$,X,J,4,p[44]),X=S(X,D,Z,$,de,11,p[45]),$=S($,X,D,Z,ne,16,p[46]),Z=S(Z,$,X,D,j,23,p[47]),D=T(D,Z,$,X,N,6,p[48]),X=T(X,D,Z,$,re,10,p[49]),$=T($,X,D,Z,me,15,p[50]),Z=T(Z,$,X,D,U,21,p[51]),D=T(D,Z,$,X,de,6,p[52]),X=T(X,D,Z,$,H,10,p[53]),$=T($,X,D,Z,le,15,p[54]),Z=T(Z,$,X,D,z,21,p[55]),D=T(D,Z,$,X,V,6,p[56]),X=T(X,D,Z,$,ne,10,p[57]),$=T($,X,D,Z,G,15,p[58]),Z=T(Z,$,X,D,q,21,p[59]),D=T(D,Z,$,X,K,6,p[60]),X=T(X,D,Z,$,oe,10,p[61]),$=T($,X,D,Z,j,15,p[62]),Z=T(Z,$,X,D,J,21,p[63]),I[0]=I[0]+D|0,I[1]=I[1]+Z|0,I[2]=I[2]+$|0,I[3]=I[3]+X|0},_doFinalize:function(){var C=this._data,E=C.words,P=this._nDataBytes*8,B=C.sigBytes*8;E[B>>>5]|=128<<24-B%32;var k=l.floor(P/4294967296),I=P;E[(B+64>>>9<<4)+15]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,E[(B+64>>>9<<4)+14]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,C.sigBytes=(E.length+1)*4,this._process();for(var N=this._hash,z=N.words,j=0;j<4;j++){var H=z[j];z[j]=(H<<8|H>>>24)&16711935|(H<<24|H>>>8)&4278255360}return N},clone:function(){var C=h.clone.call(this);return C._hash=this._hash.clone(),C}});function v(C,E,P,B,k,I,N){var z=C+(E&P|~E&B)+k+N;return(z<<I|z>>>32-I)+E}function w(C,E,P,B,k,I,N){var z=C+(E&B|P&~B)+k+N;return(z<<I|z>>>32-I)+E}function S(C,E,P,B,k,I,N){var z=C+(E^P^B)+k+N;return(z<<I|z>>>32-I)+E}function T(C,E,P,B,k,I,N){var z=C+(P^(E|~B))+k+N;return(z<<I|z>>>32-I)+E}f.MD5=h._createHelper(y),f.HmacMD5=h._createHmacHelper(y)})(Math),s.MD5})})(Zu)),Zu.exports}var Wu={exports:{}},X2=Wu.exports,lm;function sx(){return lm||(lm=1,(function(r,a){(function(s,l){r.exports=l(ct())})(X2,function(s){return(function(){var l=s,f=l.lib,d=f.WordArray,m=f.Hasher,h=l.algo,x=[],p=h.SHA1=m.extend({_doReset:function(){this._hash=new d.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(y,v){for(var w=this._hash.words,S=w[0],T=w[1],C=w[2],E=w[3],P=w[4],B=0;B<80;B++){if(B<16)x[B]=y[v+B]|0;else{var k=x[B-3]^x[B-8]^x[B-14]^x[B-16];x[B]=k<<1|k>>>31}var I=(S<<5|S>>>27)+P+x[B];B<20?I+=(T&C|~T&E)+1518500249:B<40?I+=(T^C^E)+1859775393:B<60?I+=(T&C|T&E|C&E)-1894007588:I+=(T^C^E)-899497514,P=E,E=C,C=T<<30|T>>>2,T=S,S=I}w[0]=w[0]+S|0,w[1]=w[1]+T|0,w[2]=w[2]+C|0,w[3]=w[3]+E|0,w[4]=w[4]+P|0},_doFinalize:function(){var y=this._data,v=y.words,w=this._nDataBytes*8,S=y.sigBytes*8;return v[S>>>5]|=128<<24-S%32,v[(S+64>>>9<<4)+14]=Math.floor(w/4294967296),v[(S+64>>>9<<4)+15]=w,y.sigBytes=v.length*4,this._process(),this._hash},clone:function(){var y=m.clone.call(this);return y._hash=this._hash.clone(),y}});l.SHA1=m._createHelper(p),l.HmacSHA1=m._createHmacHelper(p)})(),s.SHA1})})(Wu)),Wu.exports}var qu={exports:{}},J2=qu.exports,um;function ll(){return um||(um=1,(function(r,a){(function(s,l){r.exports=l(ct())})(J2,function(s){return(function(l){var f=s,d=f.lib,m=d.WordArray,h=d.Hasher,x=f.algo,p=[],y=[];(function(){function S(P){for(var B=l.sqrt(P),k=2;k<=B;k++)if(!(P%k))return!1;return!0}function T(P){return(P-(P|0))*4294967296|0}for(var C=2,E=0;E<64;)S(C)&&(E<8&&(p[E]=T(l.pow(C,1/2))),y[E]=T(l.pow(C,1/3)),E++),C++})();var v=[],w=x.SHA256=h.extend({_doReset:function(){this._hash=new m.init(p.slice(0))},_doProcessBlock:function(S,T){for(var C=this._hash.words,E=C[0],P=C[1],B=C[2],k=C[3],I=C[4],N=C[5],z=C[6],j=C[7],H=0;H<64;H++){if(H<16)v[H]=S[T+H]|0;else{var K=v[H-15],U=(K<<25|K>>>7)^(K<<14|K>>>18)^K>>>3,G=v[H-2],re=(G<<15|G>>>17)^(G<<13|G>>>19)^G>>>10;v[H]=U+v[H-7]+re+v[H-16]}var V=I&N^~I&z,J=E&P^E&B^P&B,le=(E<<30|E>>>2)^(E<<19|E>>>13)^(E<<10|E>>>22),oe=(I<<26|I>>>6)^(I<<21|I>>>11)^(I<<7|I>>>25),de=j+oe+V+y[H]+v[H],q=le+J;j=z,z=N,N=I,I=k+de|0,k=B,B=P,P=E,E=de+q|0}C[0]=C[0]+E|0,C[1]=C[1]+P|0,C[2]=C[2]+B|0,C[3]=C[3]+k|0,C[4]=C[4]+I|0,C[5]=C[5]+N|0,C[6]=C[6]+z|0,C[7]=C[7]+j|0},_doFinalize:function(){var S=this._data,T=S.words,C=this._nDataBytes*8,E=S.sigBytes*8;return T[E>>>5]|=128<<24-E%32,T[(E+64>>>9<<4)+14]=l.floor(C/4294967296),T[(E+64>>>9<<4)+15]=C,S.sigBytes=T.length*4,this._process(),this._hash},clone:function(){var S=h.clone.call(this);return S._hash=this._hash.clone(),S}});f.SHA256=h._createHelper(w),f.HmacSHA256=h._createHmacHelper(w)})(Math),s.SHA256})})(qu)),qu.exports}var Gu={exports:{}},eb=Gu.exports,cm;function tb(){return cm||(cm=1,(function(r,a){(function(s,l,f){r.exports=l(ct(),ll())})(eb,function(s){return(function(){var l=s,f=l.lib,d=f.WordArray,m=l.algo,h=m.SHA256,x=m.SHA224=h.extend({_doReset:function(){this._hash=new d.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var p=h._doFinalize.call(this);return p.sigBytes-=4,p}});l.SHA224=h._createHelper(x),l.HmacSHA224=h._createHmacHelper(x)})(),s.SHA224})})(Gu)),Gu.exports}var Qu={exports:{}},nb=Qu.exports,dm;function ax(){return dm||(dm=1,(function(r,a){(function(s,l,f){r.exports=l(ct(),Gc())})(nb,function(s){return(function(){var l=s,f=l.lib,d=f.Hasher,m=l.x64,h=m.Word,x=m.WordArray,p=l.algo;function y(){return h.create.apply(h,arguments)}var v=[y(1116352408,3609767458),y(1899447441,602891725),y(3049323471,3964484399),y(3921009573,2173295548),y(961987163,4081628472),y(1508970993,3053834265),y(2453635748,2937671579),y(2870763221,3664609560),y(3624381080,2734883394),y(310598401,1164996542),y(607225278,1323610764),y(1426881987,3590304994),y(1925078388,4068182383),y(2162078206,991336113),y(2614888103,633803317),y(3248222580,3479774868),y(3835390401,2666613458),y(4022224774,944711139),y(264347078,2341262773),y(604807628,2007800933),y(770255983,1495990901),y(1249150122,1856431235),y(1555081692,3175218132),y(1996064986,2198950837),y(2554220882,3999719339),y(2821834349,766784016),y(2952996808,2566594879),y(3210313671,3203337956),y(3336571891,1034457026),y(3584528711,2466948901),y(113926993,3758326383),y(338241895,168717936),y(666307205,1188179964),y(773529912,1546045734),y(1294757372,1522805485),y(1396182291,2643833823),y(1695183700,2343527390),y(1986661051,1014477480),y(2177026350,1206759142),y(2456956037,344077627),y(2730485921,1290863460),y(2820302411,3158454273),y(3259730800,3505952657),y(3345764771,106217008),y(3516065817,3606008344),y(3600352804,1432725776),y(4094571909,1467031594),y(275423344,851169720),y(430227734,3100823752),y(506948616,1363258195),y(659060556,3750685593),y(883997877,3785050280),y(958139571,3318307427),y(1322822218,3812723403),y(1537002063,2003034995),y(1747873779,3602036899),y(1955562222,1575990012),y(2024104815,1125592928),y(2227730452,2716904306),y(2361852424,442776044),y(2428436474,593698344),y(2756734187,3733110249),y(3204031479,2999351573),y(3329325298,3815920427),y(3391569614,3928383900),y(3515267271,566280711),y(3940187606,3454069534),y(4118630271,4000239992),y(116418474,1914138554),y(174292421,2731055270),y(289380356,3203993006),y(460393269,320620315),y(685471733,587496836),y(852142971,1086792851),y(1017036298,365543100),y(1126000580,2618297676),y(1288033470,3409855158),y(1501505948,4234509866),y(1607167915,987167468),y(1816402316,1246189591)],w=[];(function(){for(var T=0;T<80;T++)w[T]=y()})();var S=p.SHA512=d.extend({_doReset:function(){this._hash=new x.init([new h.init(1779033703,4089235720),new h.init(3144134277,2227873595),new h.init(1013904242,4271175723),new h.init(2773480762,1595750129),new h.init(1359893119,2917565137),new h.init(2600822924,725511199),new h.init(528734635,4215389547),new h.init(1541459225,327033209)])},_doProcessBlock:function(T,C){for(var E=this._hash.words,P=E[0],B=E[1],k=E[2],I=E[3],N=E[4],z=E[5],j=E[6],H=E[7],K=P.high,U=P.low,G=B.high,re=B.low,V=k.high,J=k.low,le=I.high,oe=I.low,de=N.high,q=N.low,me=z.high,ne=z.low,D=j.high,Z=j.low,$=H.high,X=H.low,fe=K,he=U,ke=G,Ae=re,qe=V,Ye=J,Et=le,ht=oe,Se=de,Ve=q,dt=me,Mt=ne,vt=D,ot=Z,Qe=$,Xe=X,et=0;et<80;et++){var Oe,_t,$t=w[et];if(et<16)_t=$t.high=T[C+et*2]|0,Oe=$t.low=T[C+et*2+1]|0;else{var Un=w[et-15],It=Un.high,Jt=Un.low,fn=(It>>>1|Jt<<31)^(It>>>8|Jt<<24)^It>>>7,Sn=(Jt>>>1|It<<31)^(Jt>>>8|It<<24)^(Jt>>>7|It<<25),Ut=w[et-2],St=Ut.high,Zt=Ut.low,Zn=(St>>>19|Zt<<13)^(St<<3|Zt>>>29)^St>>>6,xn=(Zt>>>19|St<<13)^(Zt<<3|St>>>29)^(Zt>>>6|St<<26),pe=w[et-7],we=pe.high,te=pe.low,xe=w[et-16],Ee=xe.high,He=xe.low;Oe=Sn+te,_t=fn+we+(Oe>>>0<Sn>>>0?1:0),Oe=Oe+xn,_t=_t+Zn+(Oe>>>0<xn>>>0?1:0),Oe=Oe+He,_t=_t+Ee+(Oe>>>0<He>>>0?1:0),$t.high=_t,$t.low=Oe}var ze=Se&dt^~Se&vt,nt=Ve&Mt^~Ve&ot,hn=fe&ke^fe&qe^ke&qe,je=he&Ae^he&Ye^Ae&Ye,pt=(fe>>>28|he<<4)^(fe<<30|he>>>2)^(fe<<25|he>>>7),kt=(he>>>28|fe<<4)^(he<<30|fe>>>2)^(he<<25|fe>>>7),Rt=(Se>>>14|Ve<<18)^(Se>>>18|Ve<<14)^(Se<<23|Ve>>>9),Fn=(Ve>>>14|Se<<18)^(Ve>>>18|Se<<14)^(Ve<<23|Se>>>9),rt=v[et],wt=rt.high,Wn=rt.low,mt=Xe+Fn,Ft=Qe+Rt+(mt>>>0<Xe>>>0?1:0),mt=mt+nt,Ft=Ft+ze+(mt>>>0<nt>>>0?1:0),mt=mt+Wn,Ft=Ft+wt+(mt>>>0<Wn>>>0?1:0),mt=mt+Oe,Ft=Ft+_t+(mt>>>0<Oe>>>0?1:0),Wt=kt+je,Pe=pt+hn+(Wt>>>0<kt>>>0?1:0);Qe=vt,Xe=ot,vt=dt,ot=Mt,dt=Se,Mt=Ve,Ve=ht+mt|0,Se=Et+Ft+(Ve>>>0<ht>>>0?1:0)|0,Et=qe,ht=Ye,qe=ke,Ye=Ae,ke=fe,Ae=he,he=mt+Wt|0,fe=Ft+Pe+(he>>>0<mt>>>0?1:0)|0}U=P.low=U+he,P.high=K+fe+(U>>>0<he>>>0?1:0),re=B.low=re+Ae,B.high=G+ke+(re>>>0<Ae>>>0?1:0),J=k.low=J+Ye,k.high=V+qe+(J>>>0<Ye>>>0?1:0),oe=I.low=oe+ht,I.high=le+Et+(oe>>>0<ht>>>0?1:0),q=N.low=q+Ve,N.high=de+Se+(q>>>0<Ve>>>0?1:0),ne=z.low=ne+Mt,z.high=me+dt+(ne>>>0<Mt>>>0?1:0),Z=j.low=Z+ot,j.high=D+vt+(Z>>>0<ot>>>0?1:0),X=H.low=X+Xe,H.high=$+Qe+(X>>>0<Xe>>>0?1:0)},_doFinalize:function(){var T=this._data,C=T.words,E=this._nDataBytes*8,P=T.sigBytes*8;C[P>>>5]|=128<<24-P%32,C[(P+128>>>10<<5)+30]=Math.floor(E/4294967296),C[(P+128>>>10<<5)+31]=E,T.sigBytes=C.length*4,this._process();var B=this._hash.toX32();return B},clone:function(){var T=d.clone.call(this);return T._hash=this._hash.clone(),T},blockSize:1024/32});l.SHA512=d._createHelper(S),l.HmacSHA512=d._createHmacHelper(S)})(),s.SHA512})})(Qu)),Qu.exports}var Ku={exports:{}},rb=Ku.exports,fm;function ib(){return fm||(fm=1,(function(r,a){(function(s,l,f){r.exports=l(ct(),Gc(),ax())})(rb,function(s){return(function(){var l=s,f=l.x64,d=f.Word,m=f.WordArray,h=l.algo,x=h.SHA512,p=h.SHA384=x.extend({_doReset:function(){this._hash=new m.init([new d.init(3418070365,3238371032),new d.init(1654270250,914150663),new d.init(2438529370,812702999),new d.init(355462360,4144912697),new d.init(1731405415,4290775857),new d.init(2394180231,1750603025),new d.init(3675008525,1694076839),new d.init(1203062813,3204075428)])},_doFinalize:function(){var y=x._doFinalize.call(this);return y.sigBytes-=16,y}});l.SHA384=x._createHelper(p),l.HmacSHA384=x._createHmacHelper(p)})(),s.SHA384})})(Ku)),Ku.exports}var $u={exports:{}},ob=$u.exports,hm;function sb(){return hm||(hm=1,(function(r,a){(function(s,l,f){r.exports=l(ct(),Gc())})(ob,function(s){return(function(l){var f=s,d=f.lib,m=d.WordArray,h=d.Hasher,x=f.x64,p=x.Word,y=f.algo,v=[],w=[],S=[];(function(){for(var E=1,P=0,B=0;B<24;B++){v[E+5*P]=(B+1)*(B+2)/2%64;var k=P%5,I=(2*E+3*P)%5;E=k,P=I}for(var E=0;E<5;E++)for(var P=0;P<5;P++)w[E+5*P]=P+(2*E+3*P)%5*5;for(var N=1,z=0;z<24;z++){for(var j=0,H=0,K=0;K<7;K++){if(N&1){var U=(1<<K)-1;U<32?H^=1<<U:j^=1<<U-32}N&128?N=N<<1^113:N<<=1}S[z]=p.create(j,H)}})();var T=[];(function(){for(var E=0;E<25;E++)T[E]=p.create()})();var C=y.SHA3=h.extend({cfg:h.cfg.extend({outputLength:512}),_doReset:function(){for(var E=this._state=[],P=0;P<25;P++)E[P]=new p.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(E,P){for(var B=this._state,k=this.blockSize/2,I=0;I<k;I++){var N=E[P+2*I],z=E[P+2*I+1];N=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,z=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360;var j=B[I];j.high^=z,j.low^=N}for(var H=0;H<24;H++){for(var K=0;K<5;K++){for(var U=0,G=0,re=0;re<5;re++){var j=B[K+5*re];U^=j.high,G^=j.low}var V=T[K];V.high=U,V.low=G}for(var K=0;K<5;K++)for(var J=T[(K+4)%5],le=T[(K+1)%5],oe=le.high,de=le.low,U=J.high^(oe<<1|de>>>31),G=J.low^(de<<1|oe>>>31),re=0;re<5;re++){var j=B[K+5*re];j.high^=U,j.low^=G}for(var q=1;q<25;q++){var U,G,j=B[q],me=j.high,ne=j.low,D=v[q];D<32?(U=me<<D|ne>>>32-D,G=ne<<D|me>>>32-D):(U=ne<<D-32|me>>>64-D,G=me<<D-32|ne>>>64-D);var Z=T[w[q]];Z.high=U,Z.low=G}var $=T[0],X=B[0];$.high=X.high,$.low=X.low;for(var K=0;K<5;K++)for(var re=0;re<5;re++){var q=K+5*re,j=B[q],fe=T[q],he=T[(K+1)%5+5*re],ke=T[(K+2)%5+5*re];j.high=fe.high^~he.high&ke.high,j.low=fe.low^~he.low&ke.low}var j=B[0],Ae=S[H];j.high^=Ae.high,j.low^=Ae.low}},_doFinalize:function(){var E=this._data,P=E.words;this._nDataBytes*8;var B=E.sigBytes*8,k=this.blockSize*32;P[B>>>5]|=1<<24-B%32,P[(l.ceil((B+1)/k)*k>>>5)-1]|=128,E.sigBytes=P.length*4,this._process();for(var I=this._state,N=this.cfg.outputLength/8,z=N/8,j=[],H=0;H<z;H++){var K=I[H],U=K.high,G=K.low;U=(U<<8|U>>>24)&16711935|(U<<24|U>>>8)&4278255360,G=(G<<8|G>>>24)&16711935|(G<<24|G>>>8)&4278255360,j.push(G),j.push(U)}return new m.init(j,N)},clone:function(){for(var E=h.clone.call(this),P=E._state=this._state.slice(0),B=0;B<25;B++)P[B]=P[B].clone();return E}});f.SHA3=h._createHelper(C),f.HmacSHA3=h._createHmacHelper(C)})(Math),s.SHA3})})($u)),$u.exports}var Yu={exports:{}},ab=Yu.exports,pm;function lb(){return pm||(pm=1,(function(r,a){(function(s,l){r.exports=l(ct())})(ab,function(s){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return(function(l){var f=s,d=f.lib,m=d.WordArray,h=d.Hasher,x=f.algo,p=m.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),y=m.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),v=m.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),w=m.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),S=m.create([0,1518500249,1859775393,2400959708,2840853838]),T=m.create([1352829926,1548603684,1836072691,2053994217,0]),C=x.RIPEMD160=h.extend({_doReset:function(){this._hash=m.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(z,j){for(var H=0;H<16;H++){var K=j+H,U=z[K];z[K]=(U<<8|U>>>24)&16711935|(U<<24|U>>>8)&4278255360}var G=this._hash.words,re=S.words,V=T.words,J=p.words,le=y.words,oe=v.words,de=w.words,q,me,ne,D,Z,$,X,fe,he,ke;$=q=G[0],X=me=G[1],fe=ne=G[2],he=D=G[3],ke=Z=G[4];for(var Ae,H=0;H<80;H+=1)Ae=q+z[j+J[H]]|0,H<16?Ae+=E(me,ne,D)+re[0]:H<32?Ae+=P(me,ne,D)+re[1]:H<48?Ae+=B(me,ne,D)+re[2]:H<64?Ae+=k(me,ne,D)+re[3]:Ae+=I(me,ne,D)+re[4],Ae=Ae|0,Ae=N(Ae,oe[H]),Ae=Ae+Z|0,q=Z,Z=D,D=N(ne,10),ne=me,me=Ae,Ae=$+z[j+le[H]]|0,H<16?Ae+=I(X,fe,he)+V[0]:H<32?Ae+=k(X,fe,he)+V[1]:H<48?Ae+=B(X,fe,he)+V[2]:H<64?Ae+=P(X,fe,he)+V[3]:Ae+=E(X,fe,he)+V[4],Ae=Ae|0,Ae=N(Ae,de[H]),Ae=Ae+ke|0,$=ke,ke=he,he=N(fe,10),fe=X,X=Ae;Ae=G[1]+ne+he|0,G[1]=G[2]+D+ke|0,G[2]=G[3]+Z+$|0,G[3]=G[4]+q+X|0,G[4]=G[0]+me+fe|0,G[0]=Ae},_doFinalize:function(){var z=this._data,j=z.words,H=this._nDataBytes*8,K=z.sigBytes*8;j[K>>>5]|=128<<24-K%32,j[(K+64>>>9<<4)+14]=(H<<8|H>>>24)&16711935|(H<<24|H>>>8)&4278255360,z.sigBytes=(j.length+1)*4,this._process();for(var U=this._hash,G=U.words,re=0;re<5;re++){var V=G[re];G[re]=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360}return U},clone:function(){var z=h.clone.call(this);return z._hash=this._hash.clone(),z}});function E(z,j,H){return z^j^H}function P(z,j,H){return z&j|~z&H}function B(z,j,H){return(z|~j)^H}function k(z,j,H){return z&H|j&~H}function I(z,j,H){return z^(j|~H)}function N(z,j){return z<<j|z>>>32-j}f.RIPEMD160=h._createHelper(C),f.HmacRIPEMD160=h._createHmacHelper(C)})(),s.RIPEMD160})})(Yu)),Yu.exports}var Xu={exports:{}},ub=Xu.exports,mm;function Qc(){return mm||(mm=1,(function(r,a){(function(s,l){r.exports=l(ct())})(ub,function(s){(function(){var l=s,f=l.lib,d=f.Base,m=l.enc,h=m.Utf8,x=l.algo;x.HMAC=d.extend({init:function(p,y){p=this._hasher=new p.init,typeof y=="string"&&(y=h.parse(y));var v=p.blockSize,w=v*4;y.sigBytes>w&&(y=p.finalize(y)),y.clamp();for(var S=this._oKey=y.clone(),T=this._iKey=y.clone(),C=S.words,E=T.words,P=0;P<v;P++)C[P]^=1549556828,E[P]^=909522486;S.sigBytes=T.sigBytes=w,this.reset()},reset:function(){var p=this._hasher;p.reset(),p.update(this._iKey)},update:function(p){return this._hasher.update(p),this},finalize:function(p){var y=this._hasher,v=y.finalize(p);y.reset();var w=y.finalize(this._oKey.clone().concat(v));return w}})})()})})(Xu)),Xu.exports}var Ju={exports:{}},cb=Ju.exports,Am;function db(){return Am||(Am=1,(function(r,a){(function(s,l,f){r.exports=l(ct(),ll(),Qc())})(cb,function(s){return(function(){var l=s,f=l.lib,d=f.Base,m=f.WordArray,h=l.algo,x=h.SHA256,p=h.HMAC,y=h.PBKDF2=d.extend({cfg:d.extend({keySize:128/32,hasher:x,iterations:25e4}),init:function(v){this.cfg=this.cfg.extend(v)},compute:function(v,w){for(var S=this.cfg,T=p.create(S.hasher,v),C=m.create(),E=m.create([1]),P=C.words,B=E.words,k=S.keySize,I=S.iterations;P.length<k;){var N=T.update(w).finalize(E);T.reset();for(var z=N.words,j=z.length,H=N,K=1;K<I;K++){H=T.finalize(H),T.reset();for(var U=H.words,G=0;G<j;G++)z[G]^=U[G]}C.concat(N),B[0]++}return C.sigBytes=k*4,C}});l.PBKDF2=function(v,w,S){return y.create(S).compute(v,w)}})(),s.PBKDF2})})(Ju)),Ju.exports}var ec={exports:{}},fb=ec.exports,gm;function so(){return gm||(gm=1,(function(r,a){(function(s,l,f){r.exports=l(ct(),sx(),Qc())})(fb,function(s){return(function(){var l=s,f=l.lib,d=f.Base,m=f.WordArray,h=l.algo,x=h.MD5,p=h.EvpKDF=d.extend({cfg:d.extend({keySize:128/32,hasher:x,iterations:1}),init:function(y){this.cfg=this.cfg.extend(y)},compute:function(y,v){for(var w,S=this.cfg,T=S.hasher.create(),C=m.create(),E=C.words,P=S.keySize,B=S.iterations;E.length<P;){w&&T.update(w),w=T.update(y).finalize(v),T.reset();for(var k=1;k<B;k++)w=T.finalize(w),T.reset();C.concat(w)}return C.sigBytes=P*4,C}});l.EvpKDF=function(y,v,w){return p.create(w).compute(y,v)}})(),s.EvpKDF})})(ec)),ec.exports}var tc={exports:{}},hb=tc.exports,xm;function dn(){return xm||(xm=1,(function(r,a){(function(s,l,f){r.exports=l(ct(),so())})(hb,function(s){s.lib.Cipher||(function(l){var f=s,d=f.lib,m=d.Base,h=d.WordArray,x=d.BufferedBlockAlgorithm,p=f.enc;p.Utf8;var y=p.Base64,v=f.algo,w=v.EvpKDF,S=d.Cipher=x.extend({cfg:m.extend(),createEncryptor:function(U,G){return this.create(this._ENC_XFORM_MODE,U,G)},createDecryptor:function(U,G){return this.create(this._DEC_XFORM_MODE,U,G)},init:function(U,G,re){this.cfg=this.cfg.extend(re),this._xformMode=U,this._key=G,this.reset()},reset:function(){x.reset.call(this),this._doReset()},process:function(U){return this._append(U),this._process()},finalize:function(U){U&&this._append(U);var G=this._doFinalize();return G},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function U(G){return typeof G=="string"?K:z}return function(G){return{encrypt:function(re,V,J){return U(V).encrypt(G,re,V,J)},decrypt:function(re,V,J){return U(V).decrypt(G,re,V,J)}}}})()});d.StreamCipher=S.extend({_doFinalize:function(){var U=this._process(!0);return U},blockSize:1});var T=f.mode={},C=d.BlockCipherMode=m.extend({createEncryptor:function(U,G){return this.Encryptor.create(U,G)},createDecryptor:function(U,G){return this.Decryptor.create(U,G)},init:function(U,G){this._cipher=U,this._iv=G}}),E=T.CBC=(function(){var U=C.extend();U.Encryptor=U.extend({processBlock:function(re,V){var J=this._cipher,le=J.blockSize;G.call(this,re,V,le),J.encryptBlock(re,V),this._prevBlock=re.slice(V,V+le)}}),U.Decryptor=U.extend({processBlock:function(re,V){var J=this._cipher,le=J.blockSize,oe=re.slice(V,V+le);J.decryptBlock(re,V),G.call(this,re,V,le),this._prevBlock=oe}});function G(re,V,J){var le,oe=this._iv;oe?(le=oe,this._iv=l):le=this._prevBlock;for(var de=0;de<J;de++)re[V+de]^=le[de]}return U})(),P=f.pad={},B=P.Pkcs7={pad:function(U,G){for(var re=G*4,V=re-U.sigBytes%re,J=V<<24|V<<16|V<<8|V,le=[],oe=0;oe<V;oe+=4)le.push(J);var de=h.create(le,V);U.concat(de)},unpad:function(U){var G=U.words[U.sigBytes-1>>>2]&255;U.sigBytes-=G}};d.BlockCipher=S.extend({cfg:S.cfg.extend({mode:E,padding:B}),reset:function(){var U;S.reset.call(this);var G=this.cfg,re=G.iv,V=G.mode;this._xformMode==this._ENC_XFORM_MODE?U=V.createEncryptor:(U=V.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==U?this._mode.init(this,re&&re.words):(this._mode=U.call(V,this,re&&re.words),this._mode.__creator=U)},_doProcessBlock:function(U,G){this._mode.processBlock(U,G)},_doFinalize:function(){var U,G=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(G.pad(this._data,this.blockSize),U=this._process(!0)):(U=this._process(!0),G.unpad(U)),U},blockSize:128/32});var k=d.CipherParams=m.extend({init:function(U){this.mixIn(U)},toString:function(U){return(U||this.formatter).stringify(this)}}),I=f.format={},N=I.OpenSSL={stringify:function(U){var G,re=U.ciphertext,V=U.salt;return V?G=h.create([1398893684,1701076831]).concat(V).concat(re):G=re,G.toString(y)},parse:function(U){var G,re=y.parse(U),V=re.words;return V[0]==1398893684&&V[1]==1701076831&&(G=h.create(V.slice(2,4)),V.splice(0,4),re.sigBytes-=16),k.create({ciphertext:re,salt:G})}},z=d.SerializableCipher=m.extend({cfg:m.extend({format:N}),encrypt:function(U,G,re,V){V=this.cfg.extend(V);var J=U.createEncryptor(re,V),le=J.finalize(G),oe=J.cfg;return k.create({ciphertext:le,key:re,iv:oe.iv,algorithm:U,mode:oe.mode,padding:oe.padding,blockSize:U.blockSize,formatter:V.format})},decrypt:function(U,G,re,V){V=this.cfg.extend(V),G=this._parse(G,V.format);var J=U.createDecryptor(re,V).finalize(G.ciphertext);return J},_parse:function(U,G){return typeof U=="string"?G.parse(U,this):U}}),j=f.kdf={},H=j.OpenSSL={execute:function(U,G,re,V,J){if(V||(V=h.random(64/8)),J)var le=w.create({keySize:G+re,hasher:J}).compute(U,V);else var le=w.create({keySize:G+re}).compute(U,V);var oe=h.create(le.words.slice(G),re*4);return le.sigBytes=G*4,k.create({key:le,iv:oe,salt:V})}},K=d.PasswordBasedCipher=z.extend({cfg:z.cfg.extend({kdf:H}),encrypt:function(U,G,re,V){V=this.cfg.extend(V);var J=V.kdf.execute(re,U.keySize,U.ivSize,V.salt,V.hasher);V.iv=J.iv;var le=z.encrypt.call(this,U,G,J.key,V);return le.mixIn(J),le},decrypt:function(U,G,re,V){V=this.cfg.extend(V),G=this._parse(G,V.format);var J=V.kdf.execute(re,U.keySize,U.ivSize,G.salt,V.hasher);V.iv=J.iv;var le=z.decrypt.call(this,U,G,J.key,V);return le}})})()})})(tc)),tc.exports}var nc={exports:{}},pb=nc.exports,vm;function mb(){return vm||(vm=1,(function(r,a){(function(s,l,f){r.exports=l(ct(),dn())})(pb,function(s){return s.mode.CFB=(function(){var l=s.lib.BlockCipherMode.extend();l.Encryptor=l.extend({processBlock:function(d,m){var h=this._cipher,x=h.blockSize;f.call(this,d,m,x,h),this._prevBlock=d.slice(m,m+x)}}),l.Decryptor=l.extend({processBlock:function(d,m){var h=this._cipher,x=h.blockSize,p=d.slice(m,m+x);f.call(this,d,m,x,h),this._prevBlock=p}});function f(d,m,h,x){var p,y=this._iv;y?(p=y.slice(0),this._iv=void 0):p=this._prevBlock,x.encryptBlock(p,0);for(var v=0;v<h;v++)d[m+v]^=p[v]}return l})(),s.mode.CFB})})(nc)),nc.exports}var rc={exports:{}},Ab=rc.exports,ym;function gb(){return ym||(ym=1,(function(r,a){(function(s,l,f){r.exports=l(ct(),dn())})(Ab,function(s){return s.mode.CTR=(function(){var l=s.lib.BlockCipherMode.extend(),f=l.Encryptor=l.extend({processBlock:function(d,m){var h=this._cipher,x=h.blockSize,p=this._iv,y=this._counter;p&&(y=this._counter=p.slice(0),this._iv=void 0);var v=y.slice(0);h.encryptBlock(v,0),y[x-1]=y[x-1]+1|0;for(var w=0;w<x;w++)d[m+w]^=v[w]}});return l.Decryptor=f,l})(),s.mode.CTR})})(rc)),rc.exports}var ic={exports:{}},xb=ic.exports,_m;function vb(){return _m||(_m=1,(function(r,a){(function(s,l,f){r.exports=l(ct(),dn())})(xb,function(s){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return s.mode.CTRGladman=(function(){var l=s.lib.BlockCipherMode.extend();function f(h){if((h>>24&255)===255){var x=h>>16&255,p=h>>8&255,y=h&255;x===255?(x=0,p===255?(p=0,y===255?y=0:++y):++p):++x,h=0,h+=x<<16,h+=p<<8,h+=y}else h+=1<<24;return h}function d(h){return(h[0]=f(h[0]))===0&&(h[1]=f(h[1])),h}var m=l.Encryptor=l.extend({processBlock:function(h,x){var p=this._cipher,y=p.blockSize,v=this._iv,w=this._counter;v&&(w=this._counter=v.slice(0),this._iv=void 0),d(w);var S=w.slice(0);p.encryptBlock(S,0);for(var T=0;T<y;T++)h[x+T]^=S[T]}});return l.Decryptor=m,l})(),s.mode.CTRGladman})})(ic)),ic.exports}var oc={exports:{}},yb=oc.exports,wm;function _b(){return wm||(wm=1,(function(r,a){(function(s,l,f){r.exports=l(ct(),dn())})(yb,function(s){return s.mode.OFB=(function(){var l=s.lib.BlockCipherMode.extend(),f=l.Encryptor=l.extend({processBlock:function(d,m){var h=this._cipher,x=h.blockSize,p=this._iv,y=this._keystream;p&&(y=this._keystream=p.slice(0),this._iv=void 0),h.encryptBlock(y,0);for(var v=0;v<x;v++)d[m+v]^=y[v]}});return l.Decryptor=f,l})(),s.mode.OFB})})(oc)),oc.exports}var sc={exports:{}},wb=sc.exports,bm;function bb(){return bm||(bm=1,(function(r,a){(function(s,l,f){r.exports=l(ct(),dn())})(wb,function(s){return s.mode.ECB=(function(){var l=s.lib.BlockCipherMode.extend();return l.Encryptor=l.extend({processBlock:function(f,d){this._cipher.encryptBlock(f,d)}}),l.Decryptor=l.extend({processBlock:function(f,d){this._cipher.decryptBlock(f,d)}}),l})(),s.mode.ECB})})(sc)),sc.exports}var ac={exports:{}},Cb=ac.exports,Cm;function Eb(){return Cm||(Cm=1,(function(r,a){(function(s,l,f){r.exports=l(ct(),dn())})(Cb,function(s){return s.pad.AnsiX923={pad:function(l,f){var d=l.sigBytes,m=f*4,h=m-d%m,x=d+h-1;l.clamp(),l.words[x>>>2]|=h<<24-x%4*8,l.sigBytes+=h},unpad:function(l){var f=l.words[l.sigBytes-1>>>2]&255;l.sigBytes-=f}},s.pad.Ansix923})})(ac)),ac.exports}var lc={exports:{}},kb=lc.exports,Em;function Sb(){return Em||(Em=1,(function(r,a){(function(s,l,f){r.exports=l(ct(),dn())})(kb,function(s){return s.pad.Iso10126={pad:function(l,f){var d=f*4,m=d-l.sigBytes%d;l.concat(s.lib.WordArray.random(m-1)).concat(s.lib.WordArray.create([m<<24],1))},unpad:function(l){var f=l.words[l.sigBytes-1>>>2]&255;l.sigBytes-=f}},s.pad.Iso10126})})(lc)),lc.exports}var uc={exports:{}},Bb=uc.exports,km;function Pb(){return km||(km=1,(function(r,a){(function(s,l,f){r.exports=l(ct(),dn())})(Bb,function(s){return s.pad.Iso97971={pad:function(l,f){l.concat(s.lib.WordArray.create([2147483648],1)),s.pad.ZeroPadding.pad(l,f)},unpad:function(l){s.pad.ZeroPadding.unpad(l),l.sigBytes--}},s.pad.Iso97971})})(uc)),uc.exports}var cc={exports:{}},Tb=cc.exports,Sm;function Db(){return Sm||(Sm=1,(function(r,a){(function(s,l,f){r.exports=l(ct(),dn())})(Tb,function(s){return s.pad.ZeroPadding={pad:function(l,f){var d=f*4;l.clamp(),l.sigBytes+=d-(l.sigBytes%d||d)},unpad:function(l){for(var f=l.words,d=l.sigBytes-1,d=l.sigBytes-1;d>=0;d--)if(f[d>>>2]>>>24-d%4*8&255){l.sigBytes=d+1;break}}},s.pad.ZeroPadding})})(cc)),cc.exports}var dc={exports:{}},Rb=dc.exports,Bm;function Fb(){return Bm||(Bm=1,(function(r,a){(function(s,l,f){r.exports=l(ct(),dn())})(Rb,function(s){return s.pad.NoPadding={pad:function(){},unpad:function(){}},s.pad.NoPadding})})(dc)),dc.exports}var fc={exports:{}},Nb=fc.exports,Pm;function Lb(){return Pm||(Pm=1,(function(r,a){(function(s,l,f){r.exports=l(ct(),dn())})(Nb,function(s){return(function(l){var f=s,d=f.lib,m=d.CipherParams,h=f.enc,x=h.Hex,p=f.format;p.Hex={stringify:function(y){return y.ciphertext.toString(x)},parse:function(y){var v=x.parse(y);return m.create({ciphertext:v})}}})(),s.format.Hex})})(fc)),fc.exports}var hc={exports:{}},Mb=hc.exports,Tm;function Ib(){return Tm||(Tm=1,(function(r,a){(function(s,l,f){r.exports=l(ct(),Wo(),qo(),so(),dn())})(Mb,function(s){return(function(){var l=s,f=l.lib,d=f.BlockCipher,m=l.algo,h=[],x=[],p=[],y=[],v=[],w=[],S=[],T=[],C=[],E=[];(function(){for(var k=[],I=0;I<256;I++)I<128?k[I]=I<<1:k[I]=I<<1^283;for(var N=0,z=0,I=0;I<256;I++){var j=z^z<<1^z<<2^z<<3^z<<4;j=j>>>8^j&255^99,h[N]=j,x[j]=N;var H=k[N],K=k[H],U=k[K],G=k[j]*257^j*16843008;p[N]=G<<24|G>>>8,y[N]=G<<16|G>>>16,v[N]=G<<8|G>>>24,w[N]=G;var G=U*16843009^K*65537^H*257^N*16843008;S[j]=G<<24|G>>>8,T[j]=G<<16|G>>>16,C[j]=G<<8|G>>>24,E[j]=G,N?(N=H^k[k[k[U^H]]],z^=k[k[z]]):N=z=1}})();var P=[0,1,2,4,8,16,32,64,128,27,54],B=m.AES=d.extend({_doReset:function(){var k;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var I=this._keyPriorReset=this._key,N=I.words,z=I.sigBytes/4,j=this._nRounds=z+6,H=(j+1)*4,K=this._keySchedule=[],U=0;U<H;U++)U<z?K[U]=N[U]:(k=K[U-1],U%z?z>6&&U%z==4&&(k=h[k>>>24]<<24|h[k>>>16&255]<<16|h[k>>>8&255]<<8|h[k&255]):(k=k<<8|k>>>24,k=h[k>>>24]<<24|h[k>>>16&255]<<16|h[k>>>8&255]<<8|h[k&255],k^=P[U/z|0]<<24),K[U]=K[U-z]^k);for(var G=this._invKeySchedule=[],re=0;re<H;re++){var U=H-re;if(re%4)var k=K[U];else var k=K[U-4];re<4||U<=4?G[re]=k:G[re]=S[h[k>>>24]]^T[h[k>>>16&255]]^C[h[k>>>8&255]]^E[h[k&255]]}}},encryptBlock:function(k,I){this._doCryptBlock(k,I,this._keySchedule,p,y,v,w,h)},decryptBlock:function(k,I){var N=k[I+1];k[I+1]=k[I+3],k[I+3]=N,this._doCryptBlock(k,I,this._invKeySchedule,S,T,C,E,x);var N=k[I+1];k[I+1]=k[I+3],k[I+3]=N},_doCryptBlock:function(k,I,N,z,j,H,K,U){for(var G=this._nRounds,re=k[I]^N[0],V=k[I+1]^N[1],J=k[I+2]^N[2],le=k[I+3]^N[3],oe=4,de=1;de<G;de++){var q=z[re>>>24]^j[V>>>16&255]^H[J>>>8&255]^K[le&255]^N[oe++],me=z[V>>>24]^j[J>>>16&255]^H[le>>>8&255]^K[re&255]^N[oe++],ne=z[J>>>24]^j[le>>>16&255]^H[re>>>8&255]^K[V&255]^N[oe++],D=z[le>>>24]^j[re>>>16&255]^H[V>>>8&255]^K[J&255]^N[oe++];re=q,V=me,J=ne,le=D}var q=(U[re>>>24]<<24|U[V>>>16&255]<<16|U[J>>>8&255]<<8|U[le&255])^N[oe++],me=(U[V>>>24]<<24|U[J>>>16&255]<<16|U[le>>>8&255]<<8|U[re&255])^N[oe++],ne=(U[J>>>24]<<24|U[le>>>16&255]<<16|U[re>>>8&255]<<8|U[V&255])^N[oe++],D=(U[le>>>24]<<24|U[re>>>16&255]<<16|U[V>>>8&255]<<8|U[J&255])^N[oe++];k[I]=q,k[I+1]=me,k[I+2]=ne,k[I+3]=D},keySize:256/32});l.AES=d._createHelper(B)})(),s.AES})})(hc)),hc.exports}var pc={exports:{}},Ob=pc.exports,Dm;function zb(){return Dm||(Dm=1,(function(r,a){(function(s,l,f){r.exports=l(ct(),Wo(),qo(),so(),dn())})(Ob,function(s){return(function(){var l=s,f=l.lib,d=f.WordArray,m=f.BlockCipher,h=l.algo,x=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],p=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],y=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],v=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],w=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],S=h.DES=m.extend({_doReset:function(){for(var P=this._key,B=P.words,k=[],I=0;I<56;I++){var N=x[I]-1;k[I]=B[N>>>5]>>>31-N%32&1}for(var z=this._subKeys=[],j=0;j<16;j++){for(var H=z[j]=[],K=y[j],I=0;I<24;I++)H[I/6|0]|=k[(p[I]-1+K)%28]<<31-I%6,H[4+(I/6|0)]|=k[28+(p[I+24]-1+K)%28]<<31-I%6;H[0]=H[0]<<1|H[0]>>>31;for(var I=1;I<7;I++)H[I]=H[I]>>>(I-1)*4+3;H[7]=H[7]<<5|H[7]>>>27}for(var U=this._invSubKeys=[],I=0;I<16;I++)U[I]=z[15-I]},encryptBlock:function(P,B){this._doCryptBlock(P,B,this._subKeys)},decryptBlock:function(P,B){this._doCryptBlock(P,B,this._invSubKeys)},_doCryptBlock:function(P,B,k){this._lBlock=P[B],this._rBlock=P[B+1],T.call(this,4,252645135),T.call(this,16,65535),C.call(this,2,858993459),C.call(this,8,16711935),T.call(this,1,1431655765);for(var I=0;I<16;I++){for(var N=k[I],z=this._lBlock,j=this._rBlock,H=0,K=0;K<8;K++)H|=v[K][((j^N[K])&w[K])>>>0];this._lBlock=j,this._rBlock=z^H}var U=this._lBlock;this._lBlock=this._rBlock,this._rBlock=U,T.call(this,1,1431655765),C.call(this,8,16711935),C.call(this,2,858993459),T.call(this,16,65535),T.call(this,4,252645135),P[B]=this._lBlock,P[B+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function T(P,B){var k=(this._lBlock>>>P^this._rBlock)&B;this._rBlock^=k,this._lBlock^=k<<P}function C(P,B){var k=(this._rBlock>>>P^this._lBlock)&B;this._lBlock^=k,this._rBlock^=k<<P}l.DES=m._createHelper(S);var E=h.TripleDES=m.extend({_doReset:function(){var P=this._key,B=P.words;if(B.length!==2&&B.length!==4&&B.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var k=B.slice(0,2),I=B.length<4?B.slice(0,2):B.slice(2,4),N=B.length<6?B.slice(0,2):B.slice(4,6);this._des1=S.createEncryptor(d.create(k)),this._des2=S.createEncryptor(d.create(I)),this._des3=S.createEncryptor(d.create(N))},encryptBlock:function(P,B){this._des1.encryptBlock(P,B),this._des2.decryptBlock(P,B),this._des3.encryptBlock(P,B)},decryptBlock:function(P,B){this._des3.decryptBlock(P,B),this._des2.encryptBlock(P,B),this._des1.decryptBlock(P,B)},keySize:192/32,ivSize:64/32,blockSize:64/32});l.TripleDES=m._createHelper(E)})(),s.TripleDES})})(pc)),pc.exports}var mc={exports:{}},jb=mc.exports,Rm;function Hb(){return Rm||(Rm=1,(function(r,a){(function(s,l,f){r.exports=l(ct(),Wo(),qo(),so(),dn())})(jb,function(s){return(function(){var l=s,f=l.lib,d=f.StreamCipher,m=l.algo,h=m.RC4=d.extend({_doReset:function(){for(var y=this._key,v=y.words,w=y.sigBytes,S=this._S=[],T=0;T<256;T++)S[T]=T;for(var T=0,C=0;T<256;T++){var E=T%w,P=v[E>>>2]>>>24-E%4*8&255;C=(C+S[T]+P)%256;var B=S[T];S[T]=S[C],S[C]=B}this._i=this._j=0},_doProcessBlock:function(y,v){y[v]^=x.call(this)},keySize:256/32,ivSize:0});function x(){for(var y=this._S,v=this._i,w=this._j,S=0,T=0;T<4;T++){v=(v+1)%256,w=(w+y[v])%256;var C=y[v];y[v]=y[w],y[w]=C,S|=y[(y[v]+y[w])%256]<<24-T*8}return this._i=v,this._j=w,S}l.RC4=d._createHelper(h);var p=m.RC4Drop=h.extend({cfg:h.cfg.extend({drop:192}),_doReset:function(){h._doReset.call(this);for(var y=this.cfg.drop;y>0;y--)x.call(this)}});l.RC4Drop=d._createHelper(p)})(),s.RC4})})(mc)),mc.exports}var Ac={exports:{}},Vb=Ac.exports,Fm;function Ub(){return Fm||(Fm=1,(function(r,a){(function(s,l,f){r.exports=l(ct(),Wo(),qo(),so(),dn())})(Vb,function(s){return(function(){var l=s,f=l.lib,d=f.StreamCipher,m=l.algo,h=[],x=[],p=[],y=m.Rabbit=d.extend({_doReset:function(){for(var w=this._key.words,S=this.cfg.iv,T=0;T<4;T++)w[T]=(w[T]<<8|w[T]>>>24)&16711935|(w[T]<<24|w[T]>>>8)&4278255360;var C=this._X=[w[0],w[3]<<16|w[2]>>>16,w[1],w[0]<<16|w[3]>>>16,w[2],w[1]<<16|w[0]>>>16,w[3],w[2]<<16|w[1]>>>16],E=this._C=[w[2]<<16|w[2]>>>16,w[0]&4294901760|w[1]&65535,w[3]<<16|w[3]>>>16,w[1]&4294901760|w[2]&65535,w[0]<<16|w[0]>>>16,w[2]&4294901760|w[3]&65535,w[1]<<16|w[1]>>>16,w[3]&4294901760|w[0]&65535];this._b=0;for(var T=0;T<4;T++)v.call(this);for(var T=0;T<8;T++)E[T]^=C[T+4&7];if(S){var P=S.words,B=P[0],k=P[1],I=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,N=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,z=I>>>16|N&4294901760,j=N<<16|I&65535;E[0]^=I,E[1]^=z,E[2]^=N,E[3]^=j,E[4]^=I,E[5]^=z,E[6]^=N,E[7]^=j;for(var T=0;T<4;T++)v.call(this)}},_doProcessBlock:function(w,S){var T=this._X;v.call(this),h[0]=T[0]^T[5]>>>16^T[3]<<16,h[1]=T[2]^T[7]>>>16^T[5]<<16,h[2]=T[4]^T[1]>>>16^T[7]<<16,h[3]=T[6]^T[3]>>>16^T[1]<<16;for(var C=0;C<4;C++)h[C]=(h[C]<<8|h[C]>>>24)&16711935|(h[C]<<24|h[C]>>>8)&4278255360,w[S+C]^=h[C]},blockSize:128/32,ivSize:64/32});function v(){for(var w=this._X,S=this._C,T=0;T<8;T++)x[T]=S[T];S[0]=S[0]+1295307597+this._b|0,S[1]=S[1]+3545052371+(S[0]>>>0<x[0]>>>0?1:0)|0,S[2]=S[2]+886263092+(S[1]>>>0<x[1]>>>0?1:0)|0,S[3]=S[3]+1295307597+(S[2]>>>0<x[2]>>>0?1:0)|0,S[4]=S[4]+3545052371+(S[3]>>>0<x[3]>>>0?1:0)|0,S[5]=S[5]+886263092+(S[4]>>>0<x[4]>>>0?1:0)|0,S[6]=S[6]+1295307597+(S[5]>>>0<x[5]>>>0?1:0)|0,S[7]=S[7]+3545052371+(S[6]>>>0<x[6]>>>0?1:0)|0,this._b=S[7]>>>0<x[7]>>>0?1:0;for(var T=0;T<8;T++){var C=w[T]+S[T],E=C&65535,P=C>>>16,B=((E*E>>>17)+E*P>>>15)+P*P,k=((C&4294901760)*C|0)+((C&65535)*C|0);p[T]=B^k}w[0]=p[0]+(p[7]<<16|p[7]>>>16)+(p[6]<<16|p[6]>>>16)|0,w[1]=p[1]+(p[0]<<8|p[0]>>>24)+p[7]|0,w[2]=p[2]+(p[1]<<16|p[1]>>>16)+(p[0]<<16|p[0]>>>16)|0,w[3]=p[3]+(p[2]<<8|p[2]>>>24)+p[1]|0,w[4]=p[4]+(p[3]<<16|p[3]>>>16)+(p[2]<<16|p[2]>>>16)|0,w[5]=p[5]+(p[4]<<8|p[4]>>>24)+p[3]|0,w[6]=p[6]+(p[5]<<16|p[5]>>>16)+(p[4]<<16|p[4]>>>16)|0,w[7]=p[7]+(p[6]<<8|p[6]>>>24)+p[5]|0}l.Rabbit=d._createHelper(y)})(),s.Rabbit})})(Ac)),Ac.exports}var gc={exports:{}},Zb=gc.exports,Nm;function Wb(){return Nm||(Nm=1,(function(r,a){(function(s,l,f){r.exports=l(ct(),Wo(),qo(),so(),dn())})(Zb,function(s){return(function(){var l=s,f=l.lib,d=f.StreamCipher,m=l.algo,h=[],x=[],p=[],y=m.RabbitLegacy=d.extend({_doReset:function(){var w=this._key.words,S=this.cfg.iv,T=this._X=[w[0],w[3]<<16|w[2]>>>16,w[1],w[0]<<16|w[3]>>>16,w[2],w[1]<<16|w[0]>>>16,w[3],w[2]<<16|w[1]>>>16],C=this._C=[w[2]<<16|w[2]>>>16,w[0]&4294901760|w[1]&65535,w[3]<<16|w[3]>>>16,w[1]&4294901760|w[2]&65535,w[0]<<16|w[0]>>>16,w[2]&4294901760|w[3]&65535,w[1]<<16|w[1]>>>16,w[3]&4294901760|w[0]&65535];this._b=0;for(var E=0;E<4;E++)v.call(this);for(var E=0;E<8;E++)C[E]^=T[E+4&7];if(S){var P=S.words,B=P[0],k=P[1],I=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,N=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,z=I>>>16|N&4294901760,j=N<<16|I&65535;C[0]^=I,C[1]^=z,C[2]^=N,C[3]^=j,C[4]^=I,C[5]^=z,C[6]^=N,C[7]^=j;for(var E=0;E<4;E++)v.call(this)}},_doProcessBlock:function(w,S){var T=this._X;v.call(this),h[0]=T[0]^T[5]>>>16^T[3]<<16,h[1]=T[2]^T[7]>>>16^T[5]<<16,h[2]=T[4]^T[1]>>>16^T[7]<<16,h[3]=T[6]^T[3]>>>16^T[1]<<16;for(var C=0;C<4;C++)h[C]=(h[C]<<8|h[C]>>>24)&16711935|(h[C]<<24|h[C]>>>8)&4278255360,w[S+C]^=h[C]},blockSize:128/32,ivSize:64/32});function v(){for(var w=this._X,S=this._C,T=0;T<8;T++)x[T]=S[T];S[0]=S[0]+1295307597+this._b|0,S[1]=S[1]+3545052371+(S[0]>>>0<x[0]>>>0?1:0)|0,S[2]=S[2]+886263092+(S[1]>>>0<x[1]>>>0?1:0)|0,S[3]=S[3]+1295307597+(S[2]>>>0<x[2]>>>0?1:0)|0,S[4]=S[4]+3545052371+(S[3]>>>0<x[3]>>>0?1:0)|0,S[5]=S[5]+886263092+(S[4]>>>0<x[4]>>>0?1:0)|0,S[6]=S[6]+1295307597+(S[5]>>>0<x[5]>>>0?1:0)|0,S[7]=S[7]+3545052371+(S[6]>>>0<x[6]>>>0?1:0)|0,this._b=S[7]>>>0<x[7]>>>0?1:0;for(var T=0;T<8;T++){var C=w[T]+S[T],E=C&65535,P=C>>>16,B=((E*E>>>17)+E*P>>>15)+P*P,k=((C&4294901760)*C|0)+((C&65535)*C|0);p[T]=B^k}w[0]=p[0]+(p[7]<<16|p[7]>>>16)+(p[6]<<16|p[6]>>>16)|0,w[1]=p[1]+(p[0]<<8|p[0]>>>24)+p[7]|0,w[2]=p[2]+(p[1]<<16|p[1]>>>16)+(p[0]<<16|p[0]>>>16)|0,w[3]=p[3]+(p[2]<<8|p[2]>>>24)+p[1]|0,w[4]=p[4]+(p[3]<<16|p[3]>>>16)+(p[2]<<16|p[2]>>>16)|0,w[5]=p[5]+(p[4]<<8|p[4]>>>24)+p[3]|0,w[6]=p[6]+(p[5]<<16|p[5]>>>16)+(p[4]<<16|p[4]>>>16)|0,w[7]=p[7]+(p[6]<<8|p[6]>>>24)+p[5]|0}l.RabbitLegacy=d._createHelper(y)})(),s.RabbitLegacy})})(gc)),gc.exports}var xc={exports:{}},qb=xc.exports,Lm;function Gb(){return Lm||(Lm=1,(function(r,a){(function(s,l,f){r.exports=l(ct(),Wo(),qo(),so(),dn())})(qb,function(s){return(function(){var l=s,f=l.lib,d=f.BlockCipher,m=l.algo;const h=16,x=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],p=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var y={pbox:[],sbox:[]};function v(E,P){let B=P>>24&255,k=P>>16&255,I=P>>8&255,N=P&255,z=E.sbox[0][B]+E.sbox[1][k];return z=z^E.sbox[2][I],z=z+E.sbox[3][N],z}function w(E,P,B){let k=P,I=B,N;for(let z=0;z<h;++z)k=k^E.pbox[z],I=v(E,k)^I,N=k,k=I,I=N;return N=k,k=I,I=N,I=I^E.pbox[h],k=k^E.pbox[h+1],{left:k,right:I}}function S(E,P,B){let k=P,I=B,N;for(let z=h+1;z>1;--z)k=k^E.pbox[z],I=v(E,k)^I,N=k,k=I,I=N;return N=k,k=I,I=N,I=I^E.pbox[1],k=k^E.pbox[0],{left:k,right:I}}function T(E,P,B){for(let j=0;j<4;j++){E.sbox[j]=[];for(let H=0;H<256;H++)E.sbox[j][H]=p[j][H]}let k=0;for(let j=0;j<h+2;j++)E.pbox[j]=x[j]^P[k],k++,k>=B&&(k=0);let I=0,N=0,z=0;for(let j=0;j<h+2;j+=2)z=w(E,I,N),I=z.left,N=z.right,E.pbox[j]=I,E.pbox[j+1]=N;for(let j=0;j<4;j++)for(let H=0;H<256;H+=2)z=w(E,I,N),I=z.left,N=z.right,E.sbox[j][H]=I,E.sbox[j][H+1]=N;return!0}var C=m.Blowfish=d.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var E=this._keyPriorReset=this._key,P=E.words,B=E.sigBytes/4;T(y,P,B)}},encryptBlock:function(E,P){var B=w(y,E[P],E[P+1]);E[P]=B.left,E[P+1]=B.right},decryptBlock:function(E,P){var B=S(y,E[P],E[P+1]);E[P]=B.left,E[P+1]=B.right},blockSize:64/32,keySize:128/32,ivSize:64/32});l.Blowfish=d._createHelper(C)})(),s.Blowfish})})(xc)),xc.exports}var Qb=Iu.exports,Mm;function lx(){return Mm||(Mm=1,(function(r,a){(function(s,l,f){r.exports=l(ct(),Gc(),W2(),G2(),Wo(),$2(),qo(),sx(),ll(),tb(),ax(),ib(),sb(),lb(),Qc(),db(),so(),dn(),mb(),gb(),vb(),_b(),bb(),Eb(),Sb(),Pb(),Db(),Fb(),Lb(),Ib(),zb(),Hb(),Ub(),Wb(),Gb())})(Qb,function(s){return s})})(Iu)),Iu.exports}var Im;function _0(){if(Im)return ja;Im=1,Object.defineProperty(ja,"__esModule",{value:!0}),ja.ChannelCrypto=void 0;const r=lx(),a=gn();class s{static decryptGroupTextMessage(f,d,m){try{const h=(0,a.hexToBytes)(m),x=(0,a.hexToBytes)(d),p=new Uint8Array(32);p.set(h,0);const y=(0,r.HmacSHA256)(r.enc.Hex.parse(f),r.enc.Hex.parse((0,a.bytesToHex)(p))),w=(0,a.hexToBytes)(y.toString(r.enc.Hex)).slice(0,2);if(w[0]!==x[0]||w[1]!==x[1])return{success:!1,error:"MAC verification failed"};const S=r.enc.Hex.parse(m),T=r.enc.Hex.parse(f),C=r.AES.decrypt(r.lib.CipherParams.create({ciphertext:T}),S,{mode:r.mode.ECB,padding:r.pad.NoPadding}),E=(0,a.hexToBytes)(C.toString(r.enc.Hex));if(!E||E.length<5)return{success:!1,error:"Decrypted content too short"};const P=E[0]|E[1]<<8|E[2]<<16|E[3]<<24,B=E[4],k=E.slice(5);let N=new TextDecoder("utf-8").decode(k);const z=N.indexOf("\0");z>=0&&(N=N.substring(0,z));const j=N.indexOf(": ");let H,K;if(j>0&&j<50){const U=N.substring(0,j);/[:\[\]]/.test(U)?K=N:(H=U,K=N.substring(j+2))}else K=N;return{success:!0,data:{timestamp:P,flags:B,sender:H,message:K}}}catch(h){return{success:!1,error:h instanceof Error?h.message:"Decryption failed"}}}static calculateChannelHash(f){const d=(0,r.SHA256)(r.enc.Hex.parse(f));return(0,a.hexToBytes)(d.toString(r.enc.Hex))[0].toString(16).padStart(2,"0")}}return ja.ChannelCrypto=s,ja}var Om;function ux(){if(Om)return za;Om=1,Object.defineProperty(za,"__esModule",{value:!0}),za.MeshCoreKeyStore=void 0;const r=_0();class a{constructor(l){this.nodeKeys=new Map,this.channelHashToKeys=new Map,l!=null&&l.channelSecrets&&this.addChannelSecrets(l.channelSecrets),l!=null&&l.nodeKeys&&Object.entries(l.nodeKeys).forEach(([f,d])=>{this.addNodeKey(f,d)})}addNodeKey(l,f){const d=l.toUpperCase();this.nodeKeys.set(d,f)}hasChannelKey(l){const f=l.toLowerCase();return this.channelHashToKeys.has(f)}hasNodeKey(l){const f=l.toUpperCase();return this.nodeKeys.has(f)}getChannelKeys(l){const f=l.toLowerCase();return this.channelHashToKeys.get(f)||[]}getNodeKey(l){const f=l.toUpperCase();return this.nodeKeys.get(f)}addChannelSecrets(l){for(const f of l){const d=r.ChannelCrypto.calculateChannelHash(f).toLowerCase();this.channelHashToKeys.has(d)||this.channelHashToKeys.set(d,[]),this.channelHashToKeys.get(d).push(f)}}}return za.MeshCoreKeyStore=a,za}var Ha={},Tr={};/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const cx={p:0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn,n:0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3edn,h:8n,a:0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffecn,d:0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3n,Gx:0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,Gy:0x6666666666666666666666666666666666666666666666666666666666666658n},{p:kn,n:vc,Gx:zm,Gy:jm,a:If,d:Of}=cx,Kb=8n,$r=32,rl=64,rr=(r="")=>{throw new Error(r)},$b=r=>typeof r=="bigint",dx=r=>typeof r=="string",Yb=r=>r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array",Zo=(r,a)=>!Yb(r)||typeof a=="number"&&a>0&&r.length!==a?rr("Uint8Array expected"):r,Kc=r=>new Uint8Array(r),w0=r=>Uint8Array.from(r),fx=(r,a)=>r.toString(16).padStart(a,"0"),b0=r=>Array.from(Zo(r)).map(a=>fx(a,2)).join(""),yi={_0:48,_9:57,A:65,F:70,a:97,f:102},Hm=r=>{if(r>=yi._0&&r<=yi._9)return r-yi._0;if(r>=yi.A&&r<=yi.F)return r-(yi.A-10);if(r>=yi.a&&r<=yi.f)return r-(yi.a-10)},C0=r=>{const a="hex invalid";if(!dx(r))return rr(a);const s=r.length,l=s/2;if(s%2)return rr(a);const f=Kc(l);for(let d=0,m=0;d<l;d++,m+=2){const h=Hm(r.charCodeAt(m)),x=Hm(r.charCodeAt(m+1));if(h===void 0||x===void 0)return rr(a);f[d]=h*16+x}return f},oo=(r,a)=>Zo(dx(r)?C0(r):w0(Zo(r)),a),hx=()=>globalThis==null?void 0:globalThis.crypto,Xb=()=>{var r;return((r=hx())==null?void 0:r.subtle)??rr("crypto.subtle must be defined")},il=(...r)=>{const a=Kc(r.reduce((l,f)=>l+Zo(f).length,0));let s=0;return r.forEach(l=>{a.set(l,s),s+=l.length}),a},px=(r=$r)=>hx().getRandomValues(Kc(r)),Bc=BigInt,jo=(r,a,s,l="bad number: out of range")=>$b(r)&&a<=r&&r<s?r:rr(l),Le=(r,a=kn)=>{const s=r%a;return s>=0n?s:a+s},mx=r=>Le(r,vc),Ax=(r,a)=>{(r===0n||a<=0n)&&rr("no inverse n="+r+" mod="+a);let s=Le(r,a),l=a,f=0n,d=1n;for(;s!==0n;){const m=l/s,h=l%s,x=f-d*m;l=s,s=h,f=d,d=x}return l===1n?Le(f,a):rr("no inverse")},Jb=r=>{const a=D0[r];return typeof a!="function"&&rr("hashes."+r+" not set"),a},Vm=r=>r instanceof Rr?r:rr("Point expected"),Yf=2n**256n,Qr=class Qr{constructor(a,s,l,f){Fo(this,"ex");Fo(this,"ey");Fo(this,"ez");Fo(this,"et");const d=Yf;this.ex=jo(a,0n,d),this.ey=jo(s,0n,d),this.ez=jo(l,1n,d),this.et=jo(f,0n,d),Object.freeze(this)}static fromAffine(a){return new Qr(a.x,a.y,1n,Le(a.x*a.y))}static fromBytes(a,s=!1){const l=Of,f=w0(Zo(a,$r)),d=a[31];f[31]=d&-129;const m=E0(f);jo(m,0n,s?Yf:kn);const x=Le(m*m),p=Le(x-1n),y=Le(l*x+1n);let{isValid:v,value:w}=tC(p,y);v||rr("bad point: y not sqrt");const S=(w&1n)===1n,T=(d&128)!==0;return!s&&w===0n&&T&&rr("bad point: x==0, isLastByteOdd"),T!==S&&(w=Le(-w)),new Qr(w,m,1n,Le(w*m))}assertValidity(){const a=If,s=Of,l=this;if(l.is0())throw new Error("bad point: ZERO");const{ex:f,ey:d,ez:m,et:h}=l,x=Le(f*f),p=Le(d*d),y=Le(m*m),v=Le(y*y),w=Le(x*a),S=Le(y*Le(w+p)),T=Le(v+Le(s*Le(x*p)));if(S!==T)throw new Error("bad point: equation left != right (1)");const C=Le(f*d),E=Le(m*h);if(C!==E)throw new Error("bad point: equation left != right (2)");return this}equals(a){const{ex:s,ey:l,ez:f}=this,{ex:d,ey:m,ez:h}=Vm(a),x=Le(s*h),p=Le(d*f),y=Le(l*h),v=Le(m*f);return x===p&&y===v}is0(){return this.equals(Is)}negate(){return new Qr(Le(-this.ex),this.ey,this.ez,Le(-this.et))}double(){const{ex:a,ey:s,ez:l}=this,f=If,d=Le(a*a),m=Le(s*s),h=Le(2n*Le(l*l)),x=Le(f*d),p=a+s,y=Le(Le(p*p)-d-m),v=x+m,w=v-h,S=x-m,T=Le(y*w),C=Le(v*S),E=Le(y*S),P=Le(w*v);return new Qr(T,C,P,E)}add(a){const{ex:s,ey:l,ez:f,et:d}=this,{ex:m,ey:h,ez:x,et:p}=Vm(a),y=If,v=Of,w=Le(s*m),S=Le(l*h),T=Le(d*v*p),C=Le(f*x),E=Le((s+l)*(m+h)-w-S),P=Le(C-T),B=Le(C+T),k=Le(S-y*w),I=Le(E*P),N=Le(B*k),z=Le(E*k),j=Le(P*B);return new Qr(I,N,j,z)}multiply(a,s=!0){if(!s&&(a===0n||this.is0()))return Is;if(jo(a,1n,vc),a===1n)return this;if(this.equals(_i))return dC(a).p;let l=Is,f=_i;for(let d=this;a>0n;d=d.double(),a>>=1n)a&1n?l=l.add(d):s&&(f=f.add(d));return l}toAffine(){const{ex:a,ey:s,ez:l}=this;if(this.equals(Is))return{x:0n,y:1n};const f=Ax(l,kn);return Le(l*f)!==1n&&rr("invalid inverse"),{x:Le(a*f),y:Le(s*f)}}toBytes(){const{x:a,y:s}=this.assertValidity().toAffine(),l=gx(s);return l[31]|=a&1n?128:0,l}toHex(){return b0(this.toBytes())}clearCofactor(){return this.multiply(Bc(Kb),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let a=this.multiply(vc/2n,!1).double();return vc%2n&&(a=a.add(this)),a.is0()}static fromHex(a,s){return Qr.fromBytes(oo(a),s)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}toRawBytes(){return this.toBytes()}};Fo(Qr,"BASE"),Fo(Qr,"ZERO");let Rr=Qr;const _i=new Rr(zm,jm,1n,Le(zm*jm)),Is=new Rr(0n,1n,1n,0n);Rr.BASE=_i;Rr.ZERO=Is;const gx=r=>C0(fx(jo(r,0n,Yf),rl)).reverse(),E0=r=>Bc("0x"+b0(w0(Zo(r)).reverse())),Gr=(r,a)=>{let s=r;for(;a-- >0n;)s*=s,s%=kn;return s},eC=r=>{const s=r*r%kn*r%kn,l=Gr(s,2n)*s%kn,f=Gr(l,1n)*r%kn,d=Gr(f,5n)*f%kn,m=Gr(d,10n)*d%kn,h=Gr(m,20n)*m%kn,x=Gr(h,40n)*h%kn,p=Gr(x,80n)*x%kn,y=Gr(p,80n)*x%kn,v=Gr(y,10n)*d%kn;return{pow_p_5_8:Gr(v,2n)*r%kn,b2:s}},Um=0x2b8324804fc1df0b2b4d00993dfbd7a72f431806ad2fe478c4ee1b274a0ea0b0n,tC=(r,a)=>{const s=Le(a*a*a),l=Le(s*s*a),f=eC(r*l).pow_p_5_8;let d=Le(r*s*f);const m=Le(a*d*d),h=d,x=Le(d*Um),p=m===r,y=m===Le(-r),v=m===Le(-r*Um);return p&&(d=h),(y||v)&&(d=x),(Le(d)&1n)===1n&&(d=Le(-d)),{isValid:p||y,value:d}},Pc=r=>mx(E0(r)),k0=(...r)=>D0.sha512Async(...r),S0=(...r)=>Jb("sha512Sync")(...r),xx=r=>{const a=r.slice(0,$r);a[0]&=248,a[31]&=127,a[31]|=64;const s=r.slice($r,rl),l=Pc(a),f=_i.multiply(l),d=f.toBytes();return{head:a,prefix:s,scalar:l,point:f,pointBytes:d}},B0=r=>k0(oo(r,$r)).then(xx),P0=r=>xx(S0(oo(r,$r))),nC=r=>B0(r).then(a=>a.pointBytes),rC=r=>P0(r).pointBytes,vx=r=>k0(r.hashable).then(r.finish),yx=r=>r.finish(S0(r.hashable)),_x=(r,a,s)=>{const{pointBytes:l,scalar:f}=r,d=Pc(a),m=_i.multiply(d).toBytes();return{hashable:il(m,l,s),finish:p=>{const y=mx(d+Pc(p)*f);return Zo(il(m,gx(y)),rl)}}},iC=async(r,a)=>{const s=oo(r),l=await B0(a),f=await k0(l.prefix,s);return vx(_x(l,f,s))},oC=(r,a)=>{const s=oo(r),l=P0(a),f=S0(l.prefix,s);return yx(_x(l,f,s))},T0={zip215:!0},wx=(r,a,s,l=T0)=>{r=oo(r,rl),a=oo(a),s=oo(s,$r);const{zip215:f}=l;let d,m,h,x,p=Uint8Array.of();try{d=Rr.fromHex(s,f),m=Rr.fromHex(r.slice(0,$r),f),h=E0(r.slice($r,rl)),x=_i.multiply(h,!1),p=il(m.toBytes(),d.toBytes(),a)}catch{}return{hashable:p,finish:v=>{if(x==null||!f&&d.isSmallOrder())return!1;const w=Pc(v);return m.add(d.multiply(w,!1)).add(x.negate()).clearCofactor().is0()}}},sC=async(r,a,s,l=T0)=>vx(wx(r,a,s,l)),aC=(r,a,s,l=T0)=>yx(wx(r,a,s,l)),D0={sha512Async:async(...r)=>{const a=Xb(),s=il(...r);return Kc(await a.digest("SHA-512",s.buffer))},sha512Sync:void 0,bytesToHex:b0,hexToBytes:C0,concatBytes:il,mod:Le,invert:Ax,randomBytes:px},lC={getExtendedPublicKeyAsync:B0,getExtendedPublicKey:P0,randomPrivateKey:()=>px($r),precompute:(r=8,a=_i)=>(a.multiply(3n),a)},Tc=8,uC=256,bx=Math.ceil(uC/Tc)+1,Xf=2**(Tc-1),cC=()=>{const r=[];let a=_i,s=a;for(let l=0;l<bx;l++){s=a,r.push(s);for(let f=1;f<Xf;f++)s=s.add(a),r.push(s);a=s.double()}return r};let Zm;const Wm=(r,a)=>{const s=a.negate();return r?s:a},dC=r=>{const a=Zm||(Zm=cC());let s=Is,l=_i;const f=2**Tc,d=f,m=Bc(f-1),h=Bc(Tc);for(let x=0;x<bx;x++){let p=Number(r&m);r>>=h,p>Xf&&(p-=d,r+=1n);const y=x*Xf,v=y,w=y+Math.abs(p)-1,S=x%2!==0,T=p<0;p===0?l=l.add(Wm(S,a[v])):s=s.add(Wm(T,a[w]))}return{p:s,f:l}},fC=Object.freeze(Object.defineProperty({__proto__:null,CURVE:cx,ExtendedPoint:Rr,Point:Rr,etc:D0,getPublicKey:rC,getPublicKeyAsync:nC,sign:oC,signAsync:iC,utils:lC,verify:aC,verifyAsync:sC},Symbol.toStringTag,{value:"Module"})),hC=xA(fC);var Io={},zf={exports:{}},qm;function pC(){return qm||(qm=1,(function(r,a){var s=(()=>{var f;var l=typeof document<"u"?(f=document.currentScript)==null?void 0:f.src:void 0;return(async function(d={}){var xn;var m,h=d,x=typeof window=="object",p=typeof WorkerGlobalScope<"u",y=typeof process=="object"&&((xn=process.versions)==null?void 0:xn.node)&&process.type!="renderer";typeof __filename<"u"?l=__filename:p&&(l=self.location.href);var v="";function w(pe){return h.locateFile?h.locateFile(pe,v):v+pe}var S,T;if(y){var C=Sc;v=__dirname+"/",T=pe=>{pe=k(pe)?new URL(pe):pe;var we=C.readFileSync(pe);return we},S=async(pe,we=!0)=>{pe=k(pe)?new URL(pe):pe;var te=C.readFileSync(pe,we?void 0:"utf8");return te},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2)}else if(x||p){try{v=new URL(".",l).href}catch{}p&&(T=pe=>{var we=new XMLHttpRequest;return we.open("GET",pe,!1),we.responseType="arraybuffer",we.send(null),new Uint8Array(we.response)}),S=async pe=>{if(k(pe))return new Promise((te,xe)=>{var Ee=new XMLHttpRequest;Ee.open("GET",pe,!0),Ee.responseType="arraybuffer",Ee.onload=()=>{if(Ee.status==200||Ee.status==0&&Ee.response){te(Ee.response);return}xe(Ee.status)},Ee.onerror=xe,Ee.send(null)});var we=await fetch(pe,{credentials:"same-origin"});if(we.ok)return we.arrayBuffer();throw new Error(we.status+" : "+we.url)}}console.log.bind(console);var E=console.error.bind(console),P,B=!1,k=pe=>pe.startsWith("file://"),I,N,z,j,H,K=!1;function U(){var pe=z.buffer;h.HEAP8=j=new Int8Array(pe),h.HEAPU8=H=new Uint8Array(pe),h.HEAP32=new Int32Array(pe),h.HEAPU32=new Uint32Array(pe),new BigInt64Array(pe),new BigUint64Array(pe)}function G(){if(h.preRun)for(typeof h.preRun=="function"&&(h.preRun=[h.preRun]);h.preRun.length;)Et(h.preRun.shift());ke(Ye)}function re(){K=!0,St.b()}function V(){if(h.postRun)for(typeof h.postRun=="function"&&(h.postRun=[h.postRun]);h.postRun.length;)qe(h.postRun.shift());ke(Ae)}var J=0,le=null;function oe(pe){var we;J++,(we=h.monitorRunDependencies)==null||we.call(h,J)}function de(pe){var te;if(J--,(te=h.monitorRunDependencies)==null||te.call(h,J),J==0&&le){var we=le;le=null,we()}}function q(pe){var te;(te=h.onAbort)==null||te.call(h,pe),pe="Aborted("+pe+")",E(pe),B=!0,pe+=". Build with -sASSERTIONS for more info.";var we=new WebAssembly.RuntimeError(pe);throw N==null||N(we),we}var me;function ne(){return w("orlp-ed25519.wasm")}function D(pe){if(pe==me&&P)return new Uint8Array(P);if(T)return T(pe);throw"both async and sync fetching of the wasm failed"}async function Z(pe){if(!P)try{var we=await S(pe);return new Uint8Array(we)}catch{}return D(pe)}async function $(pe,we){try{var te=await Z(pe),xe=await WebAssembly.instantiate(te,we);return xe}catch(Ee){E(`failed to asynchronously prepare wasm: ${Ee}`),q(Ee)}}async function X(pe,we,te){if(!pe&&typeof WebAssembly.instantiateStreaming=="function"&&!k(we)&&!y)try{var xe=fetch(we,{credentials:"same-origin"}),Ee=await WebAssembly.instantiateStreaming(xe,te);return Ee}catch(He){E(`wasm streaming compile failed: ${He}`),E("falling back to ArrayBuffer instantiation")}return $(we,te)}function fe(){return{a:Ut}}async function he(){function pe(He,ze){return St=He.exports,z=St.a,U(),Sn(St),de(),St}oe();function we(He){return pe(He.instance)}var te=fe();if(h.instantiateWasm)return new Promise((He,ze)=>{h.instantiateWasm(te,(nt,hn)=>{He(pe(nt))})});me??(me=ne());var xe=await X(P,me,te),Ee=we(xe);return Ee}var ke=pe=>{for(;pe.length>0;)pe.shift()(h)},Ae=[],qe=pe=>Ae.push(pe),Ye=[],Et=pe=>Ye.push(pe),ht=pe=>It(pe),Se=()=>fn(),Ve=pe=>{var we=h["_"+pe];return we},dt=(pe,we)=>{j.set(pe,we)},Mt=pe=>{for(var we=0,te=0;te<pe.length;++te){var xe=pe.charCodeAt(te);xe<=127?we++:xe<=2047?we+=2:xe>=55296&&xe<=57343?(we+=4,++te):we+=3}return we},vt=(pe,we,te,xe)=>{if(!(xe>0))return 0;for(var Ee=te,He=te+xe-1,ze=0;ze<pe.length;++ze){var nt=pe.codePointAt(ze);if(nt<=127){if(te>=He)break;we[te++]=nt}else if(nt<=2047){if(te+1>=He)break;we[te++]=192|nt>>6,we[te++]=128|nt&63}else if(nt<=65535){if(te+2>=He)break;we[te++]=224|nt>>12,we[te++]=128|nt>>6&63,we[te++]=128|nt&63}else{if(te+3>=He)break;we[te++]=240|nt>>18,we[te++]=128|nt>>12&63,we[te++]=128|nt>>6&63,we[te++]=128|nt&63,ze++}}return we[te]=0,te-Ee},ot=(pe,we,te)=>vt(pe,H,we,te),Qe=pe=>Jt(pe),Xe=pe=>{var we=Mt(pe)+1,te=Qe(we);return ot(pe,te,we),te},et=typeof TextDecoder<"u"?new TextDecoder:void 0,Oe=(pe,we=0,te=NaN)=>{for(var xe=we+te,Ee=we;pe[Ee]&&!(Ee>=xe);)++Ee;if(Ee-we>16&&pe.buffer&&et)return et.decode(pe.subarray(we,Ee));for(var He="";we<Ee;){var ze=pe[we++];if(!(ze&128)){He+=String.fromCharCode(ze);continue}var nt=pe[we++]&63;if((ze&224)==192){He+=String.fromCharCode((ze&31)<<6|nt);continue}var hn=pe[we++]&63;if((ze&240)==224?ze=(ze&15)<<12|nt<<6|hn:ze=(ze&7)<<18|nt<<12|hn<<6|pe[we++]&63,ze<65536)He+=String.fromCharCode(ze);else{var je=ze-65536;He+=String.fromCharCode(55296|je>>10,56320|je&1023)}}return He},_t=(pe,we)=>pe?Oe(H,pe,we):"",$t=(pe,we,te,xe,Ee)=>{var He={string:rt=>{var wt=0;return rt!=null&&rt!==0&&(wt=Xe(rt)),wt},array:rt=>{var wt=Qe(rt.length);return dt(rt,wt),wt}};function ze(rt){return we==="string"?_t(rt):we==="boolean"?!!rt:rt}var nt=Ve(pe),hn=[],je=0;if(xe)for(var pt=0;pt<xe.length;pt++){var kt=He[te[pt]];kt?(je===0&&(je=Se()),hn[pt]=kt(xe[pt])):hn[pt]=xe[pt]}var Rt=nt(...hn);function Fn(rt){return je!==0&&ht(je),ze(rt)}return Rt=Fn(Rt),Rt},Un=(pe,we,te,xe)=>{var Ee=!te||te.every(ze=>ze==="number"||ze==="boolean"),He=we!=="string";return He&&Ee&&!xe?Ve(pe):(...ze)=>$t(pe,we,te,ze)};h.noExitRuntime&&h.noExitRuntime,h.print&&h.print,h.printErr&&(E=h.printErr),h.wasmBinary&&(P=h.wasmBinary),h.arguments&&h.arguments,h.thisProgram&&h.thisProgram,h.ccall=$t,h.cwrap=Un;var It,Jt,fn;function Sn(pe){h._orlp_derive_public_key=pe.c,h._orlp_validate_keypair=pe.d,h._orlp_sign=pe.e,h._orlp_verify=pe.f,It=pe.g,Jt=pe.h,fn=pe.i}var Ut={},St=await he();function Zt(){if(J>0){le=Zt;return}if(G(),J>0){le=Zt;return}function pe(){var we;h.calledRun=!0,!B&&(re(),I==null||I(h),(we=h.onRuntimeInitialized)==null||we.call(h),V())}h.setStatus?(h.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>h.setStatus(""),1),pe()},1)):pe()}function Zn(){if(h.preInit)for(typeof h.preInit=="function"&&(h.preInit=[h.preInit]);h.preInit.length>0;)h.preInit.shift()()}return Zn(),Zt(),K?m=h:m=new Promise((pe,we)=>{I=pe,N=we}),m})})();r.exports=s,r.exports.default=s})(zf)),zf.exports}var Gm;function R0(){if(Gm)return Io;Gm=1,Object.defineProperty(Io,"__esModule",{value:!0}),Io.derivePublicKey=l,Io.validateKeyPair=f,Io.sign=d,Io.verify=m;const r=gn(),a=pC();async function s(){return await a()}async function l(h){const x=await s(),p=(0,r.hexToBytes)(h);if(p.length!==64)throw new Error(`Invalid private key length: expected 64 bytes, got ${p.length}`);const y=1024,v=1088;if(x.HEAPU8.set(p,y),x.ccall("orlp_derive_public_key","number",["number","number"],[v,y])!==0)throw new Error("orlp key derivation failed: invalid private key");const S=new Uint8Array(32);return S.set(x.HEAPU8.subarray(v,v+32)),(0,r.bytesToHex)(S)}async function f(h,x){try{const p=await s(),y=(0,r.hexToBytes)(h),v=(0,r.hexToBytes)(x);if(y.length!==64||v.length!==32)return!1;const w=2048,S=2112;return p.HEAPU8.set(y,w),p.HEAPU8.set(v,S),p.ccall("orlp_validate_keypair","number",["number","number"],[S,w])===1}catch{return!1}}async function d(h,x,p){const y=await s(),v=(0,r.hexToBytes)(h),w=(0,r.hexToBytes)(x),S=(0,r.hexToBytes)(p);if(w.length!==64)throw new Error(`Invalid private key length: expected 64 bytes, got ${w.length}`);if(S.length!==32)throw new Error(`Invalid public key length: expected 32 bytes, got ${S.length}`);const T=1e5,C=2e5,E=3e5,P=4e5;y.HEAPU8.set(v,T),y.HEAPU8.set(w,C),y.HEAPU8.set(S,E),y.ccall("orlp_sign","void",["number","number","number","number","number"],[P,T,v.length,E,C]);const B=new Uint8Array(64);return B.set(y.HEAPU8.subarray(P,P+64)),(0,r.bytesToHex)(B)}async function m(h,x,p){try{const y=await s(),v=(0,r.hexToBytes)(h),w=(0,r.hexToBytes)(x),S=(0,r.hexToBytes)(p);if(v.length!==64||S.length!==32)return!1;const T=5e5,C=6e5,E=7e5;return y.HEAPU8.set(v,C),y.HEAPU8.set(w,T),y.HEAPU8.set(S,E),y.ccall("orlp_verify","number",["number","number","number","number"],[C,T,w.length,E])===1}catch{return!1}}return Io}var Qm;function Cx(){if(Qm)return Tr;Qm=1;var r=Tr&&Tr.__createBinding||(Object.create?(function(p,y,v,w){w===void 0&&(w=v);var S=Object.getOwnPropertyDescriptor(y,v);(!S||("get"in S?!y.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return y[v]}}),Object.defineProperty(p,w,S)}):(function(p,y,v,w){w===void 0&&(w=v),p[w]=y[v]})),a=Tr&&Tr.__setModuleDefault||(Object.create?(function(p,y){Object.defineProperty(p,"default",{enumerable:!0,value:y})}):function(p,y){p.default=y}),s=Tr&&Tr.__importStar||(function(){var p=function(y){return p=Object.getOwnPropertyNames||function(v){var w=[];for(var S in v)Object.prototype.hasOwnProperty.call(v,S)&&(w[w.length]=S);return w},p(y)};return function(y){if(y&&y.__esModule)return y;var v={};if(y!=null)for(var w=p(y),S=0;S<w.length;S++)w[S]!=="default"&&r(v,y,w[S]);return a(v,y),v}})();Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.Ed25519SignatureVerifier=void 0;const l=s(hC),f=gn(),d=R0();async function m(p){if(typeof globalThis<"u"&&globalThis.crypto&&globalThis.crypto.subtle){const y=await globalThis.crypto.subtle.digest("SHA-512",p);return new Uint8Array(y)}if(typeof $f<"u")try{const{createHash:y}=Sc;return y("sha512").update(p).digest()}catch{}throw new Error("No SHA-512 implementation available")}function h(p){if(typeof $f<"u")try{const{createHash:y}=Sc;return y("sha512").update(p).digest()}catch{}try{const y=lx(),v=y.lib.WordArray.create(p),w=y.SHA512(v),S=new Uint8Array(64);for(let T=0;T<16;T++){const C=w.words[T]||0;S[T*4]=C>>>24&255,S[T*4+1]=C>>>16&255,S[T*4+2]=C>>>8&255,S[T*4+3]=C&255}return S}catch{throw new Error("No SHA-512 implementation available for synchronous operation")}}l.etc.sha512Async=m;try{l.etc.sha512Sync=h}catch(p){console.debug("Could not set up synchronous SHA-512:",p)}class x{static async verifyAdvertisementSignature(y,v,w,S){try{const T=(0,f.hexToBytes)(y),C=(0,f.hexToBytes)(v),E=(0,f.hexToBytes)(S),P=this.constructAdvertSignedMessage(y,w,E);return await l.verify(C,P,T)}catch(T){return console.error("Ed25519 signature verification failed:",T),!1}}static constructAdvertSignedMessage(y,v,w){const S=(0,f.hexToBytes)(y),T=new Uint8Array(4);T[0]=v&255,T[1]=v>>8&255,T[2]=v>>16&255,T[3]=v>>24&255;const C=new Uint8Array(36+w.length);return C.set(S,0),C.set(T,32),C.set(w,36),C}static getSignedMessageDescription(y,v,w){return`Public Key: ${y} + Timestamp: ${v} (${new Date(v*1e3).toISOString()}) + App Data: ${w}`}static getSignedMessageHex(y,v,w){const S=(0,f.hexToBytes)(w),T=this.constructAdvertSignedMessage(y,v,S);return(0,f.bytesToHex)(T)}static async derivePublicKey(y){try{const v=(0,f.hexToBytes)(y);if(v.length!==64)throw new Error(`Invalid private key length: expected 64 bytes, got ${v.length}`);return await(0,d.derivePublicKey)(y)}catch(v){throw new Error(`Failed to derive public key: ${v instanceof Error?v.message:"Unknown error"}`)}}static derivePublicKeySync(y){try{const v=(0,f.hexToBytes)(y);throw v.length!==64?new Error(`Invalid private key length: expected 64 bytes, got ${v.length}`):new Error("Synchronous key derivation not supported with WASM. Use derivePublicKey() instead.")}catch(v){throw new Error(`Failed to derive public key: ${v instanceof Error?v.message:"Unknown error"}`)}}static async validateKeyPair(y,v){try{return await(0,d.validateKeyPair)(y,v)}catch{return!1}}}return Tr.Ed25519SignatureVerifier=x,Tr}var Km;function mC(){if(Km)return Ha;Km=1,Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.AdvertPayloadDecoder=void 0;const r=ir(),a=gn(),s=nl(),l=Cx();class f{static decode(m,h){try{if(m.length<101){const P={type:r.PayloadType.Advert,version:r.PayloadVersion.Version1,isValid:!1,errors:["Advertisement payload too short"],publicKey:"",timestamp:0,signature:"",appData:{flags:0,deviceRole:r.DeviceRole.ChatNode,hasLocation:!1,hasName:!1}};return h!=null&&h.includeSegments&&(P.segments=[{name:"Invalid Advert Data",description:"Advert payload too short (minimum 101 bytes required)",startByte:h.segmentOffset||0,endByte:(h.segmentOffset||0)+m.length-1,value:(0,a.bytesToHex)(m)}]),P}const x=[],p=(h==null?void 0:h.segmentOffset)||0;let y=0;const v=(0,a.bytesToHex)(m.subarray(y,y+32));h!=null&&h.includeSegments&&x.push({name:"Public Key",description:"Ed25519 public key",startByte:p+y,endByte:p+y+31,value:v}),y+=32;const w=this.readUint32LE(m,y);if(h!=null&&h.includeSegments){const P=new Date(w*1e3);x.push({name:"Timestamp",description:`${w} (${P.toISOString().slice(0,19)}Z)`,startByte:p+y,endByte:p+y+3,value:(0,a.bytesToHex)(m.subarray(y,y+4))})}y+=4;const S=(0,a.bytesToHex)(m.subarray(y,y+64));h!=null&&h.includeSegments&&x.push({name:"Signature",description:"Ed25519 signature",startByte:p+y,endByte:p+y+63,value:S}),y+=64;const T=m[y];if(h!=null&&h.includeSegments){const P=T.toString(2).padStart(8,"0"),B=this.parseDeviceRole(T),I=` | Bits 0-3 (Role): ${(0,s.getDeviceRoleName)(B)} | Bit 4 (Location): ${T&r.AdvertFlags.HasLocation?"Yes":"No"} | Bit 7 (Name): ${T&r.AdvertFlags.HasName?"Yes":"No"}`;x.push({name:"App Flags",description:`Binary: ${P}${I}`,startByte:p+y,endByte:p+y,value:T.toString(16).padStart(2,"0").toUpperCase()})}y+=1;const C={type:r.PayloadType.Advert,version:r.PayloadVersion.Version1,isValid:!0,publicKey:v,timestamp:w,signature:S,appData:{flags:T,deviceRole:this.parseDeviceRole(T),hasLocation:!!(T&r.AdvertFlags.HasLocation),hasName:!!(T&r.AdvertFlags.HasName)}};let E=y;if(T&r.AdvertFlags.HasLocation&&m.length>=E+8){const P=this.readInt32LE(m,E)/1e6,B=this.readInt32LE(m,E+4)/1e6;C.appData.location={latitude:Math.round(P*1e6)/1e6,longitude:Math.round(B*1e6)/1e6},h!=null&&h.includeSegments&&(x.push({name:"Latitude",description:`${P} (${P})`,startByte:p+E,endByte:p+E+3,value:(0,a.bytesToHex)(m.subarray(E,E+4))}),x.push({name:"Longitude",description:`${B} (${B})`,startByte:p+E+4,endByte:p+E+7,value:(0,a.bytesToHex)(m.subarray(E+4,E+8))})),E+=8}if(T&r.AdvertFlags.HasFeature1&&(E+=2),T&r.AdvertFlags.HasFeature2&&(E+=2),T&r.AdvertFlags.HasName&&m.length>E){const P=m.subarray(E),B=new TextDecoder("utf-8").decode(P).replace(/\0.*$/,"");C.appData.name=this.sanitizeControlCharacters(B)||B,h!=null&&h.includeSegments&&x.push({name:"Node Name",description:`Node name: "${C.appData.name}"`,startByte:p+E,endByte:p+m.length-1,value:(0,a.bytesToHex)(P)})}return h!=null&&h.includeSegments&&(C.segments=x),C}catch(x){return{type:r.PayloadType.Advert,version:r.PayloadVersion.Version1,isValid:!1,errors:[x instanceof Error?x.message:"Failed to decode advertisement payload"],publicKey:"",timestamp:0,signature:"",appData:{flags:0,deviceRole:r.DeviceRole.ChatNode,hasLocation:!1,hasName:!1}}}}static async decodeWithVerification(m,h){const x=this.decode(m,h);if(!x||!x.isValid)return x;try{const y=m.subarray(100),v=(0,a.bytesToHex)(y),w=await l.Ed25519SignatureVerifier.verifyAdvertisementSignature(x.publicKey,x.signature,x.timestamp,v);x.signatureValid=w,w||(x.signatureError="Ed25519 signature verification failed",x.isValid=!1,x.errors||(x.errors=[]),x.errors.push("Invalid Ed25519 signature"))}catch(p){x.signatureValid=!1,x.signatureError=p instanceof Error?p.message:"Signature verification error",x.isValid=!1,x.errors||(x.errors=[]),x.errors.push("Signature verification failed: "+(p instanceof Error?p.message:"Unknown error"))}return x}static parseDeviceRole(m){switch(m&15){case 1:return r.DeviceRole.ChatNode;case 2:return r.DeviceRole.Repeater;case 3:return r.DeviceRole.RoomServer;case 4:return r.DeviceRole.Sensor;default:return r.DeviceRole.ChatNode}}static readUint32LE(m,h){return m[h]|m[h+1]<<8|m[h+2]<<16|m[h+3]<<24}static readInt32LE(m,h){const x=this.readUint32LE(m,h);return x>2147483647?x-4294967296:x}static sanitizeControlCharacters(m){return m&&m.trim().replace(/[\x00-\x1F\x7F]/g,"")||null}}return Ha.AdvertPayloadDecoder=f,Ha}var Va={},$m;function AC(){if($m)return Va;$m=1,Object.defineProperty(Va,"__esModule",{value:!0}),Va.TracePayloadDecoder=void 0;const r=ir(),a=gn();class s{static decode(f,d,m){try{if(f.length<9){const B={type:r.PayloadType.Trace,version:r.PayloadVersion.Version1,isValid:!1,errors:["Trace payload too short (need at least tag(4) + auth(4) + flags(1))"],traceTag:"00000000",authCode:0,flags:0,pathHashes:[]};return m!=null&&m.includeSegments&&(B.segments=[{name:"Invalid Trace Data",description:"Trace payload too short (minimum 9 bytes required)",startByte:m.segmentOffset||0,endByte:(m.segmentOffset||0)+f.length-1,value:(0,a.bytesToHex)(f)}]),B}let h=0;const x=[],p=(m==null?void 0:m.segmentOffset)||0,y=this.readUint32LE(f,h),v=(0,a.numberToHex)(y,8);m!=null&&m.includeSegments&&x.push({name:"Trace Tag",description:`Unique identifier for this trace: 0x${y.toString(16).padStart(8,"0")}`,startByte:p+h,endByte:p+h+3,value:(0,a.bytesToHex)(f.slice(h,h+4))}),h+=4;const w=this.readUint32LE(f,h);m!=null&&m.includeSegments&&x.push({name:"Auth Code",description:`Authentication/verification code: ${w}`,startByte:p+h,endByte:p+h+3,value:(0,a.bytesToHex)(f.slice(h,h+4))}),h+=4;const S=f[h];m!=null&&m.includeSegments&&x.push({name:"Flags",description:`Application-defined control flags: 0x${S.toString(16).padStart(2,"0")} (${S.toString(2).padStart(8,"0")}b)`,startByte:p+h,endByte:p+h,value:S.toString(16).padStart(2,"0").toUpperCase()}),h+=1;const T=[],C=h;for(;h<f.length;)T.push((0,a.byteToHex)(f[h])),h++;if(m!=null&&m.includeSegments&&T.length>0){const B=T.join(" ");x.push({name:"Path Hashes",description:`Node hashes in trace path: ${B}`,startByte:p+C,endByte:p+f.length-1,value:(0,a.bytesToHex)(f.slice(C))})}let E;d&&d.length>0&&(E=d.map(B=>{const k=parseInt(B,16);return(k>127?k-256:k)/4}));const P={type:r.PayloadType.Trace,version:r.PayloadVersion.Version1,isValid:!0,traceTag:v,authCode:w,flags:S,pathHashes:T,snrValues:E};return m!=null&&m.includeSegments&&(P.segments=x),P}catch(h){return{type:r.PayloadType.Trace,version:r.PayloadVersion.Version1,isValid:!1,errors:[h instanceof Error?h.message:"Failed to decode trace payload"],traceTag:"00000000",authCode:0,flags:0,pathHashes:[]}}}static readUint32LE(f,d){return f[d]|f[d+1]<<8|f[d+2]<<16|f[d+3]<<24}}return Va.TracePayloadDecoder=s,Va}var Ua={},Ym;function gC(){if(Ym)return Ua;Ym=1,Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.GroupTextPayloadDecoder=void 0;const r=ir(),a=_0(),s=gn();class l{static decode(d,m){try{if(d.length<3){const T={type:r.PayloadType.GroupText,version:r.PayloadVersion.Version1,isValid:!1,errors:["GroupText payload too short (need at least channel_hash(1) + MAC(2))"],channelHash:"",cipherMac:"",ciphertext:"",ciphertextLength:0};return m!=null&&m.includeSegments&&(T.segments=[{name:"Invalid GroupText Data",description:"GroupText payload too short (minimum 3 bytes required)",startByte:m.segmentOffset||0,endByte:(m.segmentOffset||0)+d.length-1,value:(0,s.bytesToHex)(d)}]),T}const h=[],x=(m==null?void 0:m.segmentOffset)||0;let p=0;const y=(0,s.byteToHex)(d[p]);m!=null&&m.includeSegments&&h.push({name:"Channel Hash",description:"First byte of SHA256 of channel's shared key",startByte:x+p,endByte:x+p,value:y}),p+=1;const v=(0,s.bytesToHex)(d.subarray(p,p+2));m!=null&&m.includeSegments&&h.push({name:"Cipher MAC",description:"MAC for encrypted data",startByte:x+p,endByte:x+p+1,value:v}),p+=2;const w=(0,s.bytesToHex)(d.subarray(p));m!=null&&m.includeSegments&&d.length>p&&h.push({name:"Ciphertext",description:"Encrypted message content (timestamp + flags + message)",startByte:x+p,endByte:x+d.length-1,value:w});const S={type:r.PayloadType.GroupText,version:r.PayloadVersion.Version1,isValid:!0,channelHash:y,cipherMac:v,ciphertext:w,ciphertextLength:d.length-3};if(m!=null&&m.keyStore&&m.keyStore.hasChannelKey(y)){const T=m.keyStore.getChannelKeys(y);for(const C of T){const E=a.ChannelCrypto.decryptGroupTextMessage(w,v,C);if(E.success&&E.data){S.decrypted={timestamp:E.data.timestamp,flags:E.data.flags,sender:E.data.sender,message:E.data.message};break}}}return m!=null&&m.includeSegments&&(S.segments=h),S}catch(h){return{type:r.PayloadType.GroupText,version:r.PayloadVersion.Version1,isValid:!1,errors:[h instanceof Error?h.message:"Failed to decode GroupText payload"],channelHash:"",cipherMac:"",ciphertext:"",ciphertextLength:0}}}}return Ua.GroupTextPayloadDecoder=l,Ua}var Za={},Xm;function xC(){if(Xm)return Za;Xm=1,Object.defineProperty(Za,"__esModule",{value:!0}),Za.RequestPayloadDecoder=void 0;const r=ir(),a=gn();class s{static decode(f,d){try{if(f.length<4){const T={type:r.PayloadType.Request,version:r.PayloadVersion.Version1,isValid:!1,errors:["Request payload too short (minimum 4 bytes: dest hash + source hash + MAC)"],timestamp:0,requestType:r.RequestType.GetStats,requestData:"",destinationHash:"",sourceHash:"",cipherMac:"",ciphertext:""};return d!=null&&d.includeSegments&&(T.segments=[{name:"Invalid Request Data",description:"Request payload too short (minimum 4 bytes required: 1 for dest hash + 1 for source hash + 2 for MAC)",startByte:d.segmentOffset||0,endByte:(d.segmentOffset||0)+f.length-1,value:(0,a.bytesToHex)(f)}]),T}const m=[],h=(d==null?void 0:d.segmentOffset)||0;let x=0;const p=(0,a.bytesToHex)(f.subarray(x,x+1));d!=null&&d.includeSegments&&m.push({name:"Destination Hash",description:`First byte of destination node public key: 0x${p}`,startByte:h+x,endByte:h+x,value:p}),x+=1;const y=(0,a.bytesToHex)(f.subarray(x,x+1));d!=null&&d.includeSegments&&m.push({name:"Source Hash",description:`First byte of source node public key: 0x${y}`,startByte:h+x,endByte:h+x,value:y}),x+=1;const v=(0,a.bytesToHex)(f.subarray(x,x+2));d!=null&&d.includeSegments&&m.push({name:"Cipher MAC",description:"MAC for encrypted data verification (2 bytes)",startByte:h+x,endByte:h+x+1,value:v}),x+=2;const w=(0,a.bytesToHex)(f.subarray(x));d!=null&&d.includeSegments&&f.length>x&&m.push({name:"Ciphertext",description:`Encrypted message data (${f.length-x} bytes). Contains encrypted plaintext with this structure:
 Timestamp (4 bytes) - send time as unix timestamp
 Request Type (1 byte) - type of request (GetStats, GetTelemetryData, etc.)
 Request Data (remaining bytes) - additional request-specific data`,startByte:h+x,endByte:h+f.length-1,value:w});const S={type:r.PayloadType.Request,version:r.PayloadVersion.Version1,isValid:!0,timestamp:0,requestType:r.RequestType.GetStats,requestData:"",destinationHash:p,sourceHash:y,cipherMac:v,ciphertext:w};return d!=null&&d.includeSegments&&(S.segments=m),S}catch(m){return{type:r.PayloadType.Request,version:r.PayloadVersion.Version1,isValid:!1,errors:[m instanceof Error?m.message:"Failed to decode request payload"],timestamp:0,requestType:r.RequestType.GetStats,requestData:"",destinationHash:"",sourceHash:"",cipherMac:"",ciphertext:""}}}}return Za.RequestPayloadDecoder=s,Za}var Wa={},Jm;function vC(){if(Jm)return Wa;Jm=1,Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.ResponsePayloadDecoder=void 0;const r=ir(),a=gn();class s{static decode(f,d){try{if(f.length<4){const T={type:r.PayloadType.Response,version:r.PayloadVersion.Version1,isValid:!1,errors:["Response payload too short (minimum 4 bytes: dest + source + MAC)"],destinationHash:"",sourceHash:"",cipherMac:"",ciphertext:"",ciphertextLength:0};return d!=null&&d.includeSegments&&(T.segments=[{name:"Invalid Response Data",description:"Response payload too short (minimum 4 bytes required)",startByte:d.segmentOffset||0,endByte:(d.segmentOffset||0)+f.length-1,value:(0,a.bytesToHex)(f)}]),T}const m=[],h=(d==null?void 0:d.segmentOffset)||0;let x=0;const p=(0,a.byteToHex)(f[x]);d!=null&&d.includeSegments&&m.push({name:"Destination Hash",description:"First byte of destination node public key",startByte:h+x,endByte:h+x,value:p}),x+=1;const y=(0,a.byteToHex)(f[x]);d!=null&&d.includeSegments&&m.push({name:"Source Hash",description:"First byte of source node public key",startByte:h+x,endByte:h+x,value:y}),x+=1;const v=(0,a.bytesToHex)(f.subarray(x,x+2));d!=null&&d.includeSegments&&m.push({name:"Cipher MAC",description:"MAC for encrypted data in next field",startByte:h+x,endByte:h+x+1,value:v}),x+=2;const w=(0,a.bytesToHex)(f.subarray(x));d!=null&&d.includeSegments&&f.length>x&&m.push({name:"Ciphertext",description:"Encrypted response data (tag + content)",startByte:h+x,endByte:h+f.length-1,value:w});const S={type:r.PayloadType.Response,version:r.PayloadVersion.Version1,isValid:!0,destinationHash:p,sourceHash:y,cipherMac:v,ciphertext:w,ciphertextLength:f.length-4};return d!=null&&d.includeSegments&&(S.segments=m),S}catch(m){return{type:r.PayloadType.Response,version:r.PayloadVersion.Version1,isValid:!1,errors:[m instanceof Error?m.message:"Failed to decode response payload"],destinationHash:"",sourceHash:"",cipherMac:"",ciphertext:"",ciphertextLength:0}}}}return Wa.ResponsePayloadDecoder=s,Wa}var qa={},eA;function yC(){if(eA)return qa;eA=1,Object.defineProperty(qa,"__esModule",{value:!0}),qa.AnonRequestPayloadDecoder=void 0;const r=ir(),a=gn();class s{static decode(f,d){try{if(f.length<35){const T={type:r.PayloadType.AnonRequest,version:r.PayloadVersion.Version1,isValid:!1,errors:["AnonRequest payload too short (minimum 35 bytes: dest + public key + MAC)"],destinationHash:"",senderPublicKey:"",cipherMac:"",ciphertext:"",ciphertextLength:0};return d!=null&&d.includeSegments&&(T.segments=[{name:"Invalid AnonRequest Data",description:"AnonRequest payload too short (minimum 35 bytes required: 1 for dest hash + 32 for public key + 2 for MAC)",startByte:d.segmentOffset||0,endByte:(d.segmentOffset||0)+f.length-1,value:(0,a.bytesToHex)(f)}]),T}const m=[],h=(d==null?void 0:d.segmentOffset)||0;let x=0;const p=(0,a.byteToHex)(f[0]);d!=null&&d.includeSegments&&m.push({name:"Destination Hash",description:`First byte of destination node public key: 0x${p}`,startByte:h+x,endByte:h+x,value:p}),x+=1;const y=(0,a.bytesToHex)(f.subarray(1,33));d!=null&&d.includeSegments&&m.push({name:"Sender Public Key",description:"Ed25519 public key of the sender (32 bytes)",startByte:h+x,endByte:h+x+31,value:y}),x+=32;const v=(0,a.bytesToHex)(f.subarray(33,35));d!=null&&d.includeSegments&&m.push({name:"Cipher MAC",description:"MAC for encrypted data verification (2 bytes)",startByte:h+x,endByte:h+x+1,value:v}),x+=2;const w=(0,a.bytesToHex)(f.subarray(35));d!=null&&d.includeSegments&&f.length>35&&m.push({name:"Ciphertext",description:`Encrypted message data (${f.length-35} bytes). Contains encrypted plaintext with this structure:
 Timestamp (4 bytes) - send time as unix timestamp
 Sync Timestamp (4 bytes) - room server only, sender's "sync messages SINCE x" timestamp  
 Password (remaining bytes) - password for repeater/room`,startByte:h+x,endByte:h+f.length-1,value:w});const S={type:r.PayloadType.AnonRequest,version:r.PayloadVersion.Version1,isValid:!0,destinationHash:p,senderPublicKey:y,cipherMac:v,ciphertext:w,ciphertextLength:f.length-35};return d!=null&&d.includeSegments&&(S.segments=m),S}catch(m){return{type:r.PayloadType.AnonRequest,version:r.PayloadVersion.Version1,isValid:!1,errors:[m instanceof Error?m.message:"Failed to decode AnonRequest payload"],destinationHash:"",senderPublicKey:"",cipherMac:"",ciphertext:"",ciphertextLength:0}}}}return qa.AnonRequestPayloadDecoder=s,qa}var Ga={},tA;function _C(){if(tA)return Ga;tA=1,Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.AckPayloadDecoder=void 0;const r=ir(),a=gn();class s{static decode(f,d){try{if(f.length<4){const y={type:r.PayloadType.Ack,version:r.PayloadVersion.Version1,isValid:!1,errors:["Ack payload too short (minimum 4 bytes for checksum)"],checksum:""};return d!=null&&d.includeSegments&&(y.segments=[{name:"Invalid Ack Data",description:"Ack payload too short (minimum 4 bytes required for checksum)",startByte:d.segmentOffset||0,endByte:(d.segmentOffset||0)+f.length-1,value:(0,a.bytesToHex)(f)}]),y}const m=[],h=(d==null?void 0:d.segmentOffset)||0,x=(0,a.bytesToHex)(f.subarray(0,4));d!=null&&d.includeSegments&&m.push({name:"Checksum",description:`CRC checksum of message timestamp, text, and sender pubkey: 0x${x}`,startByte:h,endByte:h+3,value:x}),d!=null&&d.includeSegments&&f.length>4&&m.push({name:"Additional Data",description:"Extra data in Ack payload",startByte:h+4,endByte:h+f.length-1,value:(0,a.bytesToHex)(f.subarray(4))});const p={type:r.PayloadType.Ack,version:r.PayloadVersion.Version1,isValid:!0,checksum:x};return d!=null&&d.includeSegments&&(p.segments=m),p}catch(m){return{type:r.PayloadType.Ack,version:r.PayloadVersion.Version1,isValid:!1,errors:[m instanceof Error?m.message:"Failed to decode Ack payload"],checksum:""}}}}return Ga.AckPayloadDecoder=s,Ga}var Qa={},nA;function wC(){if(nA)return Qa;nA=1,Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.PathPayloadDecoder=void 0;const r=ir(),a=gn();class s{static decode(f){try{if(f.length<2)return{type:r.PayloadType.Path,version:r.PayloadVersion.Version1,isValid:!1,errors:["Path payload too short (minimum 2 bytes: path length + extra type)"],pathLength:0,pathHashes:[],extraType:0,extraData:""};const d=f[0];if(f.length<1+d+1)return{type:r.PayloadType.Path,version:r.PayloadVersion.Version1,isValid:!1,errors:[`Path payload too short (need ${1+d+1} bytes for path length + path + extra type)`],pathLength:d,pathHashes:[],extraType:0,extraData:""};const m=[];for(let p=0;p<d;p++)m.push((0,a.byteToHex)(f[1+p]));const h=f[1+d];let x="";return f.length>1+d+1&&(x=(0,a.bytesToHex)(f.subarray(1+d+1))),{type:r.PayloadType.Path,version:r.PayloadVersion.Version1,isValid:!0,pathLength:d,pathHashes:m,extraType:h,extraData:x}}catch(d){return{type:r.PayloadType.Path,version:r.PayloadVersion.Version1,isValid:!1,errors:[d instanceof Error?d.message:"Failed to decode Path payload"],pathLength:0,pathHashes:[],extraType:0,extraData:""}}}}return Qa.PathPayloadDecoder=s,Qa}var Ka={},rA;function bC(){if(rA)return Ka;rA=1,Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.TextMessagePayloadDecoder=void 0;const r=ir(),a=gn();class s{static decode(f,d){try{if(f.length<4){const T={type:r.PayloadType.TextMessage,version:r.PayloadVersion.Version1,isValid:!1,errors:["TextMessage payload too short (minimum 4 bytes: dest + source + MAC)"],destinationHash:"",sourceHash:"",cipherMac:"",ciphertext:"",ciphertextLength:0};return d!=null&&d.includeSegments&&(T.segments=[{name:"Invalid TextMessage Data",description:"TextMessage payload too short (minimum 4 bytes required)",startByte:d.segmentOffset||0,endByte:(d.segmentOffset||0)+f.length-1,value:(0,a.bytesToHex)(f)}]),T}const m=[],h=(d==null?void 0:d.segmentOffset)||0;let x=0;const p=(0,a.byteToHex)(f[x]);d!=null&&d.includeSegments&&m.push({name:"Destination Hash",description:"First byte of destination node public key",startByte:h+x,endByte:h+x,value:p}),x+=1;const y=(0,a.byteToHex)(f[x]);d!=null&&d.includeSegments&&m.push({name:"Source Hash",description:"First byte of source node public key",startByte:h+x,endByte:h+x,value:y}),x+=1;const v=(0,a.bytesToHex)(f.subarray(x,x+2));d!=null&&d.includeSegments&&m.push({name:"Cipher MAC",description:"MAC for encrypted data in next field",startByte:h+x,endByte:h+x+1,value:v}),x+=2;const w=(0,a.bytesToHex)(f.subarray(x));d!=null&&d.includeSegments&&f.length>x&&m.push({name:"Ciphertext",description:"Encrypted message data (timestamp + message text)",startByte:h+x,endByte:h+f.length-1,value:w});const S={type:r.PayloadType.TextMessage,version:r.PayloadVersion.Version1,isValid:!0,destinationHash:p,sourceHash:y,cipherMac:v,ciphertext:w,ciphertextLength:f.length-4};return d!=null&&d.includeSegments&&(S.segments=m),S}catch(m){return{type:r.PayloadType.TextMessage,version:r.PayloadVersion.Version1,isValid:!1,errors:[m instanceof Error?m.message:"Failed to decode TextMessage payload"],destinationHash:"",sourceHash:"",cipherMac:"",ciphertext:"",ciphertextLength:0}}}}return Ka.TextMessagePayloadDecoder=s,Ka}var $a={},iA;function CC(){if(iA)return $a;iA=1,Object.defineProperty($a,"__esModule",{value:!0}),$a.ControlPayloadDecoder=void 0;const r=ir(),a=gn(),s=nl();class l{static decode(d,m){try{if(d.length<1)return this.createErrorPayload("Control payload too short (minimum 1 byte required)",d,m);const x=d[0]&240;switch(x){case r.ControlSubType.NodeDiscoverReq:return this.decodeDiscoverReq(d,m);case r.ControlSubType.NodeDiscoverResp:return this.decodeDiscoverResp(d,m);default:return this.createErrorPayload(`Unknown control sub-type: 0x${x.toString(16).padStart(2,"0")}`,d,m)}}catch(h){return this.createErrorPayload(h instanceof Error?h.message:"Failed to decode control payload",d,m)}}static decodeDiscoverReq(d,m){const h=[],x=(m==null?void 0:m.segmentOffset)??0;if(d.length<6){const P={type:r.PayloadType.Control,version:r.PayloadVersion.Version1,isValid:!1,errors:["DISCOVER_REQ payload too short (minimum 6 bytes required)"],subType:r.ControlSubType.NodeDiscoverReq,rawFlags:d[0],prefixOnly:!1,typeFilter:0,typeFilterNames:[],tag:0,since:0};return m!=null&&m.includeSegments&&(P.segments=[{name:"Invalid DISCOVER_REQ Data",description:"DISCOVER_REQ payload too short (minimum 6 bytes required)",startByte:x,endByte:x+d.length-1,value:(0,a.bytesToHex)(d)}]),P}let p=0;const y=d[p],v=(y&1)!==0;m!=null&&m.includeSegments&&h.push({name:"Flags",description:`Sub-type: DISCOVER_REQ (0x8) | Prefix Only: ${v}`,startByte:x+p,endByte:x+p,value:y.toString(16).padStart(2,"0").toUpperCase()}),p+=1;const w=d[p],S=this.parseTypeFilter(w);m!=null&&m.includeSegments&&h.push({name:"Type Filter",description:`Filter mask: 0b${w.toString(2).padStart(8,"0")} | Types: ${S.length>0?S.join(", "):"None"}`,startByte:x+p,endByte:x+p,value:w.toString(16).padStart(2,"0").toUpperCase()}),p+=1;const T=this.readUint32LE(d,p);m!=null&&m.includeSegments&&h.push({name:"Tag",description:`Random tag for response matching: 0x${T.toString(16).padStart(8,"0")}`,startByte:x+p,endByte:x+p+3,value:(0,a.bytesToHex)(d.slice(p,p+4))}),p+=4;let C=0;if(d.length>=p+4&&(C=this.readUint32LE(d,p),m!=null&&m.includeSegments)){const P=C>0?new Date(C*1e3).toISOString().slice(0,19)+"Z":"N/A";h.push({name:"Since",description:`Filter timestamp: ${C} (${P})`,startByte:x+p,endByte:x+p+3,value:(0,a.bytesToHex)(d.slice(p,p+4))})}const E={type:r.PayloadType.Control,version:r.PayloadVersion.Version1,isValid:!0,subType:r.ControlSubType.NodeDiscoverReq,rawFlags:y,prefixOnly:v,typeFilter:w,typeFilterNames:S,tag:T,since:C};return m!=null&&m.includeSegments&&(E.segments=h),E}static decodeDiscoverResp(d,m){const h=[],x=(m==null?void 0:m.segmentOffset)??0;if(d.length<14){const z={type:r.PayloadType.Control,version:r.PayloadVersion.Version1,isValid:!1,errors:["DISCOVER_RESP payload too short (minimum 14 bytes required)"],subType:r.ControlSubType.NodeDiscoverResp,rawFlags:d.length>0?d[0]:0,nodeType:r.DeviceRole.Unknown,nodeTypeName:"Unknown",snr:0,tag:0,publicKey:"",publicKeyLength:0};return m!=null&&m.includeSegments&&(z.segments=[{name:"Invalid DISCOVER_RESP Data",description:"DISCOVER_RESP payload too short (minimum 14 bytes required)",startByte:x,endByte:x+d.length-1,value:(0,a.bytesToHex)(d)}]),z}let p=0;const y=d[p],v=y&15,w=(0,s.getDeviceRoleName)(v);m!=null&&m.includeSegments&&h.push({name:"Flags",description:`Sub-type: DISCOVER_RESP (0x9) | Node Type: ${w}`,startByte:x+p,endByte:x+p,value:y.toString(16).padStart(2,"0").toUpperCase()}),p+=1;const S=d[p],T=S>127?S-256:S,C=T/4;m!=null&&m.includeSegments&&h.push({name:"SNR",description:`Inbound SNR: ${C.toFixed(2)} dB (raw: ${S}, signed: ${T})`,startByte:x+p,endByte:x+p,value:S.toString(16).padStart(2,"0").toUpperCase()}),p+=1;const E=this.readUint32LE(d,p);m!=null&&m.includeSegments&&h.push({name:"Tag",description:`Reflected tag from request: 0x${E.toString(16).padStart(8,"0")}`,startByte:x+p,endByte:x+p+3,value:(0,a.bytesToHex)(d.slice(p,p+4))}),p+=4;const B=d.length-p,k=d.slice(p,p+B),I=(0,a.bytesToHex)(k);if(m!=null&&m.includeSegments){const z=B===32?"Full Public Key":"Public Key Prefix";h.push({name:z,description:`${z} (${B} bytes)`,startByte:x+p,endByte:x+p+B-1,value:I})}const N={type:r.PayloadType.Control,version:r.PayloadVersion.Version1,isValid:!0,subType:r.ControlSubType.NodeDiscoverResp,rawFlags:y,nodeType:v,nodeTypeName:w,snr:C,tag:E,publicKey:I,publicKeyLength:B};return m!=null&&m.includeSegments&&(N.segments=h),N}static parseTypeFilter(d){const m=[];return d&1<<r.DeviceRole.ChatNode&&m.push("Chat"),d&1<<r.DeviceRole.Repeater&&m.push("Repeater"),d&1<<r.DeviceRole.RoomServer&&m.push("Room"),d&1<<r.DeviceRole.Sensor&&m.push("Sensor"),m}static createErrorPayload(d,m,h){const x={type:r.PayloadType.Control,version:r.PayloadVersion.Version1,isValid:!1,errors:[d],subType:r.ControlSubType.NodeDiscoverReq,rawFlags:m.length>0?m[0]:0,prefixOnly:!1,typeFilter:0,typeFilterNames:[],tag:0,since:0};return h!=null&&h.includeSegments&&(x.segments=[{name:"Invalid Control Data",description:d,startByte:h.segmentOffset??0,endByte:(h.segmentOffset??0)+m.length-1,value:(0,a.bytesToHex)(m)}]),x}static readUint32LE(d,m){return(d[m]|d[m+1]<<8|d[m+2]<<16|d[m+3]<<24)>>>0}}return $a.ControlPayloadDecoder=l,$a}var oA;function sA(){if(oA)return Oa;oA=1,Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.MeshCorePacketDecoder=void 0;const r=ir(),a=gn(),s=nl(),l=ux(),f=mC(),d=AC(),m=gC(),h=xC(),x=vC(),p=yC(),y=_C(),v=wC(),w=bC(),S=CC();class T{static decode(E,P){return this.parseInternal(E,!1,P).packet}static async decodeWithVerification(E,P){return(await this.parseInternalAsync(E,!1,P)).packet}static analyzeStructure(E,P){return this.parseInternal(E,!0,P).structure}static async analyzeStructureWithVerification(E,P){return(await this.parseInternalAsync(E,!0,P)).structure}static parseInternal(E,P,B){const k=(0,a.hexToBytes)(E),I=[];if(k.length<2){const N={messageHash:"",routeType:r.RouteType.Flood,payloadType:r.PayloadType.RawCustom,payloadVersion:r.PayloadVersion.Version1,pathLength:0,path:null,payload:{raw:"",decoded:null},totalBytes:k.length,isValid:!1,errors:["Packet too short (minimum 2 bytes required)"]},z={segments:[],totalBytes:k.length,rawHex:E.toUpperCase(),messageHash:"",payload:{segments:[],hex:"",startByte:0,type:"Unknown"}};return{packet:N,structure:z}}try{let N=0;const z=k[0],j=z&3,H=z>>2&15,K=z>>6&3;P&&I.push({name:"Header",description:"Header byte breakdown",startByte:0,endByte:0,value:`0x${z.toString(16).padStart(2,"0")}`,headerBreakdown:{fullBinary:z.toString(2).padStart(8,"0"),fields:[{bits:"0-1",field:"Route Type",value:(0,s.getRouteTypeName)(j),binary:(z&3).toString(2).padStart(2,"0")},{bits:"2-5",field:"Payload Type",value:(0,s.getPayloadTypeName)(H),binary:(z>>2&15).toString(2).padStart(4,"0")},{bits:"6-7",field:"Version",value:K.toString(),binary:(z>>6&3).toString(2).padStart(2,"0")}]}}),N=1;let U;if(j===r.RouteType.TransportFlood||j===r.RouteType.TransportDirect){if(k.length<N+4)throw new Error("Packet too short for transport codes");const D=k[N]|k[N+1]<<8,Z=k[N+2]|k[N+3]<<8;if(U=[D,Z],P){const $=k[N]|k[N+1]<<8|k[N+2]<<16|k[N+3]<<24;I.push({name:"Transport Code",description:"Used for Direct/Response routing",startByte:N,endByte:N+3,value:`0x${$.toString(16).padStart(8,"0")}`})}N+=4}if(k.length<N+1)throw new Error("Packet too short for path length");const G=k[N];if(P){let D=`Path contains ${G} bytes`;j===r.RouteType.Direct||j===r.RouteType.TransportDirect?D=`For "Direct" packets, this contains routing instructions. ${G} bytes of routing instructions (decreases as packet travels)`:(j===r.RouteType.Flood||j===r.RouteType.TransportFlood)&&(D=`${G} bytes showing route taken (increases as packet floods)`),I.push({name:"Path Length",description:D,startByte:N,endByte:N,value:`0x${G.toString(16).padStart(2,"0")}`})}if(N+=1,k.length<N+G)throw new Error("Packet too short for path data");const re=k.subarray(N,N+G),V=G>0?Array.from(re).map(a.byteToHex):null;if(P&&G>0)if(H===r.PayloadType.Trace){const D=[];for(let Z=0;Z<G;Z++){const $=k[N+Z],fe=($>127?$-256:$)/4;D.push(`${fe.toFixed(2)}dB (0x${$.toString(16).padStart(2,"0")})`)}I.push({name:"Path SNR Data",description:`SNR values collected during trace: ${D.join(", ")}`,startByte:N,endByte:N+G-1,value:(0,a.bytesToHex)(k.slice(N,N+G))})}else{let D="Routing path information";j===r.RouteType.Direct||j===r.RouteType.TransportDirect?D="Routing instructions (bytes are stripped at each hop as packet travels to destination)":(j===r.RouteType.Flood||j===r.RouteType.TransportFlood)&&(D="Historical route taken (bytes are added as packet floods through network)"),I.push({name:"Path Data",description:D,startByte:N,endByte:N+G-1,value:(0,a.bytesToHex)(k.slice(N,N+G))})}N+=G;const J=k.subarray(N),le=(0,a.bytesToHex)(J);P&&k.length>N&&I.push({name:"Payload",description:`${(0,s.getPayloadTypeName)(H)} payload data`,startByte:N,endByte:k.length-1,value:(0,a.bytesToHex)(k.slice(N))});let oe=null;const de=[];if(H===r.PayloadType.Advert){const D=f.AdvertPayloadDecoder.decode(J,{includeSegments:P,segmentOffset:0});oe=D,D!=null&&D.segments&&(de.push(...D.segments),delete D.segments)}else if(H===r.PayloadType.Trace){const D=d.TracePayloadDecoder.decode(J,V,{includeSegments:P,segmentOffset:0});oe=D,D!=null&&D.segments&&(de.push(...D.segments),delete D.segments)}else if(H===r.PayloadType.GroupText){const D=m.GroupTextPayloadDecoder.decode(J,{...B,includeSegments:P,segmentOffset:0});oe=D,D!=null&&D.segments&&(de.push(...D.segments),delete D.segments)}else if(H===r.PayloadType.Request){const D=h.RequestPayloadDecoder.decode(J,{includeSegments:P,segmentOffset:0});oe=D,D!=null&&D.segments&&(de.push(...D.segments),delete D.segments)}else if(H===r.PayloadType.Response){const D=x.ResponsePayloadDecoder.decode(J,{includeSegments:P,segmentOffset:0});oe=D,D!=null&&D.segments&&(de.push(...D.segments),delete D.segments)}else if(H===r.PayloadType.AnonRequest){const D=p.AnonRequestPayloadDecoder.decode(J,{includeSegments:P,segmentOffset:0});oe=D,D!=null&&D.segments&&(de.push(...D.segments),delete D.segments)}else if(H===r.PayloadType.Ack){const D=y.AckPayloadDecoder.decode(J,{includeSegments:P,segmentOffset:0});oe=D,D!=null&&D.segments&&(de.push(...D.segments),delete D.segments)}else if(H===r.PayloadType.Path)oe=v.PathPayloadDecoder.decode(J);else if(H===r.PayloadType.TextMessage){const D=w.TextMessagePayloadDecoder.decode(J,{includeSegments:P,segmentOffset:0});oe=D,D!=null&&D.segments&&(de.push(...D.segments),delete D.segments)}else if(H===r.PayloadType.Control){const D=S.ControlPayloadDecoder.decode(J,{includeSegments:P,segmentOffset:0});oe=D,D!=null&&D.segments&&(de.push(...D.segments),delete D.segments)}P&&de.length===0&&k.length>N&&de.push({name:`${(0,s.getPayloadTypeName)(H)} Payload`,description:`Raw ${(0,s.getPayloadTypeName)(H)} payload data (${J.length} bytes)`,startByte:0,endByte:J.length-1,value:(0,a.bytesToHex)(J)});const q=this.calculateMessageHash(k,j,H,K),me={messageHash:q,routeType:j,payloadType:H,payloadVersion:K,transportCodes:U,pathLength:G,path:V,payload:{raw:le,decoded:oe},totalBytes:k.length,isValid:!0},ne={segments:I,totalBytes:k.length,rawHex:E.toUpperCase(),messageHash:q,payload:{segments:de,hex:le,startByte:N,type:(0,s.getPayloadTypeName)(H)}};return{packet:me,structure:ne}}catch(N){const z={messageHash:"",routeType:r.RouteType.Flood,payloadType:r.PayloadType.RawCustom,payloadVersion:r.PayloadVersion.Version1,pathLength:0,path:null,payload:{raw:"",decoded:null},totalBytes:k.length,isValid:!1,errors:[N instanceof Error?N.message:"Unknown decoding error"]},j={segments:[],totalBytes:k.length,rawHex:E.toUpperCase(),messageHash:"",payload:{segments:[],hex:"",startByte:0,type:"Unknown"}};return{packet:z,structure:j}}}static async parseInternalAsync(E,P,B){const k=this.parseInternal(E,P,B);if(k.packet.payloadType===r.PayloadType.Advert&&k.packet.payload.decoded)try{const I=k.packet.payload.decoded,N=await f.AdvertPayloadDecoder.decodeWithVerification((0,a.hexToBytes)(k.packet.payload.raw),{includeSegments:P,segmentOffset:0});N&&(k.packet.payload.decoded=N,N.isValid||(k.packet.isValid=!1,k.packet.errors=N.errors||["Invalid advertisement signature"]),P&&N.segments&&(k.structure.payload.segments=N.segments,delete N.segments))}catch(I){console.error("Signature verification failed:",I)}return k}static validate(E){const P=(0,a.hexToBytes)(E),B=[];if(P.length<2)return B.push("Packet too short (minimum 2 bytes required)"),{isValid:!1,errors:B};try{let k=1;const N=P[0]&3;if((N===r.RouteType.TransportFlood||N===r.RouteType.TransportDirect)&&(P.length<k+4&&B.push("Packet too short for transport codes"),k+=4),P.length<k+1)B.push("Packet too short for path length");else{const z=P[k];k+=1,P.length<k+z&&B.push("Packet too short for path data"),k+=z}k>=P.length&&B.push("No payload data found")}catch(k){B.push(k instanceof Error?k.message:"Validation error")}return{isValid:B.length===0,errors:B.length>0?B:void 0}}static calculateMessageHash(E,P,B,k){if(B===r.PayloadType.Trace&&E.length>=13){let K=1;if((P===r.RouteType.TransportFlood||P===r.RouteType.TransportDirect)&&(K+=4),E.length>K){const U=E[K];K+=1+U}if(E.length>=K+4){const U=E[K]|E[K+1]<<8|E[K+2]<<16|E[K+3]<<24;return(0,a.numberToHex)(U,8)}}const I=B<<2|k<<6;let N=1;if((P===r.RouteType.TransportFlood||P===r.RouteType.TransportDirect)&&(N+=4),E.length>N){const K=E[N];N+=1+K}const z=E.slice(N),j=[I,...Array.from(z)];let H=0;for(let K=0;K<j.length;K++)H=(H<<5)-H+j[K]&4294967295;return(0,a.numberToHex)(H,8)}static createKeyStore(E){return new l.MeshCoreKeyStore(E)}}return Oa.MeshCorePacketDecoder=T,Oa}var Oo={},aA;function lA(){if(aA)return Oo;aA=1,Object.defineProperty(Oo,"__esModule",{value:!0}),Oo.createAuthToken=f,Oo.verifyAuthToken=d,Oo.parseAuthToken=m,Oo.decodeAuthTokenPayload=h;const r=R0(),a=gn();function s(x){let p="";if(typeof Buffer<"u")p=Buffer.from(x).toString("base64");else{const y=String.fromCharCode(...Array.from(x));p=btoa(y)}return p.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function l(x){let p=x.replace(/-/g,"+").replace(/_/g,"/");for(;p.length%4;)p+="=";if(typeof Buffer<"u")return new Uint8Array(Buffer.from(p,"base64"));{const y=atob(p),v=new Uint8Array(y.length);for(let w=0;w<y.length;w++)v[w]=y.charCodeAt(w);return v}}async function f(x,p,y){const v={alg:"Ed25519",typ:"JWT"};x.publicKey?x.publicKey=x.publicKey.toUpperCase():x.publicKey=y.toUpperCase(),x.iat||(x.iat=Math.floor(Date.now()/1e3));const w=JSON.stringify(v),S=JSON.stringify(x),T=new TextEncoder().encode(w),C=new TextEncoder().encode(S),E=s(T),P=s(C),B=`${E}.${P}`,k=new TextEncoder().encode(B),I=(0,a.bytesToHex)(k),N=await(0,r.sign)(I,p,x.publicKey);return`${E}.${P}.${N}`}async function d(x,p){try{const y=x.split(".");if(y.length!==3)return null;const[v,w,S]=y,T=l(v),C=l(w),E=new TextDecoder().decode(T),P=new TextDecoder().decode(C),B=JSON.parse(E),k=JSON.parse(P);if(B.alg!=="Ed25519"||B.typ!=="JWT"||!k.publicKey||!k.iat||p&&k.publicKey.toUpperCase()!==p.toUpperCase()||k.exp&&Math.floor(Date.now()/1e3)>k.exp)return null;const I=`${v}.${w}`,N=new TextEncoder().encode(I),z=(0,a.bytesToHex)(N);return await(0,r.verify)(S,z,k.publicKey)?k:null}catch{return null}}function m(x){try{const p=x.split(".");return p.length!==3?null:{header:p[0],payload:p[1],signature:p[2]}}catch{return null}}function h(x){try{const p=x.split(".");if(p.length!==3)return null;const y=l(p[1]),v=new TextDecoder().decode(y);return JSON.parse(v)}catch{return null}}return Oo}var uA;function EC(){return uA||(uA=1,(function(r){var a=xi&&xi.__createBinding||(Object.create?(function(P,B,k,I){I===void 0&&(I=k);var N=Object.getOwnPropertyDescriptor(B,k);(!N||("get"in N?!B.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return B[k]}}),Object.defineProperty(P,I,N)}):(function(P,B,k,I){I===void 0&&(I=k),P[I]=B[k]})),s=xi&&xi.__setModuleDefault||(Object.create?(function(P,B){Object.defineProperty(P,"default",{enumerable:!0,value:B})}):function(P,B){P.default=B}),l=xi&&xi.__importStar||(function(){var P=function(B){return P=Object.getOwnPropertyNames||function(k){var I=[];for(var N in k)Object.prototype.hasOwnProperty.call(k,N)&&(I[I.length]=N);return I},P(B)};return function(B){if(B&&B.__esModule)return B;var k={};if(B!=null)for(var I=P(B),N=0;N<I.length;N++)I[N]!=="default"&&a(k,B,I[N]);return s(k,B),k}})();Object.defineProperty(r,"__esModule",{value:!0}),r.Utils=r.decodeAuthTokenPayload=r.parseAuthToken=r.verifyAuthToken=r.createAuthToken=r.getControlSubTypeName=r.getRequestTypeName=r.getDeviceRoleName=r.getPayloadVersionName=r.getPayloadTypeName=r.getRouteTypeName=r.numberToHex=r.byteToHex=r.bytesToHex=r.hexToBytes=r.Ed25519SignatureVerifier=r.ChannelCrypto=r.MeshCoreKeyStore=r.ControlSubType=r.RequestType=r.AdvertFlags=r.DeviceRole=r.PayloadVersion=r.PayloadType=r.RouteType=r.MeshCoreDecoder=r.MeshCorePacketDecoder=void 0;var f=sA();Object.defineProperty(r,"MeshCorePacketDecoder",{enumerable:!0,get:function(){return f.MeshCorePacketDecoder}});var d=sA();Object.defineProperty(r,"MeshCoreDecoder",{enumerable:!0,get:function(){return d.MeshCorePacketDecoder}});var m=ir();Object.defineProperty(r,"RouteType",{enumerable:!0,get:function(){return m.RouteType}}),Object.defineProperty(r,"PayloadType",{enumerable:!0,get:function(){return m.PayloadType}}),Object.defineProperty(r,"PayloadVersion",{enumerable:!0,get:function(){return m.PayloadVersion}}),Object.defineProperty(r,"DeviceRole",{enumerable:!0,get:function(){return m.DeviceRole}}),Object.defineProperty(r,"AdvertFlags",{enumerable:!0,get:function(){return m.AdvertFlags}}),Object.defineProperty(r,"RequestType",{enumerable:!0,get:function(){return m.RequestType}}),Object.defineProperty(r,"ControlSubType",{enumerable:!0,get:function(){return m.ControlSubType}});var h=ux();Object.defineProperty(r,"MeshCoreKeyStore",{enumerable:!0,get:function(){return h.MeshCoreKeyStore}});var x=_0();Object.defineProperty(r,"ChannelCrypto",{enumerable:!0,get:function(){return x.ChannelCrypto}});var p=Cx();Object.defineProperty(r,"Ed25519SignatureVerifier",{enumerable:!0,get:function(){return p.Ed25519SignatureVerifier}});var y=gn();Object.defineProperty(r,"hexToBytes",{enumerable:!0,get:function(){return y.hexToBytes}}),Object.defineProperty(r,"bytesToHex",{enumerable:!0,get:function(){return y.bytesToHex}}),Object.defineProperty(r,"byteToHex",{enumerable:!0,get:function(){return y.byteToHex}}),Object.defineProperty(r,"numberToHex",{enumerable:!0,get:function(){return y.numberToHex}});var v=nl();Object.defineProperty(r,"getRouteTypeName",{enumerable:!0,get:function(){return v.getRouteTypeName}}),Object.defineProperty(r,"getPayloadTypeName",{enumerable:!0,get:function(){return v.getPayloadTypeName}}),Object.defineProperty(r,"getPayloadVersionName",{enumerable:!0,get:function(){return v.getPayloadVersionName}}),Object.defineProperty(r,"getDeviceRoleName",{enumerable:!0,get:function(){return v.getDeviceRoleName}}),Object.defineProperty(r,"getRequestTypeName",{enumerable:!0,get:function(){return v.getRequestTypeName}}),Object.defineProperty(r,"getControlSubTypeName",{enumerable:!0,get:function(){return v.getControlSubTypeName}});var w=lA();Object.defineProperty(r,"createAuthToken",{enumerable:!0,get:function(){return w.createAuthToken}}),Object.defineProperty(r,"verifyAuthToken",{enumerable:!0,get:function(){return w.verifyAuthToken}}),Object.defineProperty(r,"parseAuthToken",{enumerable:!0,get:function(){return w.parseAuthToken}}),Object.defineProperty(r,"decodeAuthTokenPayload",{enumerable:!0,get:function(){return w.decodeAuthTokenPayload}});const S=l(nl()),T=l(gn()),C=l(lA()),E=R0();r.Utils={...S,...T,...C,derivePublicKey:E.derivePublicKey,validateKeyPair:E.validateKeyPair,sign:E.sign,verify:E.verify}})(xi)),xi}var cA=EC(),kC=ll();const Ex=Us(kC);var yc={exports:{}},SC=yc.exports,dA;function BC(){return dA||(dA=1,(function(r,a){(function(s,l,f){r.exports=l(ct(),ll(),Qc())})(SC,function(s){return s.HmacSHA256})})(yc)),yc.exports}var PC=BC();const TC=Us(PC);var _c={exports:{}},DC=_c.exports,fA;function RC(){return fA||(fA=1,(function(r,a){(function(s,l){r.exports=l(ct())})(DC,function(s){return s.enc.Hex})})(_c)),_c.exports}var FC=RC();const zs=Us(FC),kx="abcdefghijklmnopqrstuvwxyz0123456789",zo=kx.length,Sx=kx+"-",Jf="[[public room]]",wc="8b3387e9c5cdea6ac9e5edbaa115cd72",e0=720*60*60;function NC(r){if(!r||r.length===0)return null;const a=r.length;let s=0,l=1;for(let f=0;f<a;f++){const d=r[f],m=Sx.indexOf(d);if(m===-1)return null;const h=f===0,x=f===a-1,p=h||x?36:37;if((h||x)&&m===36)return null;s+=m*l,l*=p}return{length:a,index:s}}function Ho(r,a){if(r<=0)return null;let s="",l=a,f=!1;for(let d=0;d<r;d++){const m=d===0,h=d===r-1,x=m||h?36:37,p=l%x;l=Math.floor(l/x);const y=p===36;if(y&&f)return null;f=y,s+=Sx[p]}return s}function t0(r){return r===Jf?wc:Ex(r).toString(zs).substring(0,32)}function n0(r){return Ex(zs.parse(r)).toString(zs).substring(0,2)}function Bx(r,a,s){const l=s.padEnd(64,"0");return TC(zs.parse(r),zs.parse(l)).toString(zs).substring(0,4).toLowerCase()===a.toLowerCase()}function el(r){if(r===1)return zo;if(r===2)return zo*zo;let a=zo,s=1;for(let f=2;f<=r-2;f++){const d=(a+s)*zo,m=a;a=d,s=m}const l=r>2?a+s:1;return zo*l*zo}function LC(r,a=e0,s){const l=Math.floor(Date.now()/1e3);return r<=l&&r>=l-a}function MC(r){return!r.includes("")}class $c{constructor(){this.device=null,this.pipeline=null,this.bindGroupLayout=null,this.paramsBuffer=null,this.matchCountBuffer=null,this.matchIndicesBuffer=null,this.ciphertextBuffer=null,this.ciphertextBufferSize=0,this.matchCountReadBuffers=[null,null],this.matchIndicesReadBuffers=[null,null],this.currentReadBufferIndex=0,this.bindGroup=null,this.bindGroupDirty=!0,this.shaderCode=`
// SHA256 round constants
const K: array<u32, 64> = array<u32, 64>(
  0x428a2f98u, 0x71374491u, 0xb5c0fbcfu, 0xe9b5dba5u, 0x3956c25bu, 0x59f111f1u, 0x923f82a4u, 0xab1c5ed5u,
  0xd807aa98u, 0x12835b01u, 0x243185beu, 0x550c7dc3u, 0x72be5d74u, 0x80deb1feu, 0x9bdc06a7u, 0xc19bf174u,
  0xe49b69c1u, 0xefbe4786u, 0x0fc19dc6u, 0x240ca1ccu, 0x2de92c6fu, 0x4a7484aau, 0x5cb0a9dcu, 0x76f988dau,
  0x983e5152u, 0xa831c66du, 0xb00327c8u, 0xbf597fc7u, 0xc6e00bf3u, 0xd5a79147u, 0x06ca6351u, 0x14292967u,
  0x27b70a85u, 0x2e1b2138u, 0x4d2c6dfcu, 0x53380d13u, 0x650a7354u, 0x766a0abbu, 0x81c2c92eu, 0x92722c85u,
  0xa2bfe8a1u, 0xa81a664bu, 0xc24b8b70u, 0xc76c51a3u, 0xd192e819u, 0xd6990624u, 0xf40e3585u, 0x106aa070u,
  0x19a4c116u, 0x1e376c08u, 0x2748774cu, 0x34b0bcb5u, 0x391c0cb3u, 0x4ed8aa4au, 0x5b9cca4fu, 0x682e6ff3u,
  0x748f82eeu, 0x78a5636fu, 0x84c87814u, 0x8cc70208u, 0x90befffau, 0xa4506cebu, 0xbef9a3f7u, 0xc67178f2u
);

// Character lookup table (a-z = 0-25, 0-9 = 26-35, dash = 36)
const CHARS: array<u32, 37> = array<u32, 37>(
  0x61u, 0x62u, 0x63u, 0x64u, 0x65u, 0x66u, 0x67u, 0x68u, 0x69u, 0x6au, // a-j
  0x6bu, 0x6cu, 0x6du, 0x6eu, 0x6fu, 0x70u, 0x71u, 0x72u, 0x73u, 0x74u, // k-t
  0x75u, 0x76u, 0x77u, 0x78u, 0x79u, 0x7au,                             // u-z
  0x30u, 0x31u, 0x32u, 0x33u, 0x34u, 0x35u, 0x36u, 0x37u, 0x38u, 0x39u, // 0-9
  0x2du                                                                  // dash
);

struct Params {
  target_channel_hash: u32,
  batch_offset: u32,
  name_length: u32,
  batch_size: u32,
  target_mac: u32,           // First 2 bytes of target MAC (in high 16 bits)
  ciphertext_words: u32,     // Number of 32-bit words in ciphertext
  ciphertext_len_bits: u32,  // Length of ciphertext in bits
  verify_mac: u32,           // 1 to verify MAC, 0 to skip
}

@group(0) @binding(0) var<uniform> params: Params;
@group(0) @binding(1) var<storage, read_write> match_count: atomic<u32>;
@group(0) @binding(2) var<storage, read_write> match_indices: array<u32>;
@group(0) @binding(3) var<storage, read> ciphertext: array<u32>; // Ciphertext data

fn rotr(x: u32, n: u32) -> u32 {
  return (x >> n) | (x << (32u - n));
}

fn ch(x: u32, y: u32, z: u32) -> u32 {
  return (x & y) ^ (~x & z);
}

fn maj(x: u32, y: u32, z: u32) -> u32 {
  return (x & y) ^ (x & z) ^ (y & z);
}

fn sigma0(x: u32) -> u32 {
  return rotr(x, 2u) ^ rotr(x, 13u) ^ rotr(x, 22u);
}

fn sigma1(x: u32) -> u32 {
  return rotr(x, 6u) ^ rotr(x, 11u) ^ rotr(x, 25u);
}

fn gamma0(x: u32) -> u32 {
  return rotr(x, 7u) ^ rotr(x, 18u) ^ (x >> 3u);
}

fn gamma1(x: u32) -> u32 {
  return rotr(x, 17u) ^ rotr(x, 19u) ^ (x >> 10u);
}

// Convert index to room name bytes, returns the hash as a u32 for the first byte check
fn index_to_room_name(idx: u32, length: u32, msg: ptr<function, array<u32, 16>>) -> bool {
  // Message starts with '#' (0x23)
  var byte_pos = 0u;
  var word_idx = 0u;
  var current_word = 0x23000000u; // '#' in big-endian position 0
  byte_pos = 1u;

  var remaining = idx;
  var prev_was_dash = false;

  // Generate room name from index
  for (var i = 0u; i < length; i++) {
    let char_count = select(37u, 36u, i == 0u || i == length - 1u); // no dash at start/end
    var char_idx = remaining % char_count;
    remaining = remaining / char_count;

    // Check for consecutive dashes (invalid)
    let is_dash = char_idx == 36u && i > 0u && i < length - 1u;
    if (is_dash && prev_was_dash) {
      return false; // Invalid: consecutive dashes
    }
    prev_was_dash = is_dash;

    // Map char index to actual character
    let c = CHARS[char_idx];

    // Pack byte into current word (big-endian)
    let shift = (3u - byte_pos % 4u) * 8u;
    if (byte_pos % 4u == 0u && byte_pos > 0u) {
      (*msg)[word_idx] = current_word;
      word_idx = word_idx + 1u;
      current_word = 0u;
    }
    current_word = current_word | (c << shift);
    byte_pos = byte_pos + 1u;
  }

  // Add padding: 0x80 followed by zeros, then length in bits
  let msg_len_bits = (length + 1u) * 8u; // +1 for '#'

  // Add 0x80 padding byte
  let shift = (3u - byte_pos % 4u) * 8u;
  if (byte_pos % 4u == 0u) {
    (*msg)[word_idx] = current_word;
    word_idx = word_idx + 1u;
    current_word = 0x80000000u;
  } else {
    current_word = current_word | (0x80u << shift);
  }
  byte_pos = byte_pos + 1u;

  // Store current word
  if (byte_pos % 4u == 0u || word_idx < 14u) {
    (*msg)[word_idx] = current_word;
    word_idx = word_idx + 1u;
  }

  // Zero-fill until word 14
  for (var i = word_idx; i < 14u; i++) {
    (*msg)[i] = 0u;
  }

  // Length in bits (64-bit, but we only use lower 32 bits for short messages)
  (*msg)[14u] = 0u;
  (*msg)[15u] = msg_len_bits;

  return true;
}

fn sha256_block(msg: ptr<function, array<u32, 16>>) -> array<u32, 8> {
  // Initialize hash values
  var h: array<u32, 8> = array<u32, 8>(
    0x6a09e667u, 0xbb67ae85u, 0x3c6ef372u, 0xa54ff53au,
    0x510e527fu, 0x9b05688cu, 0x1f83d9abu, 0x5be0cd19u
  );

  // Message schedule
  var w: array<u32, 64>;
  for (var i = 0u; i < 16u; i++) {
    w[i] = (*msg)[i];
  }
  for (var i = 16u; i < 64u; i++) {
    w[i] = gamma1(w[i-2u]) + w[i-7u] + gamma0(w[i-15u]) + w[i-16u];
  }

  // Compression
  var a = h[0]; var b = h[1]; var c = h[2]; var d = h[3];
  var e = h[4]; var f = h[5]; var g = h[6]; var hh = h[7];

  for (var i = 0u; i < 64u; i++) {
    let t1 = hh + sigma1(e) + ch(e, f, g) + K[i] + w[i];
    let t2 = sigma0(a) + maj(a, b, c);
    hh = g; g = f; f = e; e = d + t1;
    d = c; c = b; b = a; a = t1 + t2;
  }

  h[0] = h[0] + a; h[1] = h[1] + b; h[2] = h[2] + c; h[3] = h[3] + d;
  h[4] = h[4] + e; h[5] = h[5] + f; h[6] = h[6] + g; h[7] = h[7] + hh;

  return h;
}

// Compute SHA256 of the key (16 bytes) to get channel hash
fn sha256_key(key: array<u32, 4>) -> u32 {
  var msg: array<u32, 16>;

  // Key bytes (16 bytes = 4 words)
  msg[0] = key[0];
  msg[1] = key[1];
  msg[2] = key[2];
  msg[3] = key[3];

  // Padding: 0x80 followed by zeros
  msg[4] = 0x80000000u;
  for (var i = 5u; i < 14u; i++) {
    msg[i] = 0u;
  }

  // Length: 128 bits
  msg[14] = 0u;
  msg[15] = 128u;

  let hash = sha256_block(&msg);

  // Return first byte of hash (big-endian)
  return hash[0] >> 24u;
}

// HMAC-SHA256 for MAC verification
// Key is 16 bytes (4 words), padded to 32 bytes with zeros for MeshCore
// Returns first 2 bytes of HMAC (as u32 in high 16 bits)
fn hmac_sha256_mac(key: array<u32, 4>, ciphertext_len: u32) -> u32 {
  // HMAC: H((K' ^ opad) || H((K' ^ ipad) || message))
  // K' is 64 bytes (32 bytes key + 32 bytes zero padding for MeshCore, then padded to 64)
  // ipad = 0x36 repeated, opad = 0x5c repeated

  // Build padded key (64 bytes = 16 words)
  // MeshCore uses 32-byte secret: 16-byte key + 16 zero bytes
  var k_pad: array<u32, 16>;
  k_pad[0] = key[0];
  k_pad[1] = key[1];
  k_pad[2] = key[2];
  k_pad[3] = key[3];
  for (var i = 4u; i < 16u; i++) {
    k_pad[i] = 0u;
  }

  // Inner hash: SHA256((K' ^ ipad) || message)
  // First block: K' ^ ipad (64 bytes)
  var inner_block: array<u32, 16>;
  for (var i = 0u; i < 16u; i++) {
    inner_block[i] = k_pad[i] ^ 0x36363636u;
  }

  // Initialize hash state with first block
  var h: array<u32, 8> = sha256_block(&inner_block);

  // Process ciphertext blocks (continuing from h state)
  let ciphertext_words = params.ciphertext_words;
  var word_idx = 0u;

  // Process full 64-byte blocks of ciphertext
  while (word_idx + 16u <= ciphertext_words) {
    var block: array<u32, 16>;
    for (var i = 0u; i < 16u; i++) {
      block[i] = ciphertext[word_idx + i];
    }
    h = sha256_block_continue(&block, h);
    word_idx = word_idx + 16u;
  }

  // Final block with remaining ciphertext + padding
  var final_block: array<u32, 16>;
  var remaining = ciphertext_words - word_idx;
  for (var i = 0u; i < 16u; i++) {
    if (i < remaining) {
      final_block[i] = ciphertext[word_idx + i];
    } else if (i == remaining) {
      // Add 0x80 padding
      final_block[i] = 0x80000000u;
    } else {
      final_block[i] = 0u;
    }
  }

  // Add length (64 bytes of ipad + ciphertext length)
  let total_bits = 512u + params.ciphertext_len_bits;
  if (remaining < 14u) {
    final_block[14] = 0u;
    final_block[15] = total_bits;
    h = sha256_block_continue(&final_block, h);
  } else {
    // Need extra block for length
    h = sha256_block_continue(&final_block, h);
    var len_block: array<u32, 16>;
    for (var i = 0u; i < 14u; i++) {
      len_block[i] = 0u;
    }
    len_block[14] = 0u;
    len_block[15] = total_bits;
    h = sha256_block_continue(&len_block, h);
  }

  let inner_hash = h;

  // Outer hash: SHA256((K' ^ opad) || inner_hash)
  var outer_block: array<u32, 16>;
  for (var i = 0u; i < 16u; i++) {
    outer_block[i] = k_pad[i] ^ 0x5c5c5c5cu;
  }
  h = sha256_block(&outer_block);

  // Second block: inner_hash (32 bytes) + padding
  var hash_block: array<u32, 16>;
  for (var i = 0u; i < 8u; i++) {
    hash_block[i] = inner_hash[i];
  }
  hash_block[8] = 0x80000000u;
  for (var i = 9u; i < 14u; i++) {
    hash_block[i] = 0u;
  }
  hash_block[14] = 0u;
  hash_block[15] = 512u + 256u; // 64 bytes opad + 32 bytes inner hash

  h = sha256_block_continue(&hash_block, h);

  // Return first 2 bytes (high 16 bits of first word)
  return h[0] & 0xFFFF0000u;
}

// SHA256 block computation continuing from existing state
fn sha256_block_continue(msg: ptr<function, array<u32, 16>>, h_in: array<u32, 8>) -> array<u32, 8> {
  var h = h_in;

  // Message schedule
  var w: array<u32, 64>;
  for (var i = 0u; i < 16u; i++) {
    w[i] = (*msg)[i];
  }
  for (var i = 16u; i < 64u; i++) {
    w[i] = gamma1(w[i-2u]) + w[i-7u] + gamma0(w[i-15u]) + w[i-16u];
  }

  // Compression
  var a = h[0]; var b = h[1]; var c = h[2]; var d = h[3];
  var e = h[4]; var f = h[5]; var g = h[6]; var hh = h[7];

  for (var i = 0u; i < 64u; i++) {
    let t1 = hh + sigma1(e) + ch(e, f, g) + K[i] + w[i];
    let t2 = sigma0(a) + maj(a, b, c);
    hh = g; g = f; f = e; e = d + t1;
    d = c; c = b; b = a; a = t1 + t2;
  }

  h[0] = h[0] + a; h[1] = h[1] + b; h[2] = h[2] + c; h[3] = h[3] + d;
  h[4] = h[4] + e; h[5] = h[5] + f; h[6] = h[6] + g; h[7] = h[7] + hh;

  return h;
}

// Process a single candidate and record match if found
fn process_candidate(name_idx: u32) {
  // Generate message for this room name
  var msg: array<u32, 16>;
  let valid = index_to_room_name(name_idx, params.name_length, &msg);

  if (!valid) {
    return;
  }

  // Compute SHA256("#roomname") - this gives us the key
  let key_hash = sha256_block(&msg);

  // Take first 16 bytes (4 words) as the key
  var key: array<u32, 4>;
  key[0] = key_hash[0];
  key[1] = key_hash[1];
  key[2] = key_hash[2];
  key[3] = key_hash[3];

  // Compute SHA256(key) to get channel hash
  let channel_hash = sha256_key(key);

  // Check if channel hash matches target
  if (channel_hash != params.target_channel_hash) {
    return;
  }

  // Channel hash matches - verify MAC if enabled
  if (params.verify_mac == 1u) {
    let computed_mac = hmac_sha256_mac(key, params.ciphertext_len_bits);
    if (computed_mac != params.target_mac) {
      return;
    }
  }

  // Found a match - record the index
  let match_idx = atomicAdd(&match_count, 1u);
  if (match_idx < 1024u) { // Limit stored matches
    match_indices[match_idx] = name_idx;
  }
}

// Each thread processes 16 candidates to amortize thread overhead
const CANDIDATES_PER_THREAD: u32 = 16u;

@compute @workgroup_size(256)
fn main(@builtin(global_invocation_id) global_id: vec3<u32>) {
  let base_idx = global_id.x * CANDIDATES_PER_THREAD;

  for (var i = 0u; i < CANDIDATES_PER_THREAD; i++) {
    let idx = base_idx + i;
    if (idx >= params.batch_size) {
      return;
    }
    let name_idx = params.batch_offset + idx;
    process_candidate(name_idx);
  }
}
`}async init(){if(!navigator.gpu)return console.warn("WebGPU not supported"),!1;try{const a=await navigator.gpu.requestAdapter();if(!a)return console.warn("No GPU adapter found"),!1;this.device=await a.requestDevice(),this.bindGroupLayout=this.device.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.COMPUTE,buffer:{type:"uniform"}},{binding:1,visibility:GPUShaderStage.COMPUTE,buffer:{type:"storage"}},{binding:2,visibility:GPUShaderStage.COMPUTE,buffer:{type:"storage"}},{binding:3,visibility:GPUShaderStage.COMPUTE,buffer:{type:"read-only-storage"}}]}),this.paramsBuffer=this.device.createBuffer({size:32,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST}),this.matchCountBuffer=this.device.createBuffer({size:4,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST}),this.matchIndicesBuffer=this.device.createBuffer({size:1024*4,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC});for(let f=0;f<2;f++)this.matchCountReadBuffers[f]=this.device.createBuffer({size:4,usage:GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST}),this.matchIndicesReadBuffers[f]=this.device.createBuffer({size:1024*4,usage:GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST});const s=this.device.createShaderModule({code:this.shaderCode}),l=this.device.createPipelineLayout({bindGroupLayouts:[this.bindGroupLayout]});return this.pipeline=this.device.createComputePipeline({layout:l,compute:{module:s,entryPoint:"main"}}),!0}catch(a){return console.error("WebGPU initialization failed:",a),!1}}isAvailable(){return this.device!==null&&this.pipeline!==null}indexToRoomName(a,s){return Ho(s,a)}countNamesForLength(a){return el(a)}async runBatch(a,s,l,f,d,m){if(!this.device||!this.pipeline||!this.bindGroupLayout||!this.paramsBuffer||!this.matchCountBuffer||!this.matchIndicesBuffer||!this.matchCountReadBuffers[0]||!this.matchCountReadBuffers[1]||!this.matchIndicesReadBuffers[0]||!this.matchIndicesReadBuffers[1])throw new Error("GPU not initialized");const h=this.currentReadBufferIndex;this.currentReadBufferIndex=1-this.currentReadBufferIndex;const x=this.matchCountReadBuffers[h],p=this.matchIndicesReadBuffers[h],y=d&&m?1:0;let v,w=0,S=0;if(y){const N=new Uint8Array(d.length/2);for(let U=0;U<N.length;U++)N[U]=parseInt(d.substr(U*2,2),16);w=N.length*8;const z=Math.ceil(N.length/4)*4,j=new Uint8Array(z);j.set(N),v=new Uint32Array(z/4);for(let U=0;U<v.length;U++)v[U]=j[U*4]<<24|j[U*4+1]<<16|j[U*4+2]<<8|j[U*4+3];const H=parseInt(m.substr(0,2),16),K=parseInt(m.substr(2,2),16);S=H<<24|K<<16}else v=new Uint32Array([0]);const T=Math.max(v.length*4,4);(!this.ciphertextBuffer||this.ciphertextBufferSize<T)&&(this.ciphertextBuffer&&this.ciphertextBuffer.destroy(),this.ciphertextBuffer=this.device.createBuffer({size:T,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST}),this.ciphertextBufferSize=T,this.bindGroupDirty=!0);const C=new Uint32Array([a,l,s,f,S,v.length,w,y]);this.device.queue.writeBuffer(this.paramsBuffer,0,C),this.device.queue.writeBuffer(this.ciphertextBuffer,0,v),this.device.queue.writeBuffer(this.matchCountBuffer,0,$c.ZERO_DATA),(this.bindGroupDirty||!this.bindGroup)&&(this.bindGroup=this.device.createBindGroup({layout:this.bindGroupLayout,entries:[{binding:0,resource:{buffer:this.paramsBuffer}},{binding:1,resource:{buffer:this.matchCountBuffer}},{binding:2,resource:{buffer:this.matchIndicesBuffer}},{binding:3,resource:{buffer:this.ciphertextBuffer}}]}),this.bindGroupDirty=!1);const E=this.device.createCommandEncoder(),P=E.beginComputePass();P.setPipeline(this.pipeline),P.setBindGroup(0,this.bindGroup),P.dispatchWorkgroups(Math.ceil(f/(256*16))),P.end(),E.copyBufferToBuffer(this.matchCountBuffer,0,x,0,4),E.copyBufferToBuffer(this.matchIndicesBuffer,0,p,0,1024*4),this.device.queue.submit([E.finish()]),await x.mapAsync(GPUMapMode.READ);const k=new Uint32Array(x.getMappedRange())[0];x.unmap();const I=[];if(k>0){await p.mapAsync(GPUMapMode.READ);const N=new Uint32Array(p.getMappedRange());for(let z=0;z<Math.min(k,1024);z++)I.push(N[z]);p.unmap()}return I}destroy(){var a,s,l,f,d,m,h,x;(a=this.paramsBuffer)==null||a.destroy(),(s=this.matchCountBuffer)==null||s.destroy(),(l=this.matchIndicesBuffer)==null||l.destroy(),(f=this.ciphertextBuffer)==null||f.destroy(),(d=this.matchCountReadBuffers[0])==null||d.destroy(),(m=this.matchCountReadBuffers[1])==null||m.destroy(),(h=this.matchIndicesReadBuffers[0])==null||h.destroy(),(x=this.matchIndicesReadBuffers[1])==null||x.destroy(),this.paramsBuffer=null,this.matchCountBuffer=null,this.matchIndicesBuffer=null,this.ciphertextBuffer=null,this.ciphertextBufferSize=0,this.matchCountReadBuffers=[null,null],this.matchIndicesReadBuffers=[null,null],this.currentReadBufferIndex=0,this.bindGroup=null,this.bindGroupDirty=!0,this.device&&(this.device.destroy(),this.device=null),this.pipeline=null,this.bindGroupLayout=null}}$c.ZERO_DATA=new Uint32Array([0]);function IC(){return typeof navigator<"u"&&"gpu"in navigator}class hA{runBatch(a,s,l,f,d,m){const h=[],x=a.toString(16).padStart(2,"0"),p=!!(d&&m);for(let y=0;y<f;y++){const v=l+y,w=Ho(s,v);if(!w)continue;const S=t0("#"+w);n0(S)===x&&(p&&!Bx(d,m,S)||h.push(v))}return h}destroy(){}}const OC=/^[a-z0-9-]+$/,zC=/^[a-z0-9].*[a-z0-9]$|^[a-z0-9]$/,jC=/--/;function pA(r){return!(!r||r.length===0||!OC.test(r)||r.length>1&&!zC.test(r)||jC.test(r))}class HC{constructor(){this.gpuInstance=null,this.cpuInstance=null,this.wordlist=[],this.abortFlag=!1,this.useTimestampFilter=!0,this.useUtf8Filter=!0,this.validSeconds=e0,this.useCpu=!1}async loadWordlist(a){const s=await fetch(a);if(!s.ok)throw new Error(`Failed to load wordlist: ${s.status} ${s.statusText}`);const f=(await s.text()).split(`
`).map(d=>d.trim().toLowerCase()).filter(d=>d.length>0);this.wordlist=f.filter(pA)}setWordlist(a){this.wordlist=a.map(s=>s.trim().toLowerCase()).filter(pA)}abort(){this.abortFlag=!0}isGpuAvailable(){return IC()}async decodePacket(a){var l;const s=a.trim().replace(/\s+/g,"").replace(/^0x/i,"");if(!s||!/^[0-9a-fA-F]+$/.test(s))return null;try{const d=(l=(await cA.MeshCorePacketDecoder.decodeWithVerification(s,{})).payload)==null?void 0:l.decoded;return!(d!=null&&d.channelHash)||!(d!=null&&d.ciphertext)||!(d!=null&&d.cipherMac)?null:{channelHash:d.channelHash,ciphertext:d.ciphertext,cipherMac:d.cipherMac,isGroupText:!0}}catch{return null}}async crack(a,s,l){this.abortFlag=!1,this.useTimestampFilter=(s==null?void 0:s.useTimestampFilter)??!0,this.useUtf8Filter=(s==null?void 0:s.useUtf8Filter)??!0,this.validSeconds=(s==null?void 0:s.validSeconds)??e0,this.useCpu=(s==null?void 0:s.forceCpu)??!1;const f=(s==null?void 0:s.maxLength)??8,d=(s==null?void 0:s.startingLength)??1,m=(s==null?void 0:s.useDictionary)??!0,h=(s==null?void 0:s.startFromType)??"bruteforce",x=a.toLowerCase(),p=await this.decodePacket(x);if(!p)return{found:!1,error:"Invalid packet or not a GroupText packet"};const{channelHash:y,ciphertext:v,cipherMac:w}=p,S=parseInt(y,16);this.useCpu?this.cpuInstance||(this.cpuInstance=new hA):this.gpuInstance||(this.gpuInstance=new $c,await this.gpuInstance.init()||(this.useCpu=!0,this.cpuInstance=new hA));const T=performance.now();let C=0,E=performance.now(),P=d,B=0,k=0,I=!1;if(s!=null&&s.startFrom){const V=s.startFrom.toLowerCase();if(h==="dictionary"){const J=this.wordlist.indexOf(V);J>=0&&(k=J+1)}else{I=!0;const J=NC(V);J&&(P=Math.max(d,J.length),B=J.index+1,B>=el(P)&&(P++,B=0))}}let N=0;m&&!I&&this.wordlist.length>0&&(N+=this.wordlist.length-k);for(let V=P;V<=f;V++)N+=el(V);N-=B;const z=(V,J,le)=>{if(!l)return;const de=(performance.now()-T)/1e3,q=de>0?Math.round(C/de):0,me=N-C,ne=q>0?me/q:0;l({checked:C,total:N,percent:N>0?Math.min(100,C/N*100):0,rateKeysPerSec:q,etaSeconds:ne,elapsedSeconds:de,currentLength:J,currentPosition:le,phase:V})},j=V=>{if(!Bx(v,w,V))return{valid:!1};const J=cA.ChannelCrypto.decryptGroupTextMessage(v,w,V);return!J.success||!J.data?{valid:!1}:this.useTimestampFilter&&!LC(J.data.timestamp,this.validSeconds)?{valid:!1}:this.useUtf8Filter&&!MC(J.data.message)?{valid:!1}:{valid:!0,message:J.data.message}};if(!I&&k===0&&P===d&&B===0){z("public-key",0,Jf);const V=n0(wc);if(y===V){const J=j(wc);if(J.valid)return{found:!0,roomName:Jf,key:wc,decryptedMessage:J.message}}}if(m&&!I&&this.wordlist.length>0)for(let V=k;V<this.wordlist.length;V++){if(this.abortFlag)return{found:!1,aborted:!0,resumeFrom:this.wordlist[V],resumeType:"dictionary"};const J=this.wordlist[V],le=t0("#"+J),oe=n0(le);if(parseInt(oe,16)===S){const q=j(le);if(q.valid)return{found:!0,roomName:J,key:le,decryptedMessage:q.message,resumeFrom:J,resumeType:"dictionary"}}C++;const de=performance.now();de-E>=200&&(z("wordlist",J.length,J),E=de,await new Promise(q=>setTimeout(q,0)))}const H=this.useCpu?1024:32768,K=(s==null?void 0:s.gpuDispatchMs)??1e3;let U=H,G=!1;for(let V=P;V<=f;V++){if(this.abortFlag)return{found:!1,aborted:!0,resumeFrom:Ho(V,0)||void 0,resumeType:"bruteforce"};const J=el(V);let le=V===P?B:0;for(;le<J;){if(this.abortFlag)return{found:!1,aborted:!0,resumeFrom:Ho(V,le)||void 0,resumeType:"bruteforce"};const oe=Math.min(U,J-le),de=performance.now();let q;this.useCpu?q=this.cpuInstance.runBatch(S,V,le,oe,v,w):q=await this.gpuInstance.runBatch(S,V,le,oe,v,w);const me=performance.now()-de;if(C+=oe,!this.useCpu&&!G&&oe>=H&&me>0){const D=K/me,Z=Math.round(oe*D),$=Math.pow(2,Math.round(Math.log2(Math.max(H,Z))));U=Math.max(H,$),G=!0}for(const D of q){const Z=Ho(V,D);if(!Z)continue;const $=t0("#"+Z),X=j($);if(X.valid)return{found:!0,roomName:Z,key:$,decryptedMessage:X.message,resumeFrom:Z,resumeType:"bruteforce"}}le+=oe;const ne=performance.now();if(ne-E>=200){const D=Ho(V,Math.min(le,J-1))||"";z("bruteforce",V,D),E=ne,await new Promise(Z=>setTimeout(Z,0))}}}return{found:!1,resumeFrom:Ho(f,el(f)-1)||void 0,resumeType:"bruteforce"}}destroy(){this.gpuInstance&&(this.gpuInstance.destroy(),this.gpuInstance=null),this.cpuInstance&&(this.cpuInstance.destroy(),this.cpuInstance=null)}}var jf,mA;function VC(){return mA||(mA=1,jf={webm:"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAVkhFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsghV17AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjMzLjEwMFdBjUxhdmY1NS4zMy4xMDBzpJBlrrXf3DCDVB8KcgbMpcr+RImIQJBgAAAAAAAWVK5rAQAAAAAAD++uAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEAmJaAOABAAAAAAAABrCBsLqBkK4BAAAAAAAPq9eBAnPFgQKcgQAitZyDdW5khohBX1ZPUkJJU4OBAuEBAAAAAAAAEZ+BArWIQOdwAAAAAABiZIEgY6JPbwIeVgF2b3JiaXMAAAAAAoC7AAAAAAAAgLUBAAAAAAC4AQN2b3JiaXMtAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxMDExMDEgKFNjaGF1ZmVudWdnZXQpAQAAABUAAABlbmNvZGVyPUxhdmM1NS41Mi4xMDIBBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAkBBTLS3GmgmLJGLSaqugYwxS7KWxSCpntbfKMYUYtV4ah5RREHupJGOKQcwtpNApJq3WVEKFFKSYYyoVUg5SIDRkhQAQmgHgcBxAsixAsiwAAAAAAAAAkDQN0DwPsDQPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8DwR8EQRAAAAAAAAACzPAzTRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAAsDwP8EQR0DwRAAAAAAAAACzPAzxRBDzRAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAcEgSJAmSBM0DSJYFTYOmwTQBkmVB06BpME0AAAAAAAAAAAAAJE2DpkHTIIoASdOgadA0iCIAAAAAAAAAAAAAkqZB06BpEEWApGnQNGgaRBEAAAAAAAAAAAAAzzQhihBFmCbAM02IIkQRpgkAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAcCiKZQHHsSzgOJYFJMmyAJYF0DyApgFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABsWxLE0TRZKkaZoniiRJ0zxPFGma53meacLzPM80IYqiaJoQRVE0TZimaaoqME1VFQAAUOAAABBgg6bE4gCFhqwEAEICAByKYlma5nmeJ4qmqZokSdM8TxRF0TRNU1VJkqZ5niiKommapqqyLE3zPFEURdNUVVWFpnmeKIqiaaqq6sLzPE8URdE0VdV14XmeJ4qiaJqq6roQRVE0TdNUTVV1XSCKpmmaqqqqrgtETxRNU1Vd13WB54miaaqqq7ouEE3TVFVVdV1ZBpimaaqq68oyQFVV1XVdV5YBqqqqruu6sgxQVdd1XVmWZQCu67qyLMsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEFEImJaXSUqogpFJSKRWEVEoqJaOUUmopVRBSKamUCkIqJZVSAADYgQMA2IGFUGjISgAgDwCAMEYpxhhzTiKkFGPOOScRUoox55yTSjHmnHPOSSkZc8w556SUzjnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzkEnpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmuZ5omialiRpmud5niiapiZJmuZ5nieKqsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVV2yLIqmaZqq6rowTdNUVdd1XZimaaqq67oubFtVVdV1ZRm2raqq6rqyDFzXdWXZloEsu67s2rIAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg5BCCCFlEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAIyx1lprrbXWQGettdZaa62AzFprrbXWWmuttdZaa6211lJrrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmstpZRSSimllFJKKaWUUkoppZRSSgUA+lU4APg/2LA6wknRWGChISsBgHAAAMAYpRhzDEIppVQIMeacdFRai7FCiDHnJKTUWmzFc85BKCGV1mIsnnMOQikpxVZjUSmEUlJKLbZYi0qho5JSSq3VWIwxqaTWWoutxmKMSSm01FqLMRYjbE2ptdhqq7EYY2sqLbQYY4zFCF9kbC2m2moNxggjWywt1VprMMYY3VuLpbaaizE++NpSLDHWXAAAd4MDAESCjTOsJJ0VjgYXGrISAAgJACAQUooxxhhzzjnnpFKMOeaccw5CCKFUijHGnHMOQgghlIwx5pxzEEIIIYRSSsaccxBCCCGEkFLqnHMQQgghhBBKKZ1zDkIIIYQQQimlgxBCCCGEEEoopaQUQgghhBBCCKmklEIIIYRSQighlZRSCCGEEEIpJaSUUgohhFJCCKGElFJKKYUQQgillJJSSimlEkoJJYQSUikppRRKCCGUUkpKKaVUSgmhhBJKKSWllFJKIYQQSikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAkKKUUiktRYIipRikGEtGFXNQWoqocgxSzalSziDmJJaIMYSUk1Qy5hRCDELqHHVMKQYtlRhCxhik2HJLoXMOAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABcAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBB9DtnUBAAAAAAAEPueBAKOFggAAgACjzoEAA4BwBwCdASqwAJAAAEcIhYWIhYSIAgIABhwJ7kPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99YAD+/6tQgKOFggADgAqjhYIAD4AOo4WCACSADqOZgQArADECAAEQEAAYABhYL/QACIBDmAYAAKOFggA6gA6jhYIAT4AOo5mBAFMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAGSADqOFggB6gA6jmYEAewAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAj4AOo5mBAKMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAKSADqOFggC6gA6jmYEAywAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAz4AOo4WCAOSADqOZgQDzADECAAEQEAAYABhYL/QACIBDmAYAAKOFggD6gA6jhYIBD4AOo5iBARsAEQIAARAQFGAAYWC/0AAiAQ5gGACjhYIBJIAOo4WCATqADqOZgQFDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggFPgA6jhYIBZIAOo5mBAWsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAXqADqOFggGPgA6jmYEBkwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIBpIAOo4WCAbqADqOZgQG7ADECAAEQEAAYABhYL/QACIBDmAYAAKOFggHPgA6jmYEB4wAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIB5IAOo4WCAfqADqOZgQILADECAAEQEAAYABhYL/QACIBDmAYAAKOFggIPgA6jhYICJIAOo5mBAjMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAjqADqOFggJPgA6jmYECWwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYICZIAOo4WCAnqADqOZgQKDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggKPgA6jhYICpIAOo5mBAqsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCArqADqOFggLPgA6jmIEC0wARAgABEBAUYABhYL/QACIBDmAYAKOFggLkgA6jhYIC+oAOo5mBAvsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAw+ADqOZgQMjADECAAEQEAAYABhYL/QACIBDmAYAAKOFggMkgA6jhYIDOoAOo5mBA0sAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA0+ADqOFggNkgA6jmYEDcwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIDeoAOo4WCA4+ADqOZgQObADECAAEQEAAYABhYL/QACIBDmAYAAKOFggOkgA6jhYIDuoAOo5mBA8MAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA8+ADqOFggPkgA6jhYID+oAOo4WCBA+ADhxTu2sBAAAAAAAAEbuPs4EDt4r3gQHxghEr8IEK",mp4:"data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"}),jf}var Hf,AA;function UC(){if(AA)return Hf;AA=1;const{webm:r,mp4:a}=VC(),s=()=>typeof navigator<"u"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,l=()=>"wakeLock"in navigator;class f{constructor(){if(this.enabled=!1,l()){this._wakeLock=null;const m=()=>{this._wakeLock!==null&&document.visibilityState==="visible"&&this.enable()};document.addEventListener("visibilitychange",m),document.addEventListener("fullscreenchange",m)}else s()?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this._addSourceToVideo(this.noSleepVideo,"webm",r),this._addSourceToVideo(this.noSleepVideo,"mp4",a),this.noSleepVideo.addEventListener("loadedmetadata",()=>{this.noSleepVideo.duration<=1?this.noSleepVideo.setAttribute("loop",""):this.noSleepVideo.addEventListener("timeupdate",()=>{this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())})}))}_addSourceToVideo(m,h,x){var p=document.createElement("source");p.src=x,p.type=`video/${h}`,m.appendChild(p)}get isEnabled(){return this.enabled}enable(){return l()?navigator.wakeLock.request("screen").then(m=>{this._wakeLock=m,this.enabled=!0,console.log("Wake Lock active."),this._wakeLock.addEventListener("release",()=>{console.log("Wake Lock released.")})}).catch(m=>{throw this.enabled=!1,console.error(`${m.name}, ${m.message}`),m}):s()?(this.disable(),console.warn(`
        NoSleep enabled for older iOS devices. This can interrupt
        active or long-running network requests from completing successfully.
        See https://github.com/richtr/NoSleep.js/issues/15 for more details.
      `),this.noSleepTimer=window.setInterval(()=>{document.hidden||(window.location.href=window.location.href.split("#")[0],window.setTimeout(window.stop,0))},15e3),this.enabled=!0,Promise.resolve()):this.noSleepVideo.play().then(h=>(this.enabled=!0,h)).catch(h=>{throw this.enabled=!1,h})}disable(){l()?(this._wakeLock&&this._wakeLock.release(),this._wakeLock=null):s()?this.noSleepTimer&&(console.warn(`
          NoSleep now disabled for older iOS devices.
        `),window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause(),this.enabled=!1}}return Hf=f,Hf}var ZC=UC();const WC=Us(ZC);function qC(r){if(r.length<4)return null;try{const s=parseInt(r.slice(0,2),16)&3;let l=2;if(s===0||s===3){if(r.length<l+8)return null;l+=8}if(r.length<l+2)return null;const f=parseInt(r.slice(l,l+2),16);l+=2;const d=f*2;return r.length<l+d?null:(l+=d,r.slice(l))}catch{return null}}function GC({packets:r,channels:a,onChannelCreate:s,onRunningChange:l,visible:f=!1}){const[d,m]=R.useState(!1),[h,x]=R.useState(6),[p,y]=R.useState(!1),[v,w]=R.useState(!0),[S,T]=R.useState(!1),[C,E]=R.useState(null),[P,B]=R.useState(new Map),[k,I]=R.useState([]),[N,z]=R.useState(!1),[j,H]=R.useState(null),[K,U]=R.useState(null),[G,re]=R.useState(0),V=R.useRef(null),J=R.useRef(null),le=R.useRef(!1),oe=R.useRef(!1),de=R.useRef(!1),q=R.useRef(new Map),me=R.useRef(!1),ne=R.useRef(6),D=R.useRef(!0),Z=R.useRef(!1),$=R.useRef(new Set),X=R.useRef(new Set);R.useEffect(()=>{const Se=new HC;V.current=Se,H(Se.isGpuAvailable());const Ve=new WC;return J.current=Ve,()=>{Se.destroy(),V.current=null,Ve.disable(),J.current=null}},[]),R.useEffect(()=>{!f||N||z2(async()=>{const{ENGLISH_WORDLIST:Se}=await import("./wordlist-BV_32SRm.js");return{ENGLISH_WORDLIST:Se}},[]).then(({ENGLISH_WORDLIST:Se})=>{V.current&&(V.current.setWordlist(Se),z(!0))}).catch(Se=>{console.error("Failed to load wordlist:",Se),Lt.error("Failed to load wordlist",{description:"Cracking will not be available"})})},[f,N]),R.useEffect(()=>{const Se=()=>{at.getUndecryptedPacketCount().then(({count:dt})=>U(dt)).catch(()=>U(null))};Se();const Ve=setInterval(Se,3e4);return()=>clearInterval(Ve)},[]);const fe=new Set(a.map(Se=>Se.key.toUpperCase())),he=r.filter(Se=>Se.payload_type==="GROUP_TEXT"&&!Se.decrypted);R.useEffect(()=>{let Se=0;B(Ve=>{const dt=new Map(Ve);let Mt=!1;for(const vt of he)if(!dt.has(vt.id)){const ot=qC(vt.data);if(ot&&X.current.has(ot)){Se++;continue}ot&&X.current.add(ot),dt.set(vt.id,{packet:vt,attempts:0,lastAttemptLength:0,status:"pending"}),Mt=!0}return Mt?(q.current=dt,dt):Ve}),Se>0&&re(Ve=>Ve+Se)},[he.length]),R.useEffect(()=>{q.current=P},[P]),R.useEffect(()=>{me.current=p},[p]),R.useEffect(()=>{ne.current=h},[h]),R.useEffect(()=>{D.current=v},[v]),R.useEffect(()=>{Z.current=S},[S]),R.useEffect(()=>{$.current=new Set(he.map(Se=>Se.id))},[he]),R.useEffect(()=>{l==null||l(d)},[d,l]);const ke=Array.from(P.values()).filter(Se=>Se.status==="pending").length,Ae=Array.from(P.values()).filter(Se=>Se.status==="cracked").length,qe=Array.from(P.values()).filter(Se=>Se.status==="failed").length,Ye=R.useCallback(async()=>{if(de.current||!V.current||!le.current)return;const Se=q.current;let Ve=null,dt=null;for(const[Qe,Xe]of Se.entries())if(Xe.status==="pending"){Ve=Xe,dt=Qe;break}if(!Ve&&me.current){const Qe=Array.from(Se.entries()).filter(([,Xe])=>Xe.status==="failed"&&Xe.lastAttemptLength<10);Qe.length>0&&(Qe.sort((Xe,et)=>Xe[1].lastAttemptLength-et[1].lastAttemptLength),[dt,Ve]=Qe[0])}if(!Ve||dt===null){le.current&&setTimeout(()=>Ye(),1e3);return}if(!$.current.has(dt)){B(Qe=>{const Xe=new Map(Qe);return Xe.delete(dt),Xe}),le.current&&setTimeout(()=>Ye(),10);return}de.current=!0;const Mt=ne.current,vt=Ve.lastAttemptLength>0,ot=vt?Ve.lastAttemptLength+1:Mt;try{const Qe=await V.current.crack(Ve.packet.data,{maxLength:ot,useTimestampFilter:!0,useUtf8Filter:!0,...Z.current&&{gpuDispatchMs:1e4},...vt&&{useDictionary:!1,startingLength:ot}},Xe=>{E(Xe)});if(oe.current){oe.current=!1,de.current=!1,E(null);return}if(Qe.found&&Qe.roomName&&Qe.key){B(Oe=>{const _t=new Map(Oe),$t=_t.get(dt);return $t&&_t.set(dt,{...$t,status:"cracked",attempts:$t.attempts+1,lastAttemptLength:ot}),_t});const Xe={roomName:Qe.roomName,key:Qe.key,packetId:dt,message:Qe.decryptedMessage||"",crackedAt:Date.now()};I(Oe=>[...Oe,Xe]);const et=Qe.key.toUpperCase();if(!fe.has(et))try{const Oe="#"+Qe.roomName;await s(Oe,Qe.key),D.current&&await at.decryptHistoricalPackets({key_type:"channel",channel_name:Oe})}catch(Oe){console.error("Failed to create channel or decrypt historical:",Oe),Lt.error("Failed to save cracked channel",{description:Oe instanceof Error?Oe.message:"Channel discovered but could not be saved"})}}else B(Xe=>{const et=new Map(Xe),Oe=et.get(dt);return Oe&&et.set(dt,{...Oe,status:"failed",attempts:Oe.attempts+1,lastAttemptLength:ot}),et})}catch(Qe){console.error("Cracking error:",Qe),B(Xe=>{const et=new Map(Xe),Oe=et.get(dt);return Oe&&et.set(dt,{...Oe,status:"failed",attempts:Oe.attempts+1,lastAttemptLength:ot}),et})}de.current=!1,E(null),le.current&&setTimeout(()=>Ye(),100)},[fe,s]),Et=()=>{var Se;if(!j){Lt.error("WebGPU not available",{description:"Cracking requires Chrome 113+ or Edge 113+ with WebGPU support."});return}m(!0),le.current=!0,oe.current=!1,(Se=J.current)==null||Se.enable(),Ye()},ht=()=>{var Se,Ve;m(!1),le.current=!1,oe.current=!0,(Se=V.current)==null||Se.abort(),(Ve=J.current)==null||Ve.disable()};return F.jsxs("div",{className:"flex flex-col h-full p-3 gap-3 bg-background border-t border-border",children:[F.jsxs("p",{className:"text-xs text-muted-foreground leading-relaxed",children:["This will attempt to dictionary attack, then brute force GroupText packets as they arrive, testing room names up to the specified length.",F.jsx("strong",{children:" Retry failed at n+1"})," will let the cracker return to the failed queue and pick up messages it couldn't crack, attempting them at one longer length.",F.jsx("strong",{children:" Decrypt historical"})," will run an async job on any room name it finds to see if any historically captured packets will decrypt with that key.",F.jsx("strong",{children:" Turbo mode"})," will push your GPU to the max (target dispatch time of 10s) and may allow accelerated cracking and/or system instability."]}),F.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[F.jsx("button",{onClick:d?ht:Et,disabled:!N||j===!1,className:lt("px-4 py-1.5 rounded text-sm font-medium",d?"bg-destructive text-destructive-foreground hover:bg-destructive/90":"bg-primary text-primary-foreground hover:bg-primary/90","disabled:opacity-50 disabled:cursor-not-allowed"),children:d?"Stop":"Start Cracking"}),F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx("label",{className:"text-sm text-muted-foreground",children:"Max Length:"}),F.jsx("input",{type:"number",min:1,max:10,value:h,onChange:Se=>x(Math.min(10,Math.max(1,parseInt(Se.target.value)||6))),className:"w-14 px-2 py-1 text-sm bg-muted border border-border rounded"})]}),F.jsxs("label",{className:"flex items-center gap-2 text-sm text-muted-foreground cursor-pointer",children:[F.jsx("input",{type:"checkbox",checked:p,onChange:Se=>y(Se.target.checked),className:"rounded"}),"Retry failed at n+1"]}),F.jsxs("label",{className:"flex items-center gap-2 text-sm text-muted-foreground cursor-pointer",children:[F.jsx("input",{type:"checkbox",checked:v,onChange:Se=>w(Se.target.checked),className:"rounded"}),"Decrypt historical"]}),v&&F.jsx("span",{className:"text-xs text-muted-foreground",children:K!==null&&K>0?`(${K.toLocaleString()} packets; messages stream in as decrypted)`:"(messages stream in as decrypted)"}),F.jsxs("label",{className:"flex items-center gap-2 text-sm text-muted-foreground cursor-pointer",children:[F.jsx("input",{type:"checkbox",checked:S,onChange:Se=>T(Se.target.checked),className:"rounded"}),"Turbo mode (experimental)"]})]}),F.jsxs("div",{className:"flex gap-4 text-sm",children:[F.jsxs("span",{className:"text-muted-foreground",children:["Pending: ",F.jsx("span",{className:"text-foreground font-medium",children:ke})]}),F.jsxs("span",{className:"text-muted-foreground",children:["Cracked: ",F.jsx("span",{className:"text-green-500 font-medium",children:Ae})]}),F.jsxs("span",{className:"text-muted-foreground",children:["Failed: ",F.jsx("span",{className:"text-destructive font-medium",children:qe})]}),G>0&&F.jsxs("span",{className:"text-muted-foreground",children:["Skipped (dup): ",F.jsx("span",{className:"text-muted-foreground font-medium",children:G})]})]}),C&&F.jsxs("div",{className:"space-y-1",children:[F.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[F.jsxs("span",{children:[C.phase==="wordlist"?"Dictionary":C.phase==="bruteforce"?"Bruteforce":"Public Key",C.phase==="bruteforce"&&` - Length ${C.currentLength}`,": ",C.currentPosition]}),F.jsxs("span",{children:[C.rateKeysPerSec>=1e9?`${(C.rateKeysPerSec/1e9).toFixed(2)} Gkeys/s`:`${(C.rateKeysPerSec/1e6).toFixed(1)} Mkeys/s`," "," ETA: ",C.etaSeconds<60?`${Math.round(C.etaSeconds)}s`:`${Math.round(C.etaSeconds/60)}m`]})]}),F.jsx("div",{className:"h-2 bg-muted rounded overflow-hidden",children:F.jsx("div",{className:"h-full bg-primary transition-all duration-200",style:{width:`${C.percent}%`}})})]}),j===!1&&F.jsx("div",{className:"text-sm text-destructive",children:"WebGPU not available. Cracking requires Chrome 113+ or Edge 113+."}),!N&&j!==!1&&F.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading wordlist..."}),k.length>0&&F.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0",children:[F.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Cracked Rooms:"}),F.jsx("div",{className:"space-y-1",children:k.map((Se,Ve)=>F.jsxs("div",{className:"text-sm bg-green-950/30 border border-green-900/50 rounded px-2 py-1",children:[F.jsxs("span",{className:"text-green-400 font-medium",children:["#",Se.roomName]}),F.jsxs("span",{className:"text-muted-foreground ml-2 text-xs",children:['"',Se.message.slice(0,50),Se.message.length>50?"...":"",'"']})]},Ve))})]})]})}const QC=gg,KC=xg,Px=R.forwardRef(({className:r,...a},s)=>F.jsx(Lc,{className:lt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...a,ref:s}));Px.displayName=Lc.displayName;const $C=Dc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Tx=R.forwardRef(({side:r="right",className:a,children:s,hideCloseButton:l=!1,...f},d)=>F.jsxs(KC,{children:[F.jsx(Px,{}),F.jsxs(Mc,{ref:d,className:lt($C({side:r}),a),...f,children:[!l&&F.jsxs(vg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[F.jsx(CA,{className:"h-4 w-4"}),F.jsx("span",{className:"sr-only",children:"Close"})]}),s]})]}));Tx.displayName=Mc.displayName;const Dx=({className:r,...a})=>F.jsx("div",{className:lt("flex flex-col space-y-2 text-center sm:text-left",r),...a});Dx.displayName="SheetHeader";const Rx=R.forwardRef(({className:r,...a},s)=>F.jsx(Ic,{ref:s,className:lt("text-lg font-semibold text-foreground",r),...a}));Rx.displayName=Ic.displayName;const YC=R.forwardRef(({className:r,...a},s)=>F.jsx(Oc,{ref:s,className:lt("text-sm text-muted-foreground",r),...a}));YC.displayName=Oc.displayName;function XC(){const r=window.location.hash.slice(1);if(!r)return null;if(r==="raw")return{type:"raw",name:"raw"};if(r==="map")return{type:"map",name:"map"};const a=r.indexOf("/");if(a===-1)return null;const s=r.slice(0,a),l=decodeURIComponent(r.slice(a+1));return(s==="channel"||s==="contact")&&l?{type:s,name:l}:null}function JC(r){if(!r)return"";if(r.type==="raw")return"#raw";if(r.type==="map")return"#map";const a=r.type==="channel"&&r.name.startsWith("#")?r.name.slice(1):r.name;return`#${r.type}/${encodeURIComponent(a)}`}function eE(r){const a=JC(r);a!==window.location.hash&&window.history.replaceState(null,"",a||window.location.pathname)}const gA=500;function tE(){const r=R.useRef(null),a=R.useRef(null),s=R.useRef(new Set),[l,f]=R.useState(null),[d,m]=R.useState(null),[h,x]=R.useState(null),[p,y]=R.useState([]),[v,w]=R.useState([]),[S,T]=R.useState([]),[C,E]=R.useState(null),[P,B]=R.useState(!1),[k,I]=R.useState(!1),[N,z]=R.useState(!1),[j,H]=R.useState(!1),[K,U]=R.useState(0),[G,re]=R.useState(!1),[V,J]=R.useState(!1),le=R.useRef(null),oe=R.useRef(null);R.useEffect(()=>{oe.current=(d==null?void 0:d.name)??null},[d==null?void 0:d.name]);const de=R.useCallback(te=>{const xe=oe.current;if(!xe)return!1;const Ee=xe.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return new RegExp(`@\\[${Ee}\\]`,"i").test(te)},[]),{messages:q,messagesLoading:me,loadingOlder:ne,hasOlderMessages:D,setMessages:Z,fetchMessages:$,fetchOlderMessages:X,addMessageIfNew:fe,updateMessageAck:he}=ly(C),{unreadCounts:ke,mentions:Ae,lastMessageTimes:qe,incrementUnread:Ye,markAllRead:Et,trackNewMessage:ht}=Fv(v,p,C,d==null?void 0:d.name),{repeaterLoggedIn:Se,activeContactIsRepeater:Ve,handleTelemetryRequest:dt,handleRepeaterCommand:Mt}=Tv(C,p,Z),vt=R.useMemo(()=>({onHealth:te=>{const xe=le.current;le.current=te,f(te),xe!==null&&xe.radio_connected!==te.radio_connected&&(te.radio_connected?Lt.success("Radio connected",{description:te.serial_port?`Connected to ${te.serial_port}`:void 0}):Lt.error("Radio disconnected",{description:"Check radio connection and power"}))},onError:te=>{Lt.error(te.message,{description:te.details})},onContacts:te=>y(te),onChannels:te=>w(te),onMessage:te=>{const xe=a.current,Ee=xe?te.type==="CHAN"&&xe.type==="channel"?te.conversation_key===xe.id:te.type==="PRIV"&&xe.type==="contact"?te.conversation_key&&yA(xe.id,te.conversation_key):!1:!1;if(Ee&&fe(te),ht(te),!te.outgoing&&!Ee){const He=Fu(te);if(s.current.has(He))return;if(s.current.add(He),s.current.size>1e3){const nt=Array.from(s.current);s.current=new Set(nt.slice(-500))}let ze=null;if(te.type==="CHAN"&&te.conversation_key?ze=Dr("channel",te.conversation_key):te.type==="PRIV"&&te.conversation_key&&(ze=Dr("contact",te.conversation_key)),ze){const nt=de(te.text);Ye(ze,nt)}}},onContact:te=>{y(xe=>{const Ee=xe.findIndex(He=>He.public_key===te.public_key);if(Ee>=0){const He=[...xe],ze=xe[Ee];return He[Ee]={...ze,...te,name:te.name??ze.name,last_path:te.last_path??ze.last_path,lat:te.lat??ze.lat,lon:te.lon??ze.lon},He}return[...xe,te]})},onRawPacket:te=>{T(xe=>{if(xe.some(He=>He.id===te.id))return xe;const Ee=[...xe,te];return Ee.length>gA?Ee.slice(-gA):Ee})},onMessageAcked:(te,xe)=>{he(te,xe)}}),[fe,ht,Ye,he,de]);kv(vt);const ot=R.useCallback(async()=>{try{const te=await at.getRadioConfig();m(te)}catch(te){console.error("Failed to fetch config:",te)}},[]),Qe=R.useCallback(async()=>{try{const te=await at.getSettings();x(te)}catch(te){console.error("Failed to fetch app settings:",te)}},[]),Xe=R.useCallback(async()=>{try{const te=await at.getUndecryptedPacketCount();U(te.count)}catch(te){console.error("Failed to fetch undecrypted count:",te)}},[]);R.useEffect(()=>{ot(),Qe(),Xe()},[ot,Qe,Xe]);const et=R.useCallback(()=>{const te=XC();if(!te)return null;if(te.type==="raw")return{type:"raw",id:"raw",name:"Raw Packet Feed"};if(te.type==="channel"){const xe=v.find(Ee=>Ee.name===te.name||Ee.name===`#${te.name}`);if(xe)return{type:"channel",id:xe.key,name:xe.name}}if(te.type==="contact"){const xe=p.find(Ee=>Vo(Ee.name,Ee.public_key)===te.name);if(xe)return{type:"contact",id:xe.public_key,name:Vo(xe.name,xe.public_key)}}return null},[v,p]),Oe=R.useRef(!1);R.useEffect(()=>{if(Oe.current||C||v.length===0&&p.length===0)return;const te=et();if(te){E(te),Oe.current=!0;return}const xe=v.find(Ee=>Ee.name==="Public");xe&&(E({type:"channel",id:xe.key,name:xe.name}),Oe.current=!0)},[v,p,C,et]),R.useEffect(()=>{a.current=C,C&&eE(C)},[C]);const _t=R.useCallback(async te=>{C&&(C.type==="channel"?await at.sendChannelMessage(C.id,te):await at.sendDirectMessage(C.id,te),await $())},[C,$]),$t=R.useCallback(async te=>{await at.updateRadioConfig(te),await ot()},[ot]),Un=R.useCallback(async te=>{await at.updateSettings(te),await Qe()},[Qe]),It=R.useCallback(async te=>{await at.setPrivateKey(te),await ot()},[ot]),Jt=R.useCallback(async()=>{await at.rebootRadio(),f(xe=>xe&&{...xe,radio_connected:!1}),(async()=>{for(let xe=0;xe<30;xe++){await new Promise(Ee=>setTimeout(Ee,1e3));try{const Ee=await at.getHealth();if(f(Ee),Ee.radio_connected){ot();return}}catch{}}})()},[ot]),fn=R.useCallback(async()=>{try{await at.sendAdvertisement(!0),Lt.success("Advertisement sent")}catch(te){console.error("Failed to send advertisement:",te),Lt.error("Failed to send advertisement",{description:te instanceof Error?te.message:"Check radio connection"})}},[]),Sn=R.useCallback(te=>{var xe;(xe=r.current)==null||xe.appendText(`@[${te}] `)},[]),Ut=R.useCallback(te=>{E(te),H(!1)},[]),St=R.useCallback(async te=>{if(confirm("Delete this channel? Message history will be preserved."))try{await at.deleteChannel(te),w(xe=>xe.filter(Ee=>Ee.key!==te)),E(null),Lt.success("Channel deleted")}catch(xe){console.error("Failed to delete channel:",xe),Lt.error("Failed to delete channel",{description:xe instanceof Error?xe.message:void 0})}},[]),Zt=R.useCallback(async te=>{if(confirm("Delete this contact? Message history will be preserved."))try{await at.deleteContact(te),y(xe=>xe.filter(Ee=>Ee.public_key!==te)),E(null),Lt.success("Contact deleted")}catch(xe){console.error("Failed to delete contact:",xe),Lt.error("Failed to delete contact",{description:xe instanceof Error?xe.message:void 0})}},[]),Zn=R.useCallback(async(te,xe,Ee)=>{const He={public_key:xe,name:te,type:0,flags:0,last_path:null,last_path_len:-1,last_advert:null,lat:null,lon:null,last_seen:null,on_radio:!1,last_read_at:null};y(ze=>[...ze,He]),E({type:"contact",id:xe,name:Vo(te,xe)}),Ee&&console.log("Contact historical decryption not yet supported")},[]),xn=R.useCallback(async(te,xe,Ee)=>{const He=await at.createChannel(te,xe),ze=await at.getChannels();w(ze),E({type:"channel",id:He.key,name:te}),Ee&&(await at.decryptHistoricalPackets({key_type:"channel",channel_key:He.key}),Xe())},[Xe]),pe=R.useCallback(async(te,xe)=>{const Ee=te.startsWith("#")?te:`#${te}`,He=await at.createChannel(Ee),ze=await at.getChannels();w(ze),E({type:"channel",id:He.key,name:Ee}),xe&&(await at.decryptHistoricalPackets({key_type:"channel",channel_name:Ee}),Xe())},[Xe]),we=F.jsx(E_,{contacts:p,channels:v,activeConversation:C,onSelectConversation:Ut,onNewMessage:()=>{B(!0),H(!1)},lastMessageTimes:qe,unreadCounts:ke,mentions:Ae,showCracker:G,crackerRunning:V,onToggleCracker:()=>re(te=>!te),onMarkAllRead:Et});return F.jsxs("div",{className:"flex flex-col h-dvh",children:[F.jsx(vy,{health:l,config:d,onConfigClick:()=>I(!0),onMaintenanceClick:()=>z(!0),onAdvertise:fn,onMenuClick:()=>H(!0)}),F.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[F.jsx("div",{className:"hidden md:block",children:we}),F.jsx(QC,{open:j,onOpenChange:H,children:F.jsxs(Tx,{side:"left",className:"w-[280px] p-0 flex flex-col",hideCloseButton:!0,children:[F.jsx(Dx,{className:"sr-only",children:F.jsx(Rx,{children:"Navigation"})}),F.jsx("div",{className:"flex-1 overflow-hidden",children:we})]})}),F.jsx("div",{className:"flex-1 flex flex-col bg-background min-w-0",children:C?C.type==="map"?F.jsxs(F.Fragment,{children:[F.jsx("div",{className:"flex justify-between items-center px-4 py-3 border-b border-border font-medium",children:"Node Map"}),F.jsx("div",{className:"flex-1 overflow-hidden",children:F.jsx(M2,{contacts:p})})]}):C.type==="raw"?F.jsxs(F.Fragment,{children:[F.jsx("div",{className:"flex justify-between items-center px-4 py-3 border-b border-border font-medium",children:"Raw Packet Feed"}),F.jsx("div",{className:"flex-1 overflow-hidden",children:F.jsx(c2,{packets:S})})]}):F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-border font-medium gap-2",children:[F.jsxs("span",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-2 min-w-0 flex-1",children:[F.jsxs("span",{className:"truncate",children:[C.type==="channel"&&!C.name.startsWith("#")?"#":"",C.name]}),F.jsxs("span",{className:"font-normal text-xs text-muted-foreground font-mono truncate",children:[C.id,C.type==="contact"&&(()=>{const te=p.find(xe=>xe.public_key===C.id);return te!=null&&te.last_seen?F.jsxs("span",{className:"ml-2 font-sans",children:["(Last heard: ",Ec(te.last_seen),")"]}):null})()]})]}),!(C.type==="channel"&&C.name==="Public")&&F.jsx("button",{className:"py-1 px-3 bg-destructive/20 border border-destructive/30 text-destructive rounded text-xs cursor-pointer hover:bg-destructive/30 flex-shrink-0",onClick:()=>{C.type==="channel"?St(C.id):Zt(C.id)},children:"Delete"})]}),F.jsx(S_,{messages:q,contacts:p,loading:me,loadingOlder:ne,hasOlderMessages:D,onSenderClick:C.type==="channel"?Sn:void 0,onLoadOlder:X,radioName:d==null?void 0:d.name}),F.jsx(R_,{ref:r,onSend:Ve?Se?Mt:dt:_t,disabled:!(l!=null&&l.radio_connected),isRepeaterMode:Ve&&!Se,conversationType:C.type,senderName:d==null?void 0:d.name,placeholder:l!=null&&l.radio_connected?Ve?Se?"Send CLI command (requires admin login)...":`Enter password for ${C.name} (or . for none)...`:`Message ${C.name}...`:"Radio not connected"})]}):F.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:"Select a conversation or start a new one"})})]}),F.jsx("div",{className:lt("border-t border-border bg-background transition-all duration-200 overflow-hidden",G?"h-[275px]":"h-0"),children:F.jsx(GC,{packets:S,channels:v,visible:G,onChannelCreate:async(te,xe)=>{const Ee=await at.createChannel(te,xe),He=await at.getChannels();w(He),await at.decryptHistoricalPackets({key_type:"channel",channel_key:Ee.key}),Xe()},onRunningChange:J})}),F.jsx(Yw,{open:P,contacts:p,undecryptedCount:K,onClose:()=>B(!1),onSelectConversation:te=>{E(te),B(!1)},onCreateContact:Zn,onCreateChannel:xn,onCreateHashtagChannel:pe}),F.jsx(o2,{open:k,config:d,appSettings:h,onClose:()=>I(!1),onSave:$t,onSaveAppSettings:Un,onSetPrivateKey:It,onReboot:Jt}),F.jsx(s2,{open:N,health:l,onClose:()=>z(!1),onHealthRefresh:async()=>{const te=await at.getHealth();f(te)}}),F.jsx(ay,{position:"top-right"})]})}Cv.createRoot(document.getElementById("root")).render(F.jsx(R.StrictMode,{children:F.jsx(tE,{})}));
//# sourceMappingURL=index-70eOpM-W.js.map
